/*! For license information please see main.158d2ee3.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+_(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+_(o=e[c],c);l+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,i,u=s+_(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:N};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=x,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,R(E);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(S),S=-1),p=!0;var s=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(w,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,T=null,S=-1,C=5,_=-1;function I(){return!(t.unstable_now()-_<C)}function j(){if(null!==T){var e=t.unstable_now();_=e;var n=!0;try{n=T(!0,e)}finally{n?N():(k=!1,T=null)}}else k=!1}if("function"===typeof x)N=function(){x(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=j,N=function(){P.postMessage(null)}}else N=function(){y(j,0)};function R(e){T=e,k||(k=!0,N())}function D(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(S),S=-1):g=!0,D(w,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(E))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var O,M=Object.assign;function V(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Ns){var r=Ns}Reflect.construct(e,[],t)}else{try{t.call()}catch(Ns){r=Ns}e.call(t.prototype)}else{try{throw Error()}catch(Ns){r=Ns}e()}}catch(Ns){if(Ns&&r&&"string"===typeof Ns.stack){for(var i=Ns.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case E:return"Portal";case T:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Uc){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ne=null,ke=null;function Te(e){if(e=xi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Se(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function _e(e,t){return e(t)}function Ie(){}var je=!1;function Ae(e,t,n){if(je)return e(t,n);je=!0;try{return _e(e,t,n)}finally{je=!1,(null!==Ne||null!==ke)&&(Ie(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Le(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(cv){this.onError(cv)}}var Oe=!1,Me=null,Ve=!1,Fe=null,Ue={onError:function(e){Oe=!0,Me=e}};function ze(e,t,n,r,i,s,a,o,l){Oe=!1,Me=null,Le.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,Nt,kt,Tt,St=!1,Ct=[],_t=null,It=null,jt=null,At=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Nt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Vt(e)&&n.delete(t)}function Ut(){St=!1,null!==_t&&Vt(_t)&&(_t=null),null!==It&&Vt(It)&&(It=null),null!==jt&&Vt(jt)&&(jt=null),At.forEach(Ft),Pt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&zt(_t,e),null!==It&&zt(It,e),null!==jt&&zt(jt,e),At.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var $t=b.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=xt,s=$t.transition;$t.transition=null;try{xt=1,Kt(e,t,n,r)}finally{xt=i,$t.transition=s}}function Wt(e,t,n,r){var i=xt,s=$t.transition;$t.transition=null;try{xt=4,Kt(e,t,n,r)}finally{xt=i,$t.transition=s}}function Kt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Ot(_t,e,t,n,r,i),!0;case"dragenter":return It=Ot(It,e,t,n,r,i),!0;case"mouseover":return jt=Ot(jt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Ot(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Ot(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=xi(i);if(null!==s&&wt(s),null===(s=Qt(e,t,n,r))&&Hr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(vn),bn=sn(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Tn(){return kn}var Sn=M({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Sn),_n=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),jn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(An),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var On=u&&"TextEvent"in window&&!Ln,Mn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function qn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Vr(e,0)}function Qn(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];qn(t,Kn,e,we(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(ov){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},kr={};function Tr(e){if(Nr[e])return Nr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Nr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Sr=Tr("animationend"),Cr=Tr("animationiteration"),_r=Tr("animationstart"),Ir=Tr("transitionend"),jr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){jr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Dr=Ar[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(_r,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var u=Me;Oe=!1,Me=null,Ve||(Ve=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Ve)throw e=Fe,Ve=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Yt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=s,i=we(n),a=[];e:{var o=jr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Sr:case Cr:case _r:l=yn;break;case Ir:l=jn;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&u.push(qr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=d;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Kr(u),d=Kr(d)}u=null}else u=null;null!==l&&Gr(a,o,l,u,!1),null!==c&&null!==h&&Gr(a,h,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Hn(o))if(Xn)g=ar;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Bn?Un(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Bn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Wr(r,x)).length&&(x=new bn(x,e,null,n,i),a.push({event:x,listeners:y}),v?x.data=v:null!==(v=zn(n))&&(x.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Vn);case"textInput":return(e=t.data)===Vn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Vr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Pe(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(qr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var Ei=[],Ni=-1;function ki(e){return{current:e}}function Ti(e){0>Ni||(e.current=Ei[Ni],Ei[Ni]=null,Ni--)}function Si(e,t){Ni++,Ei[Ni]=e.current,e.current=t}var Ci={},_i=ki(Ci),Ii=ki(!1),ji=Ci;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ii),Ti(_i)}function Di(e,t,n){if(_i.current!==Ci)throw Error(s(168));Si(_i,t),Si(Ii,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return M({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,ji=_i.current,Si(_i,e),Si(Ii,Ii.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ii),Ti(_i),Si(_i,e)):Ti(Ii),Si(Ii,n)}var Vi=null,Fi=!1,Ui=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!Ui&&null!==Vi){Ui=!0;var e=0,t=xt;try{var n=Vi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Fi=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ke(Ze,Bi),i}finally{xt=t,Ui=!1}}return null}var $i=[],Hi=0,qi=null,Wi=0,Ki=[],Gi=0,Qi=null,Yi=1,Xi="";function Ji(e,t){$i[Hi++]=Wi,$i[Hi++]=qi,qi=e,Wi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=$i[--Hi],$i[Hi]=null,Wi=$i[--Hi],$i[Hi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$c(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Fc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=zc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=$c(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case E:return(t=Hc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=zc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===o.length)return n(i,h),is&&Ji(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var x=f(i,m,v.value,c);if(null===x){null===m&&(m=y);break}e&&m&&null===x.alternate&&t(i,m),o=a(x,o,g),null===h?u=x:h.sibling=x,h=x,m=y}if(v.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(o=a(v,o,g),null===h?u=v:h.sibling=v,h=v);return is&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===N){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&vs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===N?((s=zc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Fc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case E:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Hc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(L(a))return g(r,s,a,l);ys(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=$c(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),Es=bs(!1),ks=ki(null),Ts=null,Ss=null,Cs=null;function _s(){Cs=Ss=Ts=null}function Is(e){var t=ks.current;Ti(ks),e._currentValue=t}function js(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function As(e,t){Ts=e,Cs=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ko=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===Ts)throw Error(s(308));Ss=e,Ts.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Ds=null;function Ls(e){null===Ds?Ds=[e]:Ds.push(e)}function Ms(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ls(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vs(e,r)}function Vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fs=!1;function Us(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $s(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vs(e,n)}return null===(i=r.interleaved)?(t.next=t,Ls(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vs(e,n)}function Hs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function qs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ws(e,t,n,r){var i=e.updateQueue;Fs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Fs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);zl|=a,e.lanes=a,e.memoizedState=h}}function Ks(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Gs={},Qs=ki(Gs),Ys=ki(Gs),Xs=ki(Gs);function Js(e){if(e===Gs)throw Error(s(174));return e}function Zs(e,t){switch(Si(Xs,t),Si(Ys,e),Si(Qs,Gs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Qs),Si(Qs,t)}function ea(){Ti(Qs),Ti(Ys),Ti(Xs)}function ta(e){Js(Xs.current);var t=Js(Qs.current),n=le(t,e.type);t!==n&&(Si(Ys,e),Si(Qs,n))}function na(e){Ys.current===e&&(Ti(Qs),Ti(Ys))}var ra=ki(0);function ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function aa(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var oa=b.ReactCurrentDispatcher,la=b.ReactCurrentBatchConfig,ca=0,ua=null,ha=null,da=null,fa=!1,pa=!1,ma=0,ga=0;function ya(){throw Error(s(321))}function va(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function xa(e,t,n,r,i,a){if(ca=a,ua=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?no:ro,e=n(r,i),pa){a=0;do{if(pa=!1,ma=0,25<=a)throw Error(s(301));a+=1,da=ha=null,t.updateQueue=null,oa.current=io,e=n(r,i)}while(pa)}if(oa.current=to,t=null!==ha&&null!==ha.next,ca=0,da=ha=ua=null,fa=!1,t)throw Error(s(300));return e}function ba(){var e=0!==ma;return ma=0,e}function wa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===da?ua.memoizedState=da=e:da=da.next=e,da}function Ea(){if(null===ha){var e=ua.alternate;e=null!==e?e.memoizedState:null}else e=ha.next;var t=null===da?ua.memoizedState:da.next;if(null!==t)da=t,ha=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ha=e).memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},null===da?ua.memoizedState=da=e:da=da.next=e}return da}function Na(e,t){return"function"===typeof t?t(e):t}function ka(e){var t=Ea(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ha,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((ca&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,ua.lanes|=h,zl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(ko=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ua.lanes|=a,zl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Ea(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(ko=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ca(e,t){var n=ua,r=Ea(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,ko=!0),r=r.queue,Fa(ja.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==da&&1&da.memoizedState.tag){if(n.flags|=2048,Da(9,Ia.bind(null,n,r,i,t),void 0,null),null===Dl)throw Error(s(349));0!==(30&ca)||_a(n,t,i)}return i}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Pa(e)}function ja(e,t,n){return n((function(){Aa(t)&&Pa(e)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(ov){return!0}}function Pa(e){var t=Vs(e,1);null!==t&&oc(t,e,1,-1)}function Ra(e){var t=wa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,ua,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function La(){return Ea().memoizedState}function Oa(e,t,n,r){var i=wa();ua.flags|=e,i.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function Ma(e,t,n,r){var i=Ea();r=void 0===r?null:r;var s=void 0;if(null!==ha){var a=ha.memoizedState;if(s=a.destroy,null!==r&&va(r,a.deps))return void(i.memoizedState=Da(t,n,s,r))}ua.flags|=e,i.memoizedState=Da(1|t,n,s,r)}function Va(e,t){return Oa(8390656,8,e,t)}function Fa(e,t){return Ma(2048,8,e,t)}function Ua(e,t){return Ma(4,2,e,t)}function za(e,t){return Ma(4,4,e,t)}function Ba(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4,4,Ba.bind(null,t,e),n)}function Ha(){}function qa(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return 0===(21&ca)?(e.baseState&&(e.baseState=!1,ko=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ua.lanes|=n,zl|=n,e.baseState=!0),t)}function Ga(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{xt=n,la.transition=r}}function Qa(){return Ea().memoizedState}function Ya(e,t,n){var r=ac(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))Za(t,n);else if(null!==(n=Ms(e,t,n,r))){oc(n,e,r,sc()),eo(n,t,r)}}function Xa(e,t,n){var r=ac(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Za(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ls(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Ns){}null!==(n=Ms(e,t,i,r))&&(oc(n,e,r,i=sc()),eo(n,t,r))}}function Ja(e){var t=e.alternate;return e===ua||null!==t&&t===ua}function Za(e,t){pa=fa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var to={readContext:Rs,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},no={readContext:Rs,useCallback:function(e,t){return wa().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=wa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ya.bind(null,ua,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wa().memoizedState=e},useState:Ra,useDebugValue:Ha,useDeferredValue:function(e){return wa().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=Ga.bind(null,e[1]),wa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ua,i=wa();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Dl)throw Error(s(349));0!==(30&ca)||_a(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(ja.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,Ia.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=wa(),t=Dl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ga++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ro={readContext:Rs,useCallback:qa,useContext:Rs,useEffect:Fa,useImperativeHandle:$a,useInsertionEffect:Ua,useLayoutEffect:za,useMemo:Wa,useReducer:ka,useRef:La,useState:function(){return ka(Na)},useDebugValue:Ha,useDeferredValue:function(e){return Ka(Ea(),ha.memoizedState,e)},useTransition:function(){return[ka(Na)[0],Ea().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ca,useId:Qa,unstable_isNewReconciler:!1},io={readContext:Rs,useCallback:qa,useContext:Rs,useEffect:Fa,useImperativeHandle:$a,useInsertionEffect:Ua,useLayoutEffect:za,useMemo:Wa,useReducer:Ta,useRef:La,useState:function(){return Ta(Na)},useDebugValue:Ha,useDeferredValue:function(e){var t=Ea();return null===ha?t.memoizedState=e:Ka(t,ha.memoizedState,e)},useTransition:function(){return[Ta(Na)[0],Ea().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ca,useId:Qa,unstable_isNewReconciler:!1};function ao(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function oo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var lo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sc(),i=ac(e),s=Bs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=$s(e,s,i))&&(oc(t,e,i,r),Hs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sc(),i=ac(e),s=Bs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=$s(e,s,i))&&(oc(t,e,i,r),Hs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sc(),r=ac(e),i=Bs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=$s(e,i,r))&&(oc(t,e,r,n),Hs(t,e,r))}};function co(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function uo(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Rs(s):(i=Pi(t)?ji:_i.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=lo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lo.enqueueReplaceState(t,t.state,null)}function fo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Us(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Rs(s):(s=Pi(t)?ji:_i.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(oo(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&lo.enqueueReplaceState(i,i.state,null),Ws(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function po(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(uv){i="\nError generating stack: "+uv.message+"\n"+uv.stack}return{value:e,source:t,stack:i,digest:null}}function mo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function go(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var yo="function"===typeof WeakMap?WeakMap:Map;function vo(e,t,n){(n=Bs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,Yl=r),go(0,t)},n}function xo(e,t,n){(n=Bs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){go(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){go(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function bo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new yo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=jc.bind(null,e,t,n),t.then(e,e))}function wo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Eo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bs(-1,1)).tag=2,$s(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var No=b.ReactCurrentOwner,ko=!1;function To(e,t,n,r){t.child=null===e?Es(t,null,n,r):ws(t,e.child,n,r)}function So(e,t,n,r,i){n=n.render;var s=t.ref;return As(t,i),r=xa(e,t,n,r,s,i),n=ba(),null===e||ko?(is&&n&&es(t),t.flags|=1,To(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qo(e,t,i))}function Co(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Mc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,_o(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Vc(s,r)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ko=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Qo(e,t,i);0!==(131072&e.flags)&&(ko=!0)}}return Ao(e,t,n,r,i)}function Io(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Vl,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Vl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Si(Vl,Ml),Ml|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(Vl,Ml),Ml|=r;return To(e,t,i,n),t.child}function jo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,n,r,i){var s=Pi(n)?ji:_i.current;return s=Ai(t,s),As(t,i),n=xa(e,t,n,r,s,i),r=ba(),null===e||ko?(is&&r&&es(t),t.flags|=1,To(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qo(e,t,i))}function Po(e,t,n,r,i){if(Pi(n)){var s=!0;Oi(t)}else s=!1;if(As(t,i),null===t.stateNode)Go(e,t),uo(t,n,r),fo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Rs(c):c=Ai(t,c=Pi(n)?ji:_i.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ho(t,a,r,c),Fs=!1;var d=t.memoizedState;a.state=d,Ws(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ii.current||Fs?("function"===typeof u&&(oo(t,n,u,r),l=t.memoizedState),(o=Fs||co(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,zs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ao(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Rs(l):l=Ai(t,l=Pi(n)?ji:_i.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ho(t,a,r,l),Fs=!1,d=t.memoizedState,a.state=d,Ws(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ii.current||Fs?("function"===typeof f&&(oo(t,n,f,r),p=t.memoizedState),(c=Fs||co(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ro(e,t,n,r,s,i)}function Ro(e,t,n,r,i,s){jo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Qo(e,t,s);r=t.stateNode,No.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):To(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Zs(e,t.containerInfo)}function Lo(e,t,n,r,i){return fs(),ps(i),t.flags|=256,To(e,t,n,r),t.child}var Oo,Mo,Vo,Fo,Uo={dehydrated:null,treeContext:null,retryLane:0};function zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bo(e,t,n){var r,i=t.pendingProps,a=ra.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(ra,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Bc(l,i,0,null),e=zc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=zo(n),t.memoizedState=Uo,e):$o(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Ho(e,t,o,r=mo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Bc({mode:"visible",children:r.children},i,0,null),(a=zc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=zo(o),t.memoizedState=Uo,a);if(0===(1&t.mode))return Ho(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ho(e,t,o,r=mo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),ko||l){if(null!==(r=Dl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Vs(e,i),oc(r,e,i,-1))}return bc(),Ho(e,t,o,r=mo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=$o(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Vc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Vc(r,o):(o=zc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?zo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Uo,i}return e=(o=e.child).sibling,i=Vc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function $o(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ho(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),js(e.return,t,n)}function Wo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ko(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(To(e,t,r.children,n),0!==(2&(r=ra.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qo(e,n,t);else if(19===e.tag)qo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ra,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wo(t,!0,n,null,s);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Vc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xo(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Xo(t),null;case 3:return r=t.stateNode,ea(),Ti(Ii),Ti(_i),aa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(hc(ss),ss=null))),Mo(e,t),Xo(t),null;case 5:na(t);var i=Js(Xs.current);if(n=t.type,null!==e&&null!=t.stateNode)Vo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Xo(t),null}if(e=Js(Qs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&x(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xo(t),null;case 6:if(e&&null!=t.stateNode)Fo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js(Xs.current),Js(Qs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Xo(t),null;case 13:if(Ti(ra),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xo(t),a=!1}else null!==ss&&(hc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ra.current)?0===Fl&&(Fl=3):bc())),null!==t.updateQueue&&(t.flags|=4),Xo(t),null);case 4:return ea(),Mo(e,t),null===e&&Br(t.stateNode.containerInfo),Xo(t),null;case 10:return Is(t.type._context),Xo(t),null;case 19:if(Ti(ra),null===(a=t.memoizedState))return Xo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Yo(a,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ia(e))){for(t.flags|=128,Yo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ra,1&ra.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Kl&&(t.flags|=128,r=!0,Yo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ia(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Yo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Xo(t),null}else 2*Xe()-a.renderingStartTime>Kl&&1073741824!==n&&(t.flags|=128,r=!0,Yo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ra.current,Si(ra,r?1&n|2:1&n),t):(Xo(t),null);case 22:case 23:return gc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Xo(t),6&t.subtreeFlags&&(t.flags|=8192)):Xo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Zo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ea(),Ti(Ii),Ti(_i),aa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return na(t),null;case 13:if(Ti(ra),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ra),null;case 4:return ea(),null;case 10:return Is(t.type._context),null;case 22:case 23:return gc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(){},Vo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Js(Qs.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Fo=function(e,t,n,r){n!==r&&(t.flags|=4)};var el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null;function il(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(ov){Ic(e,t,ov)}else n.current=null}function sl(e,t,n){try{n()}catch(ov){Ic(e,t,ov)}}var al=!1;function ol(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&sl(t,n,s)}i=i.next}while(i!==r)}}function ll(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ul(e){var t=e.alternate;null!==t&&(e.alternate=null,ul(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hl(e){return 5===e.tag||3===e.tag||4===e.tag}function dl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}var ml=null,gl=!1;function yl(e,t,n){for(n=n.child;null!==n;)vl(e,t,n),n=n.sibling}function vl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(hv){}switch(n.tag){case 5:tl||il(n,t);case 6:var r=ml,i=gl;ml=null,yl(e,t,n),gl=i,null!==(ml=r)&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ml.removeChild(n.stateNode));break;case 18:null!==ml&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ml,n.stateNode));break;case 4:r=ml,i=gl,ml=n.stateNode.containerInfo,gl=!0,yl(e,t,n),ml=r,gl=i;break;case 0:case 11:case 14:case 15:if(!tl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&sl(n,t,a),i=i.next}while(i!==r)}yl(e,t,n);break;case 1:if(!tl&&(il(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(hv){Ic(n,t,hv)}yl(e,t,n);break;case 21:yl(e,t,n);break;case 22:1&n.mode?(tl=(r=tl)||null!==n.memoizedState,yl(e,t,n),tl=r):yl(e,t,n);break;default:yl(e,t,n)}}function xl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new nl),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function bl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ml=l.stateNode,gl=!1;break e;case 3:case 4:ml=l.stateNode.containerInfo,gl=!0;break e}l=l.return}if(null===ml)throw Error(s(160));vl(a,o,i),ml=null,gl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Ns){Ic(i,t,Ns)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)wl(t,e),t=t.sibling}function wl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bl(t,e),El(e),4&r){try{ol(3,e,e.return),ll(3,e)}catch(g){Ic(e,e.return,g)}try{ol(5,e,e.return)}catch(g){Ic(e,e.return,g)}}break;case 1:bl(t,e),El(e),512&r&&null!==n&&il(n,n.return);break;case 5:if(bl(t,e),El(e),512&r&&null!==n&&il(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Ic(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),xe(l,o);var u=xe(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):x(i,h,d,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ic(e,e.return,g)}}break;case 6:if(bl(t,e),El(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ic(e,e.return,g)}}break;case 3:if(bl(t,e),El(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ic(e,e.return,g)}break;case 4:default:bl(t,e),El(e);break;case 13:bl(t,e),El(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Wl=Xe())),4&r&&xl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(tl=(u=tl)||h,bl(t,e),tl=u):bl(t,e),El(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(rl=e,h=e.child;null!==h;){for(d=rl=h;null!==rl;){switch(p=(f=rl).child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:il(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ic(r,n,g)}}break;case 5:il(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(d);continue}}null!==p?(p.return=f,rl=p):Sl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Ic(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ic(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bl(t,e),El(e),4&r&&xl(e);case 21:}}function El(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(hl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),pl(e,dl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;fl(e,dl(e),a);break;default:throw Error(s(161))}}catch(xs){Ic(e,e.return,xs)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Nl(e,t,n){rl=e,kl(e,t,n)}function kl(e,t,n){for(var r=0!==(1&e.mode);null!==rl;){var i=rl,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||el;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||tl;o=el;var c=tl;if(el=a,(tl=l)&&!c)for(rl=i;null!==rl;)l=(a=rl).child,22===a.tag&&null!==a.memoizedState?Cl(i):null!==l?(l.return=a,rl=l):Cl(i);for(;null!==s;)rl=s,kl(s,t,n),s=s.sibling;rl=i,el=o,tl=c}Tl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,rl=s):Tl(e)}}function Tl(e){for(;null!==rl;){var t=rl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:tl||ll(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ao(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ks(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ks(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}tl||512&t.flags&&cl(t)}catch(Ps){Ic(t,t.return,Ps)}}if(t===e){rl=null;break}if(null!==(n=t.sibling)){n.return=t.return,rl=n;break}rl=t.return}}function Sl(e){for(;null!==rl;){var t=rl;if(t===e){rl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,rl=n;break}rl=t.return}}function Cl(e){for(;null!==rl;){var t=rl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(xs){Ic(t,n,xs)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(xs){Ic(t,i,xs)}}var s=t.return;try{cl(t)}catch(xs){Ic(t,s,xs)}break;case 5:var a=t.return;try{cl(t)}catch(xs){Ic(t,a,xs)}}}catch(xs){Ic(t,t.return,xs)}if(t===e){rl=null;break}var o=t.sibling;if(null!==o){o.return=t.return,rl=o;break}rl=t.return}}var _l,Il=Math.ceil,jl=b.ReactCurrentDispatcher,Al=b.ReactCurrentOwner,Pl=b.ReactCurrentBatchConfig,Rl=0,Dl=null,Ll=null,Ol=0,Ml=0,Vl=ki(0),Fl=0,Ul=null,zl=0,Bl=0,$l=0,Hl=null,ql=null,Wl=0,Kl=1/0,Gl=null,Ql=!1,Yl=null,Xl=null,Jl=!1,Zl=null,ec=0,tc=0,nc=null,rc=-1,ic=0;function sc(){return 0!==(6&Rl)?Xe():-1!==rc?rc:rc=Xe()}function ac(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Ol?Ol&-Ol:null!==ms.transition?(0===ic&&(ic=mt()),ic):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function oc(e,t,n,r){if(50<tc)throw tc=0,nc=null,Error(s(185));yt(e,n,r),0!==(2&Rl)&&e===Dl||(e===Dl&&(0===(2&Rl)&&(Bl|=n),4===Fl&&dc(e,Ol)),lc(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Kl=Xe()+500,Fi&&Bi()))}function lc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Dl?Ol:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(fc.bind(null,e)):zi(fc.bind(null,e)),ai((function(){0===(6&Rl)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dc(n,cc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cc(e,t){if(rc=-1,ic=0,0!==(6&Rl))throw Error(s(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=dt(e,e===Dl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=wc(e,r);else{t=r;var i=Rl;Rl|=2;var a=xc();for(Dl===e&&Ol===t||(Gl=null,Kl=Xe()+500,yc(e,t));;)try{Nc();break}catch(hv){vc(e,hv)}_s(),jl.current=a,Rl=i,null!==Ll?t=0:(Dl=null,Ol=0,t=Fl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=uc(e,i))),1===t)throw n=Ul,yc(e,0),dc(e,r),lc(e,Xe()),n;if(6===t)dc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=wc(e,r))&&(0!==(a=pt(e))&&(r=a,t=uc(e,a))),1===t))throw n=Ul,yc(e,0),dc(e,r),lc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Sc(e,ql,Gl);break;case 3:if(dc(e,r),(130023424&r)===r&&10<(t=Wl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){sc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,ql,Gl),t);break}Sc(e,ql,Gl);break;case 4:if(dc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,ql,Gl),r);break}Sc(e,ql,Gl);break;default:throw Error(s(329))}}}return lc(e,Xe()),e.callbackNode===n?cc.bind(null,e):null}function uc(e,t){var n=Hl;return e.current.memoizedState.isDehydrated&&(yc(e,t).flags|=256),2!==(e=wc(e,t))&&(t=ql,ql=n,null!==t&&hc(t)),e}function hc(e){null===ql?ql=e:ql.push.apply(ql,e)}function dc(e,t){for(t&=~$l,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function fc(e){if(0!==(6&Rl))throw Error(s(327));Cc();var t=dt(e,0);if(0===(1&t))return lc(e,Xe()),null;var n=wc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=uc(e,r))}if(1===n)throw n=Ul,yc(e,0),dc(e,t),lc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,ql,Gl),lc(e,Xe()),null}function pc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Kl=Xe()+500,Fi&&Bi())}}function mc(e){null!==Zl&&0===Zl.tag&&0===(6&Rl)&&Cc();var t=Rl;Rl|=1;var n=Pl.transition,r=xt;try{if(Pl.transition=null,xt=1,e)return e()}finally{xt=r,Pl.transition=n,0===(6&(Rl=t))&&Bi()}}function gc(){Ml=Vl.current,Ti(Vl)}function yc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:ea(),Ti(Ii),Ti(_i),aa();break;case 5:na(r);break;case 4:ea();break;case 13:case 19:Ti(ra);break;case 10:Is(r.type._context);break;case 22:case 23:gc()}n=n.return}if(Dl=e,Ll=e=Vc(e.current,null),Ol=Ml=t,Fl=0,Ul=null,$l=Bl=zl=0,ql=Hl=null,null!==Ds){for(t=0;t<Ds.length;t++)if(null!==(r=(n=Ds[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ds=null}return e}function vc(e,t){for(;;){var n=Ll;try{if(_s(),oa.current=to,fa){for(var r=ua.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}fa=!1}if(ca=0,da=ha=ua=null,pa=!1,ma=0,Al.current=null,null===n||null===n.return){Fl=1,Ul=t,Ll=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=wo(o);if(null!==p){p.flags&=-257,Eo(p,o,l,0,t),1&p.mode&&bo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){bo(a,u,t),bc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=wo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Eo(y,o,l,0,t),ps(po(c,l));break e}}a=c=po(c,l),4!==Fl&&(Fl=2),null===Hl?Hl=[a]:Hl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,qs(a,vo(0,c,t));break e;case 1:l=c;var v=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xl||!Xl.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,qs(a,xo(a,l,t));break e}}a=a.return}while(null!==a)}Tc(n)}catch(Os){t=Os,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function xc(){var e=jl.current;return jl.current=to,null===e?to:e}function bc(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Dl||0===(268435455&zl)&&0===(268435455&Bl)||dc(Dl,Ol)}function wc(e,t){var n=Rl;Rl|=2;var r=xc();for(Dl===e&&Ol===t||(Gl=null,yc(e,t));;)try{Ec();break}catch(i){vc(e,i)}if(_s(),Rl=n,jl.current=r,null!==Ll)throw Error(s(261));return Dl=null,Ol=0,Fl}function Ec(){for(;null!==Ll;)kc(Ll)}function Nc(){for(;null!==Ll&&!Qe();)kc(Ll)}function kc(e){var t=_l(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?Tc(e):Ll=t,Al.current=null}function Tc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Jo(n,t,Ml)))return void(Ll=n)}else{if(null!==(n=Zo(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return Fl=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Fl&&(Fl=5)}function Sc(e,t,n){var r=xt,i=Pl.transition;try{Pl.transition=null,xt=1,function(e,t,n,r){do{Cc()}while(null!==Zl);if(0!==(6&Rl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Dl&&(Ll=Dl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Dc(tt,(function(){return Cc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Pl.transition,Pl.transition=null;var o=xt;xt=1;var l=Rl;Rl|=4,Al.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(so){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){t=rl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ao(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(so){Ic(t,t.return,so)}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}m=al,al=!1}(e,n),wl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,Nl(n,e,i),Ye(),Rl=l,xt=o,Pl.transition=a}else e.current=n;if(Jl&&(Jl=!1,Zl=e,ec=i),a=e.pendingLanes,0===a&&(Xl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ql)throw Ql=!1,e=Yl,Yl=null,e;0!==(1&ec)&&0!==e.tag&&Cc(),a=e.pendingLanes,0!==(1&a)?e===nc?tc++:(tc=0,nc=e):tc=0,Bi()}(e,t,n,r)}finally{Pl.transition=i,xt=r}return null}function Cc(){if(null!==Zl){var e=bt(ec),t=Pl.transition,n=xt;try{if(Pl.transition=null,xt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,ec=0,0!==(6&Rl))throw Error(s(331));var i=Rl;for(Rl|=4,rl=e.current;null!==rl;){var a=rl,o=a.child;if(0!==(16&rl.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(rl=u;null!==rl;){var h=rl;switch(h.tag){case 0:case 11:case 15:ol(8,h,a)}var d=h.child;if(null!==d)d.return=h,rl=d;else for(;null!==rl;){var f=(h=rl).sibling,p=h.return;if(ul(h),h===u){rl=null;break}if(null!==f){f.return=p,rl=f;break}rl=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}rl=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,rl=o;else e:for(;null!==rl;){if(0!==(2048&(a=rl).flags))switch(a.tag){case 0:case 11:case 15:ol(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,rl=v;break e}rl=a.return}}var x=e.current;for(rl=x;null!==rl;){var b=(o=rl).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,rl=b;else e:for(o=x;null!==rl;){if(0!==(2048&(l=rl).flags))try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(Os){Ic(l,l.return,Os)}if(l===o){rl=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,rl=w;break e}rl=l.return}}if(Rl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(Os){}r=!0}return r}finally{xt=n,Pl.transition=t}}return!1}function _c(e,t,n){e=$s(e,t=vo(0,t=po(n,t),1),1),t=sc(),null!==e&&(yt(e,1,t),lc(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=$s(t,e=xo(t,e=po(n,e),1),1),e=sc(),null!==t&&(yt(t,1,e),lc(t,e));break}}t=t.return}}function jc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=sc(),e.pingedLanes|=e.suspendedLanes&n,Dl===e&&(Ol&n)===n&&(4===Fl||3===Fl&&(130023424&Ol)===Ol&&500>Xe()-Wl?yc(e,0):$l|=n),lc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=sc();null!==(e=Vs(e,t))&&(yt(e,t,n),lc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ac(e,n)}function Dc(e,t){return Ke(e,t)}function Lc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Lc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Mc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return zc(n.children,i,a,t);case k:o=8,i|=8;break;case T:return(e=Oc(12,n,t,2|i)).elementType=T,e.lanes=a,e;case I:return(e=Oc(13,n,t,i)).elementType=I,e.lanes=a,e;case j:return(e=Oc(19,n,t,i)).elementType=j,e.lanes=a,e;case R:return Bc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case C:o=9;break e;case _:o=11;break e;case A:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Oc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function zc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Bc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function $c(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Hc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,r,i,s,a,o,l){return e=new qc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Us(s),e}function Kc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Gc(e,t,n,r,i,s,a,o,l){return(e=Wc(n,r,!0,e,0,s,0,o,l)).context=Kc(null),n=e.current,(s=Bs(r=sc(),i=ac(n))).callback=void 0!==t&&null!==t?t:null,$s(n,s,i),e.current.lanes=i,yt(e,i,r),lc(e,r),e}function Qc(e,t,n,r){var i=t.current,s=sc(),a=ac(i);return n=Kc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$s(i,t,a))&&(oc(e,i,a,s),Hs(e,i,a)),a}function Yc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Jc(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)ko=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ko=!1,function(e,t,n){switch(t.tag){case 3:Do(t),fs();break;case 5:ta(t);break;case 1:Pi(t.type)&&Oi(t);break;case 4:Zs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ks,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ra,1&ra.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(Si(ra,1&ra.current),null!==(e=Qo(e,t,n))?e.sibling:null);Si(ra,1&ra.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ko(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ra,ra.current),r)break;return null;case 22:case 23:return t.lanes=0,Io(e,t,n)}return Qo(e,t,n)}(e,t,n);ko=0!==(131072&e.flags)}else ko=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Go(e,t),e=t.pendingProps;var i=Ai(t,_i.current);As(t,n),i=xa(null,t,r,e,i,n);var a=ba();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Oi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Us(t),i.updater=lo,t.stateNode=i,i._reactInternals=t,fo(t,r,e,n),t=Ro(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),To(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===A)return 14}return 2}(r),e=ao(r,e),i){case 0:t=Ao(null,t,r,e,n);break e;case 1:t=Po(null,t,r,e,n);break e;case 11:t=So(null,t,r,e,n);break e;case 14:t=Co(null,t,r,ao(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ao(e,t,r,i=t.elementType===r?i:ao(r,i),n);case 1:return r=t.type,i=t.pendingProps,Po(e,t,r,i=t.elementType===r?i:ao(r,i),n);case 3:e:{if(Do(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,zs(e,t),Ws(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Lo(e,t,r,n,i=po(Error(s(423)),t));break e}if(r!==i){t=Lo(e,t,r,n,i=po(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Qo(e,t,n);break e}To(e,t,r,n)}t=t.child}return t;case 5:return ta(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),jo(e,t),To(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Bo(e,t,n);case 4:return Zs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):To(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:ao(r,i),n);case 7:return To(e,t,t.pendingProps,n),t.child;case 8:case 12:return To(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Si(ks,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ii.current){t=Qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Bs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),js(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),js(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}To(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,As(t,n),r=r(i=Rs(i)),t.flags|=1,To(e,t,r,n),t.child;case 14:return i=ao(r=t.type,t.pendingProps),Co(e,t,r,i=ao(r.type,i),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ao(r,i),Go(e,t),t.tag=1,Pi(r)?(e=!0,Oi(t)):e=!1,As(t,n),uo(t,r,i),fo(t,r,i,n),Ro(null,t,r,!0,e,n);case 19:return Ko(e,t,n);case 22:return Io(e,t,n)}throw Error(s(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function eu(e){this._internalRoot=e}function tu(e){this._internalRoot=e}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ru(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function iu(){}function su(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Yc(a);o.call(e)}}Qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Yc(a);s.call(e)}}var a=Gc(t,r,e,0,null,!1,0,"",iu);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),mc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Yc(l);o.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",iu);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),mc((function(){Qc(t,l,n,r)})),l}(n,t,e,i,r);return Yc(a)}tu.prototype.render=eu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Qc(e,t,null,null)},tu.prototype.unmount=eu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mc((function(){Qc(null,e,null,null)})),t[pi]=null}},tu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),lc(t,Xe()),0===(6&Rl)&&(Kl=Xe()+500,Bi()))}break;case 13:mc((function(){var t=Vs(e,1);if(null!==t){var n=sc();oc(t,e,1,n)}})),Jc(e,1)}},Et=function(e){if(13===e.tag){var t=Vs(e,134217728);if(null!==t)oc(t,e,134217728,sc());Jc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=ac(e),n=Vs(e,t);if(null!==n)oc(n,e,t,sc());Jc(e,t)}},kt=function(){return xt},Tt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=pc,Ie=mc;var au={usingClientEntryPoint:!1,Events:[xi,bi,wi,Se,Ce,pc]},ou={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lu={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{it=cu.inject(lu),st=cu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!nu(e))throw Error(s(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new eu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return mc(e)},t.hydrate=function(e,t,n){if(!ru(t))throw Error(s(200));return su(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!nu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Gc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new tu(t)},t.render=function(e,t,n){if(!ru(t))throw Error(s(200));return su(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ru(e))throw Error(s(40));return!!e._reactRootContainer&&(mc((function(){su(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=pc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ru(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return su(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),s=n.t(i,2),a=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,p=r.Pop,m=null,g=y();function y(){return(u.state||{idx:null}).idx}function v(){p=r.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:p,location:b.location,delta:t})}function x(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let b={get action(){return p},get location(){return e(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,v),m=e,()=>{s.removeEventListener(l,v),m=null}},createHref:e=>t(s,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=d(b.location,e,t);n&&n(i,e),g=y()+1;let o=h(i,g),l=b.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&m&&m({action:p,location:b.location,delta:1})},replace:function(e,t){p=r.Replace;let i=d(b.location,e,t);n&&n(i,e),g=y();let s=h(i,g),o=b.createHref(i);u.replaceState(s,"",o),a&&m&&m({action:p,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let i=P(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let s=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=A(i);a=I(s[o],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=M([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:_(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=b(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,E=3,N=2,k=1,T=10,S=-2,C=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=S),t&&(r+=N),n.filter((e=>!C(e))).reduce(((e,t)=>e+(w.test(t)?E:""===t?k:T)),r)}function I(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:M([s,u.pathname]),pathnameBase:V(M([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=M([s,u.pathnameBase]))}return a}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=D(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function O(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:F(r),hash:U(i)}}(i,s),h=l&&"/"!==l&&l.endsWith("/"),d=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],$=(new Set(B),["get",...B]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const q=i.createContext(null);const W=i.createContext(null);const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=i.createContext(null);function X(){return null!=i.useContext(G)}function J(){return X()||c(!1),i.useContext(G).location}function Z(e){i.useContext(K).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(Q);return e?function(){let{router:e}=ue(le.UseNavigateStable),t=de(ce.UseNavigateStable),n=i.useRef(!1);Z((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},i)))}),[e,t]);return r}():function(){X()||c(!1);let e=i.useContext(q),{basename:t,future:n,navigator:r}=i.useContext(K),{matches:s}=i.useContext(Q),{pathname:a}=J(),o=JSON.stringify(L(s,n.v7_relativeSplatPath)),l=i.useRef(!1);Z((()=>{l.current=!0}));let u=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=O(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,o,a,e]);return u}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(K),{matches:s}=i.useContext(Q),{pathname:a}=J(),o=JSON.stringify(L(s,r.v7_relativeSplatPath));return i.useMemo((()=>O(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function ne(e,t,n,s){X()||c(!1);let{navigator:a,static:o}=i.useContext(K),{matches:l}=i.useContext(Q),u=l[l.length-1],h=u?u.params:{},d=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let f,m=J();if(t){var g;let e="string"===typeof t?p(t):t;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||c(!1),f=e}else f=m;let v=f.pathname||"/",x=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!o&&n&&n.matches&&n.matches.length>0?n.matches:y(e,{pathname:x});let w=oe(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:M([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,s);return t&&w?i.createElement(G.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},w):w}function re(){let e=function(){var e;let t=i.useContext(Y),n=he(ce.UseRouteError),r=de(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const ie=i.createElement(re,null);class se extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Q.Provider,{value:this.props.routeContext},i.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(q);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Q.Provider,{value:t},r)}function oe(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,o=h>=0?o.slice(0,h+1):[o[0]];break}}}return o.reduceRight(((e,r,s)=>{let a,c=!1,d=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||ie,u&&(h<0&&0===s?(p="route-fallback",!1||fe[p]||(fe[p]=!0),c=!0,f=null):h===s&&(c=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?d:c?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ae,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(se,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=i.useContext(q);return t||c(!1),t}function he(e){let t=i.useContext(W);return t||c(!1),t}function de(e){let t=function(){let e=i.useContext(Q);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const fe={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function me(e){let{to:t,replace:n,state:r,relative:s}=e;X()||c(!1);let{future:a,static:o}=i.useContext(K),{matches:l}=i.useContext(Q),{pathname:u}=J(),h=ee(),d=O(t,L(l,a.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(d);return i.useEffect((()=>h(JSON.parse(f),{replace:n,state:r,relative:s})),[h,f,s,n,r]),null}function ge(e){c(!1)}function ye(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:u}=e;X()&&c(!1);let h=t.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:h,navigator:o,static:l,future:H({v7_relativeSplatPath:!1},u)})),[h,u,o,l]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:v="default"}=s,x=i.useMemo((()=>{let e=P(f,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:a}}),[h,f,m,g,y,v,a]);return null==x?null:i.createElement(K.Provider,{value:d},i.createElement(G.Provider,{children:n,value:x}))}function ve(e){let{children:t,location:n}=e;return ne(xe(t),n)}new Promise((()=>{}));i.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,xe(e.props.children,s));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xe(e.props.children,s)),n.push(a)})),n}const be=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(be(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Ee;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ne=function(e){return function(e){const t=be(e);return we.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ke=function(e){try{return we.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const Te=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Se=()=>{try{return Te()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&ke(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Ce=e=>{var t,n;return null===(n=null===(t=Se())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},_e=()=>{var e;return null===(e=Se())||void 0===e?void 0:e.config},Ie=e=>{var t;return null===(t=Se())||void 0===t?void 0:t[`_${e}`]};class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ae(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Pe(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Re extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Le,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Re(n,s,t)}}const Le=/\{\$([^}]+)}/g;function Oe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Me(n)&&Me(s)){if(!Oe(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Me(e){return null!==e&&"object"===typeof e}function Ve(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Fe(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ue(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ze{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Be),void 0===r.error&&(r.error=Be),void 0===r.complete&&(r.complete=Be);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Be(){}function $e(e){return e&&e._delegate?e._delegate:e}class He{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qe="[DEFAULT]";class We{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new je;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qe})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===qe?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;return this.component?this.component.multipleInstances?e:qe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ke{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new We(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ge=[];var Qe;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Qe||(Qe={}));const Ye={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},Xe=Qe.INFO,Je={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},Ze=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Je[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class et{constructor(e){this.name=e,this._logLevel=Xe,this._logHandler=Ze,this._userLogHandler=null,Ge.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ye[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...t),this._logHandler(this,Qe.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...t),this._logHandler(this,Qe.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...t),this._logHandler(this,Qe.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...t),this._logHandler(this,Qe.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...t),this._logHandler(this,Qe.ERROR,...t)}}let tt,nt;const rt=new WeakMap,it=new WeakMap,st=new WeakMap,at=new WeakMap,ot=new WeakMap;let lt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return it.get(e);if("objectStoreNames"===t)return e.objectStoreNames||st.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ht(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ct(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(nt||(nt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(dt(this),n),ht(rt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ht(e.apply(dt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(dt(this),t,...r);return st.set(s,t.sort?t.sort():[t]),ht(s)}}function ut(e){return"function"===typeof e?ct(e):(e instanceof IDBTransaction&&function(e){if(it.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));it.set(e,t)}(e),t=e,(tt||(tt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,lt):e);var t}function ht(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ht(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&rt.set(t,e)})).catch((()=>{})),ot.set(t,e),t}(e);if(at.has(e))return at.get(e);const t=ut(e);return t!==e&&(at.set(e,t),ot.set(t,e)),t}const dt=e=>ot.get(e);const ft=["get","getKey","getAll","getAllKeys","count"],pt=["put","add","delete","clear"],mt=new Map;function gt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(mt.get(t))return mt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=pt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ft.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return mt.set(t,s),s}lt=(e=>({...e,get:(t,n,r)=>gt(t,n)||e.get(t,n,r),has:(t,n)=>!!gt(t,n)||e.has(t,n)}))(lt);class yt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const vt="@firebase/app",xt="0.9.13",bt=new et("@firebase/app"),wt="@firebase/app-compat",Et="@firebase/analytics-compat",Nt="@firebase/analytics",kt="@firebase/app-check-compat",Tt="@firebase/app-check",St="@firebase/auth",Ct="@firebase/auth-compat",_t="@firebase/database",It="@firebase/database-compat",jt="@firebase/functions",At="@firebase/functions-compat",Pt="@firebase/installations",Rt="@firebase/installations-compat",Dt="@firebase/messaging",Lt="@firebase/messaging-compat",Ot="@firebase/performance",Mt="@firebase/performance-compat",Vt="@firebase/remote-config",Ft="@firebase/remote-config-compat",Ut="@firebase/storage",zt="@firebase/storage-compat",Bt="@firebase/firestore",$t="@firebase/firestore-compat",Ht="firebase",qt="[DEFAULT]",Wt={[vt]:"fire-core",[wt]:"fire-core-compat",[Nt]:"fire-analytics",[Et]:"fire-analytics-compat",[Tt]:"fire-app-check",[kt]:"fire-app-check-compat",[St]:"fire-auth",[Ct]:"fire-auth-compat",[_t]:"fire-rtdb",[It]:"fire-rtdb-compat",[jt]:"fire-fn",[At]:"fire-fn-compat",[Pt]:"fire-iid",[Rt]:"fire-iid-compat",[Dt]:"fire-fcm",[Lt]:"fire-fcm-compat",[Ot]:"fire-perf",[Mt]:"fire-perf-compat",[Vt]:"fire-rc",[Ft]:"fire-rc-compat",[Ut]:"fire-gcs",[zt]:"fire-gcs-compat",[Bt]:"fire-fst",[$t]:"fire-fst-compat","fire-js":"fire-js",[Ht]:"fire-js-all"},Kt=new Map,Gt=new Map;function Qt(e,t){try{e.container.addComponent(t)}catch(n){bt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Yt(e){const t=e.name;if(Gt.has(t))return bt.debug(`There were multiple attempts to register component ${t}.`),!1;Gt.set(t,e);for(const n of Kt.values())Qt(n,e);return!0}function Xt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Jt=new De("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new He("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jt.create("app-deleted",{appName:this._name})}}const en="9.23.0";function tn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:qt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Jt.create("bad-app-name",{appName:String(i)});if(n||(n=_e()),!n)throw Jt.create("no-options");const s=Kt.get(i);if(s){if(Oe(n,s.options)&&Oe(r,s.config))return s;throw Jt.create("duplicate-app",{appName:i})}const a=new Ke(i);for(const l of Gt.values())a.addComponent(l);const o=new Zt(n,r,a);return Kt.set(i,o),o}function nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;const t=Kt.get(e);if(!t&&e===qt&&_e())return tn();if(!t)throw Jt.create("no-app",{appName:e});return t}function rn(e,t,n){var r;let i=null!==(r=Wt[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void bt.warn(e.join(" "))}Yt(new He(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const sn="firebase-heartbeat-store";let an=null;function on(){return an||(an=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=ht(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(ht(a.result),e.oldVersion,e.newVersion,ht(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(sn)}}).catch((e=>{throw Jt.create("idb-open",{originalErrorMessage:e.message})}))),an}async function ln(e,t){try{const n=(await on()).transaction(sn,"readwrite"),r=n.objectStore(sn);await r.put(t,cn(e)),await n.done}catch(n){if(n instanceof Re)bt.warn(n.message);else{const e=Jt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});bt.warn(e.message)}}}function cn(e){return`${e.name}!${e.options.appId}`}class un{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=hn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=hn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),fn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Ne(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function hn(){return(new Date).toISOString().substring(0,10)}class dn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Pe()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await on();return await t.transaction(sn).objectStore(sn).get(cn(e))}catch(t){if(t instanceof Re)bt.warn(t.message);else{const e=Jt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});bt.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ln(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ln(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function fn(e){return Ne(JSON.stringify({version:2,heartbeats:e})).length}var pn;pn="",Yt(new He("platform-logger",(e=>new yt(e)),"PRIVATE")),Yt(new He("heartbeat",(e=>new un(e)),"PRIVATE")),rn(vt,xt,pn),rn(vt,xt,"esm2017"),rn("fire-js","");function mn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function gn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yn=gn,vn=new De("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xn=new et("@firebase/auth");function bn(e){if(xn.logLevel<=Qe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xn.error(`Auth (${en}): ${e}`,...n)}}function wn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw kn(e,...n)}function En(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kn(e,...n)}function Nn(e,t,n){const r=Object.assign(Object.assign({},yn()),{[t]:n});return new De("auth","Firebase",r).create(t,{appName:e.name})}function kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return vn.create(e,...n)}function Tn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw kn(t,...r)}}function Sn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw bn(t),new Error(t)}function Cn(e,t){e||Sn(t)}function _n(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function In(){return"http:"===jn()||"https:"===jn()}function jn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function An(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(In()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Pn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return An()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rn(e,t){Cn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Dn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ln={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},On=new Pn(3e4,6e4);function Mn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Vn(e,t,n,r){return Fn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Ve(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Dn.fetch()(zn(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function Fn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ln),t);try{const t=new Bn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw $n(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw $n(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw $n(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw $n(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Nn(e,o,a);wn(e,o)}}catch(i){if(i instanceof Re)throw i;wn(e,"network-request-failed",{message:String(i)})}}async function Un(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Vn(e,t,n,r,i);return"mfaPendingCredential"in s&&wn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function zn(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Rn(e.config,i):`${e.config.apiScheme}://${i}`}class Bn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(En(this.auth,"network-request-failed"))),On.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=En(e,t,r);return i.customData._tokenResponse=n,i}function Hn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function qn(e){return 1e3*Number(e)}function Wn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return bn("JWT malformed, contained fewer than 3 sections"),null;try{const e=ke(n);return e?JSON.parse(e):(bn("Failed to decode base64 JWT payload"),null)}catch(i){return bn("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function Kn(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Re&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Gn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Qn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hn(this.lastLoginAt),this.creationTime=Hn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yn(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Kn(e,async function(e,t){return Vn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Tn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=mn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Qn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Xn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tn(e.idToken,"internal-error"),Tn("undefined"!==typeof e.idToken,"internal-error"),Tn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Wn(e);return Tn(t,"internal-error"),Tn("undefined"!==typeof t.exp,"internal-error"),Tn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Tn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Fn(e,{},(async()=>{const n=Ve({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=zn(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Dn.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Xn;return n&&(Tn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Tn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Tn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xn,this.toJSON())}_performRefresh(){return Sn("not implemented")}}function Jn(e,t){Tn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Zn{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=mn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Kn(this,this.stsTokenManager.getToken(this.auth,e));return Tn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=$e(e),r=await n.getIdToken(t),i=Wn(r);Tn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Hn(qn(i.auth_time)),issuedAtTime:Hn(qn(i.iat)),expirationTime:Hn(qn(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=$e(e);await Yn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Tn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Tn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Yn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Kn(this,async function(e,t){return Vn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:E}=t;Tn(v&&E,e,"internal-error");const N=Xn.fromJSON(this.name,E);Tn("string"===typeof v,e,"internal-error"),Jn(u,e.name),Jn(h,e.name),Tn("boolean"===typeof x,e,"internal-error"),Tn("boolean"===typeof b,e,"internal-error"),Jn(d,e.name),Jn(f,e.name),Jn(p,e.name),Jn(m,e.name),Jn(g,e.name),Jn(y,e.name);const k=new Zn({uid:v,auth:e,email:h,emailVerified:x,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:N,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(k.providerData=w.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Xn;r.updateFromServerResponse(t);const i=new Zn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Yn(i),i}}const er=new Map;function tr(e){Cn(e instanceof Function,"Expected a class definition");let t=er.get(e);return t?(Cn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,er.set(e,t),t)}class nr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nr.type="NONE";const rr=nr;function ir(e,t,n){return`firebase:${e}:${t}:${n}`}class sr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ir(this.userKey,r.apiKey,i),this.fullPersistenceKey=ir("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new sr(tr(rr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||tr(rr);const s=ir(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Zn._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new sr(i,e,n)):new sr(i,e,n)}}function ar(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ur(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(or(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(dr(t))return"Blackberry";if(fr(t))return"Webos";if(lr(t))return"Safari";if((t.includes("chrome/")||cr(t))&&!t.includes("edge/"))return"Chrome";if(hr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae();return/firefox\//i.test(e)}function lr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae();return/crios\//i.test(e)}function ur(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae();return/iemobile/i.test(e)}function hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae();return/android/i.test(e)}function dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae();return/blackberry/i.test(e)}function fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae();return/webos/i.test(e)}function pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mr(){return function(){const e=Ae();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae();return pr(e)||hr(e)||fr(e)||dr(e)||/windows phone/i.test(e)||ur(e)}function yr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ar(Ae());break;case"Worker":t=`${ar(Ae())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${en}/${r}`}async function vr(e,t){return Vn(e,"GET","/v2/recaptchaConfig",Mn(e,t))}function xr(e){return void 0!==e&&void 0!==e.enterprise}class br{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function wr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=En("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Er(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Nr{constructor(e){this.type="recaptcha-enterprise",this.auth=Cr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;xr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{vr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new br(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&xr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));wr("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function kr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Nr(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class Tr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Sr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _r(this),this.idTokenSubscription=new _r(this),this.beforeStateQueue=new Tr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await sr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yn(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?$e(e):null;return t&&Tn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Tn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(tr(e))}))}async initializeRecaptchaConfig(){const e=await vr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new br(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Nr(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new De("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&tr(e)||this._popupRedirectResolver;Tn(t,this,"argument-error"),this.redirectPersistenceManager=await sr.create(this,[tr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Tn(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(xn.logLevel<=Qe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xn.warn(`Auth (${en}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Cr(e){return $e(e)}class _r{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ze(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Tn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ir(e,t,n){const r=Cr(e);Tn(r._canInitEmulator,r,"emulator-config-failed"),Tn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=jr(t),{host:a,port:o}=function(e){const t=jr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ar(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ar(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function jr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ar(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Pr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Sn("not implemented")}_getIdTokenResponse(e){return Sn("not implemented")}_linkToIdToken(e,t){return Sn("not implemented")}_getReauthenticationResolver(e){return Sn("not implemented")}}async function Rr(e,t){return Vn(e,"POST","/v1/accounts:update",t)}async function Dr(e,t){return Un(e,"POST","/v1/accounts:signInWithPassword",Mn(e,t))}async function Lr(e,t){return Vn(e,"POST","/v1/accounts:sendOobCode",Mn(e,t))}async function Or(e,t){return Lr(e,t)}class Mr extends Pr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Mr(e,t,"password")}static _fromEmailAndCode(e,t){return new Mr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await kr(e,n,"signInWithPassword");return Dr(e,t)}return Dr(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await kr(e,n,"signInWithPassword");return Dr(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return Un(e,"POST","/v1/accounts:signInWithEmailLink",Mn(e,t))}(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Rr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Un(e,"POST","/v1/accounts:signInWithEmailLink",Mn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Vr(e,t){return Un(e,"POST","/v1/accounts:signInWithIdp",Mn(e,t))}class Fr extends Pr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=mn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Fr(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Vr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Vr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ve(t)}return e}}const Ur={USER_NOT_FOUND:"user-not-found"};class zr extends Pr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new zr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new zr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Un(e,"POST","/v1/accounts:signInWithPhoneNumber",Mn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Un(e,"POST","/v1/accounts:signInWithPhoneNumber",Mn(e,t));if(n.temporaryProof)throw $n(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Un(e,"POST","/v1/accounts:signInWithPhoneNumber",Mn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ur)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new zr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Br{constructor(e){var t,n,r,i,s,a;const o=Fe(Ue(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Tn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Fe(Ue(e)).link,n=t?Fe(Ue(t)).deep_link_id:null,r=Fe(Ue(e)).deep_link_id;return(r?Fe(Ue(r)).link:null)||r||n||t||e}(e);try{return new Br(t)}catch(n){return null}}}class $r{constructor(){this.providerId=$r.PROVIDER_ID}static credential(e,t){return Mr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Br.parseLink(t);return Tn(n,"argument-error"),Mr._fromEmailAndCode(e,n.code,n.tenantId)}}$r.PROVIDER_ID="password",$r.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$r.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Hr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qr extends Hr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wr extends qr{constructor(){super("facebook.com")}static credential(e){return Fr._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Wr.credential(t.oauthAccessToken)}catch(n){return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Wr.PROVIDER_ID="facebook.com";class Kr extends qr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fr._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Kr.credential(n,r)}catch(i){return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com",Kr.PROVIDER_ID="google.com";class Gr extends qr{constructor(){super("github.com")}static credential(e){return Fr._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch(n){return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com",Gr.PROVIDER_ID="github.com";class Qr extends qr{constructor(){super("twitter.com")}static credential(e,t){return Fr._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Qr.credential(n,r)}catch(i){return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com",Qr.PROVIDER_ID="twitter.com";class Yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Zn._fromIdTokenResponse(e,n,r),s=Xr(n);return new Yr({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Xr(n);return new Yr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Xr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Jr extends Re{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Jr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Jr(e,t,n,r)}}function Zr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Jr._fromErrorAndOperation(e,n,t,r);throw n}))}async function ei(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Kn(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Yr._forOperation(e,"link",r)}async function ti(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Kn(e,Zr(r,i,t,e),n);Tn(s.idToken,r,"internal-error");const a=Wn(s.idToken);Tn(a,r,"internal-error");const{sub:o}=a;return Tn(e.uid===o,r,"user-mismatch"),Yr._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&wn(r,"user-mismatch"),s}}async function ni(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Zr(e,r,t),s=await Yr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function ri(e,t){return ni(Cr(e),t)}function ii(e,t,n){var r;Tn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Tn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Tn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Tn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}new WeakMap;const si="__sak";class ai{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(si,"1"),this.storage.removeItem(si),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class oi extends ai{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ae();return lr(e)||pr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=gr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);mr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oi.type="LOCAL";const li=oi;class ci extends ai{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ci.type="SESSION";const ui=ci;class hi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new hi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}hi.receivers=[];class fi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=di("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function pi(){return window}function mi(){return"undefined"!==typeof pi().WorkerGlobalScope&&"function"===typeof pi().importScripts}const gi="firebaseLocalStorageDb",yi="firebaseLocalStorage",vi="fbase_key";class xi{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function bi(e,t){return e.transaction([yi],t?"readwrite":"readonly").objectStore(yi)}function wi(){const e=indexedDB.open(gi,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(yi,{keyPath:vi})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(yi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(gi);return new xi(e).toPromise()}(),t(await wi()))}))}))}async function Ei(e,t,n){const r=bi(e,!0).put({[vi]:t,value:n});return new xi(r).toPromise()}function Ni(e,t){const n=bi(e,!0).delete(t);return new xi(n).toPromise()}class ki{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await wi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hi._getInstance(mi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new fi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wi();return await Ei(e,si,"1"),await Ni(e,si),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ei(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=bi(e,!1).get(t),r=await new xi(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ni(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=bi(e,!1).getAll();return new xi(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ki.type="LOCAL";const Ti=ki;Er("rcb"),new Pn(3e4,6e4);const Si="recaptcha";async function Ci(e,t,n){var r;const i=await n.verify();try{let s;if(Tn("string"===typeof i,e,"argument-error"),Tn(n.type===Si,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Tn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Vn(e,"POST","/v2/accounts/mfaEnrollment:start",Mn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Tn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Tn(n,e,"missing-multi-factor-info");const a=await function(e,t){return Vn(e,"POST","/v2/accounts/mfaSignIn:start",Mn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Vn(e,"POST","/v1/accounts:sendVerificationCode",Mn(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class _i{constructor(e){this.providerId=_i.PROVIDER_ID,this.auth=Cr(e)}verifyPhoneNumber(e,t){return Ci(this.auth,e,$e(t))}static credential(e,t){return zr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return _i.credentialFromTaggedObject(t)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?zr._fromTokenResponse(n,r):null}}function Ii(e,t){return t?tr(t):(Tn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}_i.PROVIDER_ID="phone",_i.PHONE_SIGN_IN_METHOD="phone";class ji extends Pr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ai(e){return ni(e.auth,new ji(e),e.bypassAuthState)}function Pi(e){const{auth:t,user:n}=e;return Tn(n,t,"internal-error"),ti(n,new ji(e),e.bypassAuthState)}async function Ri(e){const{auth:t,user:n}=e;return Tn(n,t,"internal-error"),ei(n,new ji(e),e.bypassAuthState)}class Di{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ai;case"linkViaPopup":case"linkViaRedirect":return Ri;case"reauthViaPopup":case"reauthViaRedirect":return Pi;default:wn(this.auth,"internal-error")}}resolve(e){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Li=new Pn(2e3,1e4);class Oi extends Di{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Oi.currentPopupAction&&Oi.currentPopupAction.cancel(),Oi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tn(e,this.auth,"internal-error"),e}async onExecution(){Cn(1===this.filter.length,"Popup operations only handle one event");const e=di();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(En(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Li.get())};e()}}Oi.currentPopupAction=null;const Mi=new Map;class Vi extends Di{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Mi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=zi(t),r=Ui(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Mi.set(this.auth._key(),e)}return this.bypassAuthState||Mi.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Fi(e,t){Mi.set(e._key(),t)}function Ui(e){return tr(e._redirectPersistence)}function zi(e){return ir("pendingRedirect",e.config.apiKey,e.name)}async function Bi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Cr(e),i=Ii(r,t),s=new Vi(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class $i{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!qi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(En(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hi(e))}saveEventToCache(e){this.cachedEventUids.add(Hi(e)),this.lastProcessedEventTime=Date.now()}}function Hi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function qi(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Wi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ki=/^https?/;async function Gi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Vn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Qi(r))return}catch(n){}wn(e,"unauthorized-domain")}function Qi(e){const t=_n(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ki.test(n))return!1;if(Wi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Yi=new Pn(3e4,6e4);function Xi(){const e=pi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Ji=null;function Zi(e){return Ji=Ji||function(e){return new Promise(((t,n)=>{var r,i,s;function a(){Xi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xi(),n(En(e,"network-request-failed"))},timeout:Yi.get()})}if(null===(i=null===(r=pi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=pi().gapi)||void 0===s?void 0:s.load)){const t=Er("iframefcb");return pi()[t]=()=>{gapi.load?a():n(En(e,"network-request-failed"))},wr(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Ji=null,e}))}(e),Ji}const es=new Pn(5e3,15e3),ts={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ns=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rs(e){const t=e.config;Tn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Rn(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:en},i=ns.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ve(r).slice(1)}`}const is={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ss{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function as(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},is),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ae().toLowerCase();n&&(o=cr(c)?"_blank":n),or(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return pr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new ss(null);const h=window.open(t||"",o,u);Tn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ss(h)}const os="__/auth/handler",ls="emulator/auth/handler",cs=encodeURIComponent("fac");async function us(e,t,n,r,i,s){Tn(e.config.authDomain,e,"auth-domain-config-required"),Tn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:en,eventId:i};if(t instanceof Hr){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof qr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${cs}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${os}`;return Rn(t,ls)}(e)}?${Ve(o).slice(1)}${c}`}const hs="webStorageSupport";const ds=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ui,this._completeRedirectFn=Bi,this._overrideRedirectResult=Fi}async _openPopup(e,t,n,r){var i;Cn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return as(e,await us(e,t,n,_n(),r),di())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){pi().location.href=e}(await us(e,t,n,_n(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Cn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Zi(e),n=pi().gapi;return Tn(n,e,"internal-error"),t.open({where:document.body,url:rs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ts,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=En(e,"network-request-failed"),s=pi().setTimeout((()=>{r(i)}),es.get());function a(){pi().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new $i(e);return t.register("authEvent",(t=>{Tn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hs,{type:hs},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[hs];void 0!==i&&t(!!i),wn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Gi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gr()||lr()||pr()}};var fs="@firebase/auth",ps="0.23.2";class ms{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Tn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const gs=Ie("authIdTokenMaxAge")||300;let ys=null;var vs;vs="Browser",Yt(new He("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Tn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:vs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yr(vs)},c=new Sr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(tr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Yt(new He("auth-internal",(e=>(e=>new ms(e))(Cr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),rn(fs,ps,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(vs)),rn(fs,ps,"esm2017");rn("firebase","9.23.0","app");var xs,bs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ws={},Es=Es||{},Ns=bs||self;function ks(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ts(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ss="closure_uid_"+(1e9*Math.random()>>>0),Cs=0;function _s(e,t,n){return e.call.apply(e.bind,arguments)}function Is(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function js(e,t,n){return(js=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_s:Is).apply(null,arguments)}function As(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ps(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Rs(){this.s=this.s,this.o=this.o}Rs.prototype.s=!1,Rs.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ss)&&e[Ss]||(e[Ss]=++Cs))},Rs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ds=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ls(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Os(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(ks(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Ms(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ms.prototype.h=function(){this.defaultPrevented=!0};var Vs=function(){if(!Ns.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ns.addEventListener("test",(()=>{}),t),Ns.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function Fs(e){return/^[\s\xa0]*$/.test(e)}function Us(){var e=Ns.navigator;return e&&(e=e.userAgent)?e:""}function zs(e){return-1!=Us().indexOf(e)}function Bs(e){return Bs[" "](e),e}Bs[" "]=function(){};var $s,Hs,qs=zs("Opera"),Ws=zs("Trident")||zs("MSIE"),Ks=zs("Edge"),Gs=Ks||Ws,Qs=zs("Gecko")&&!(-1!=Us().toLowerCase().indexOf("webkit")&&!zs("Edge"))&&!(zs("Trident")||zs("MSIE"))&&!zs("Edge"),Ys=-1!=Us().toLowerCase().indexOf("webkit")&&!zs("Edge");function Xs(){var e=Ns.document;return e?e.documentMode:void 0}e:{var Js="",Zs=function(){var e=Us();return Qs?/rv:([^\);]+)(\)|;)/.exec(e):Ks?/Edge\/([\d\.]+)/.exec(e):Ws?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ys?/WebKit\/(\S+)/.exec(e):qs?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Zs&&(Js=Zs?Zs[1]:""),Ws){var ea=Xs();if(null!=ea&&ea>parseFloat(Js)){$s=String(ea);break e}}$s=Js}if(Ns.document&&Ws){var ta=Xs();Hs=ta||(parseInt($s,10)||void 0)}else Hs=void 0;var na=Hs;function ra(e,t){if(Ms.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qs){e:{try{Bs(t.nodeName);var i=!0;break e}catch(uv){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ia[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ra.$.h.call(this)}}Ps(ra,Ms);var ia={2:"touch",3:"pen",4:"mouse"};ra.prototype.h=function(){ra.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var sa="closure_listenable_"+(1e6*Math.random()|0),aa=0;function oa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++aa,this.fa=this.ia=!1}function la(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ca(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ua(e){const t={};for(const n in e)t[n]=e[n];return t}const ha="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function da(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ha.length;t++)n=ha[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fa(e){this.src=e,this.g={},this.h=0}function pa(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Ds(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(la(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ma(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}fa.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=ma(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new oa(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var ga="closure_lm_"+(1e6*Math.random()|0),ya={};function va(e,t,n,r,i){if(r&&r.once)return ba(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)va(e,t[s],n,r,i);return null}return n=Ca(n),e&&e[sa]?e.O(t,n,Ts(r)?!!r.capture:!!r,i):xa(e,t,n,!1,r,i)}function xa(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Ts(i)?!!i.capture:!!i,o=Ta(e);if(o||(e[ga]=o=new fa(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ka;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Vs||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Na(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ba(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ba(e,t[s],n,r,i);return null}return n=Ca(n),e&&e[sa]?e.P(t,n,Ts(r)?!!r.capture:!!r,i):xa(e,t,n,!0,r,i)}function wa(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)wa(e,t[s],n,r,i);else r=Ts(r)?!!r.capture:!!r,n=Ca(n),e&&e[sa]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ma(s=e.g[t],n,r,i))&&(la(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Ta(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ma(t,n,r,i)),(n=-1<e?t[e]:null)&&Ea(n))}function Ea(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[sa])pa(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Na(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ta(t))?(pa(n,e),0==n.h&&(n.src=null,t[ga]=null)):la(e)}}}function Na(e){return e in ya?ya[e]:ya[e]="on"+e}function ka(e,t){if(e.fa)e=!0;else{t=new ra(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ea(e),e=n.call(r,t)}return e}function Ta(e){return(e=e[ga])instanceof fa?e:null}var Sa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ca(e){return"function"===typeof e?e:(e[Sa]||(e[Sa]=function(t){return e.handleEvent(t)}),e[Sa])}function _a(){Rs.call(this),this.i=new fa(this),this.S=this,this.J=null}function Ia(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Ms(t,e);else if(t instanceof Ms)t.target=t.target||e;else{var i=t;da(t=new Ms(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ja(a,r,!0,t)&&i}if(i=ja(a=t.g=e,r,!0,t)&&i,i=ja(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ja(a=t.g=n[s],r,!1,t)&&i}function ja(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&pa(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Ps(_a,Rs),_a.prototype[sa]=!0,_a.prototype.removeEventListener=function(e,t,n,r){wa(this,e,t,n,r)},_a.prototype.N=function(){if(_a.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)la(n[r]);delete t.g[e],t.h--}}this.J=null},_a.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_a.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Aa=Ns.JSON.stringify;function Pa(){var e=Fa;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ra=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Da),(e=>e.reset()));class Da{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function La(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Oa(e){Ns.setTimeout((()=>{throw e}),0)}let Ma,Va=!1,Fa=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ra.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ua=()=>{const e=Ns.Promise.resolve(void 0);Ma=()=>{e.then(za)}};var za=()=>{for(var e;e=Pa();){try{e.h.call(e.g)}catch(n){Oa(n)}var t=Ra;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Va=!1};function Ba(e,t){_a.call(this),this.h=e||1,this.g=t||Ns,this.j=js(this.qb,this),this.l=Date.now()}function $a(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ha(e,t,n){if("function"===typeof e)n&&(e=js(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=js(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ns.setTimeout(e,t||0)}function qa(e){e.g=Ha((()=>{e.g=null,e.i&&(e.i=!1,qa(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ps(Ba,_a),(xs=Ba.prototype).ga=!1,xs.T=null,xs.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ia(this,"tick"),this.ga&&($a(this),this.start()))}},xs.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xs.N=function(){Ba.$.N.call(this),$a(this),delete this.g};class Wa extends Rs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qa(this)}N(){super.N(),this.g&&(Ns.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ka(e){Rs.call(this),this.h=e,this.g={}}Ps(Ka,Rs);var Ga=[];function Qa(e,t,n,r){Array.isArray(n)||(n&&(Ga[0]=n.toString()),n=Ga);for(var i=0;i<n.length;i++){var s=va(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Ya(e){ca(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ea(e)}),e),e.g={}}function Xa(){this.g=!0}function Ja(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Aa(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Ka.prototype.N=function(){Ka.$.N.call(this),Ya(this)},Ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xa.prototype.Ea=function(){this.g=!1},Xa.prototype.info=function(){};var Za={},eo=null;function to(){return eo=eo||new _a}function no(e){Ms.call(this,Za.Ta,e)}function ro(e){const t=to();Ia(t,new no(t))}function io(e,t){Ms.call(this,Za.STAT_EVENT,e),this.stat=t}function so(e){const t=to();Ia(t,new io(t,e))}function ao(e,t){Ms.call(this,Za.Ua,e),this.size=t}function oo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ns.setTimeout((function(){e()}),t)}Za.Ta="serverreachability",Ps(no,Ms),Za.STAT_EVENT="statevent",Ps(io,Ms),Za.Ua="timingevent",Ps(ao,Ms);var lo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},co={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function uo(){}function ho(e){return e.h||(e.h=e.i())}function fo(){}uo.prototype.h=null;var po,mo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function go(){Ms.call(this,"d")}function yo(){Ms.call(this,"c")}function vo(){}function xo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ka(this),this.P=wo,e=Gs?125:void 0,this.V=new Ba(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bo}function bo(){this.i=null,this.g="",this.h=!1}Ps(go,Ms),Ps(yo,Ms),Ps(vo,uo),vo.prototype.g=function(){return new XMLHttpRequest},vo.prototype.i=function(){return{}},po=new vo;var wo=45e3,Eo={},No={};function ko(e,t,n){e.L=1,e.v=$o(Vo(t)),e.s=n,e.S=!0,To(e,null)}function To(e,t){e.G=Date.now(),Io(e),e.A=Vo(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),nl(n.i,"t",r),e.C=0,n=e.l.J,e.h=new bo,e.g=rc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Wa(js(e.Pa,e,e.g),e.O)),Qa(e.U,e.g,"readystatechange",e.nb),t=e.I?ua(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ro(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function So(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Co(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=_o(e,n),r==No){4==t&&(e.o=4,so(14),i=!1),Ja(e.j,e.m,null,"[Incomplete Response]");break}if(r==Eo){e.o=4,so(15),Ja(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ja(e.j,e.m,r,null),Do(e,r)}So(e)&&r!=No&&r!=Eo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,so(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ql(t),t.M=!0,so(11))):(Ja(e.j,e.m,n,"[Invalid Chunked Response]"),Ro(e),Po(e))}function _o(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?No:(n=Number(t.substring(n,r)),isNaN(n)?Eo:(r+=1)+n>t.length?No:(t=t.slice(r,r+n),e.C=r+n,t))}function Io(e){e.Y=Date.now()+e.P,jo(e,e.P)}function jo(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=oo(js(e.lb,e),t)}function Ao(e){e.B&&(Ns.clearTimeout(e.B),e.B=null)}function Po(e){0==e.l.H||e.J||Jl(e.l,e)}function Ro(e){Ao(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,$a(e.V),Ya(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Do(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||cl(n.i,e)))if(!e.K&&cl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(cv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Xl(n),zl(n)}Gl(n),so(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=oo(js(n.ib,n),6e3));if(1>=ll(n.i)&&n.oa){try{n.oa()}catch(cv){}n.oa=void 0}}else ec(n,11)}else if((e.K||n.g==e)&&Xl(n),!Fs(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ul(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Bo(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=nc(r,r.J?r.pa:null,r.Y),a.K){hl(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(Ao(o),Io(o)),r.g=a}else Kl(r);0<n.j.length&&$l(n)}else"stop"!=c[0]&&"close"!=c[0]||ec(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ec(n,7):Ul(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}ro()}catch(cv){}}function Lo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ks(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ks(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ks(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(xs=xo.prototype).setTimeout=function(e){this.P=e},xs.nb=function(e){e=e.target;const t=this.M;t&&3==Dl(e)?t.l():this.Pa(e)},xs.Pa=function(e){try{if(e==this.g)e:{const u=Dl(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Gs||this.g&&(this.h.h||this.g.ja()||Ll(this.g)))){this.J||4!=u||7==t||ro(),Ao(this);var n=this.g.da();this.ca=n;t:if(So(this)){var r=Ll(this.g);e="";var i=r.length,s=4==Dl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ro(this),Po(this);var a="";break t}this.h.i=new Ns.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fs(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,so(12),Ro(this),Po(this);break e}Ja(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Do(this,n)}this.S?(Co(this,u,a),Gs&&this.i&&3==u&&(Qa(this.U,this.V,"tick",this.mb),this.V.start())):(Ja(this.j,this.m,a,null),Do(this,a)),4==u&&Ro(this),this.i&&!this.J&&(4==u?Jl(this.l,this):(this.i=!1,Io(this)))}else(function(e){const t={};e=(e.g&&2<=Dl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Fs(e[r]))continue;var n=La(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,so(12)):(this.o=0,so(13)),Ro(this),Po(this)}}}catch(av){}},xs.mb=function(){if(this.g){var e=Dl(this.g),t=this.g.ja();this.C<t.length&&(Ao(this),Co(this,e,t),this.i&&4!=e&&Io(this))}},xs.cancel=function(){this.J=!0,Ro(this)},xs.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ro(),so(17)),Ro(this),this.o=2,Po(this)):jo(this,this.Y-e)};var Oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mo(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Mo){this.h=e.h,Fo(this,e.j),this.s=e.s,this.g=e.g,Uo(this,e.m),this.l=e.l;var t=e.i,n=new Jo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),zo(this,n),this.o=e.o}else e&&(t=String(e).match(Oo))?(this.h=!1,Fo(this,t[1]||"",!0),this.s=Ho(t[2]||""),this.g=Ho(t[3]||"",!0),Uo(this,t[4]),this.l=Ho(t[5]||"",!0),zo(this,t[6]||"",!0),this.o=Ho(t[7]||"")):(this.h=!1,this.i=new Jo(null,this.h))}function Vo(e){return new Mo(e)}function Fo(e,t,n){e.j=n?Ho(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Uo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function zo(e,t,n){t instanceof Jo?(e.i=t,function(e,t){t&&!e.j&&(Zo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(el(this,t),nl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=qo(t,Yo)),e.i=new Jo(t,e.h))}function Bo(e,t,n){e.i.set(t,n)}function $o(e){return Bo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ho(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qo(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wo),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wo(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(qo(t,Ko,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(qo(t,Ko,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(qo(n,"/"==n.charAt(0)?Qo:Go,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",qo(n,Xo)),e.join("")};var Ko=/[#\/\?@]/g,Go=/[#\?:]/g,Qo=/[#\?]/g,Yo=/[#\?@]/g,Xo=/#/g;function Jo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zo(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function el(e,t){Zo(e),t=rl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tl(e,t){return Zo(e),t=rl(e,t),e.g.has(t)}function nl(e,t,n){el(e,t),0<n.length&&(e.i=null,e.g.set(rl(e,t),Ls(n)),e.h+=n.length)}function rl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(xs=Jo.prototype).add=function(e,t){Zo(this),this.i=null,e=rl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},xs.forEach=function(e,t){Zo(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},xs.ta=function(){Zo(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},xs.Z=function(e){Zo(this);let t=[];if("string"===typeof e)tl(this,e)&&(t=t.concat(this.g.get(rl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},xs.set=function(e,t){return Zo(this),this.i=null,tl(this,e=rl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},xs.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},xs.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var il=class{constructor(e,t){this.g=e,this.map=t}};function sl(e){this.l=e||al,Ns.PerformanceNavigationTiming?e=0<(e=Ns.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ns.g&&Ns.g.Ka&&Ns.g.Ka()&&Ns.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var al=10;function ol(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ll(e){return e.h?1:e.g?e.g.size:0}function cl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ul(e,t){e.g?e.g.add(t):e.h=t}function hl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function dl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ls(e.i)}sl.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var fl,pl=class{stringify(e){return Ns.JSON.stringify(e,void 0)}parse(e){return Ns.JSON.parse(e,void 0)}};function ml(){this.g=new pl}function gl(e,t,n){const r=n||"";try{Lo(e,(function(e,n){let i=e;Ts(e)&&(i=Aa(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function yl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(uv){}}function vl(e){this.l=e.fc||null,this.j=e.ob||!1}function xl(e,t){_a.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=bl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ps(vl,uo),vl.prototype.g=function(){return new xl(this.l,this.j)},vl.prototype.i=(fl={},function(){return fl}),Ps(xl,_a);var bl=0;function wl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function El(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Nl(e)}function Nl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(xs=xl.prototype).open=function(e,t){if(this.readyState!=bl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Nl(this)},xs.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ns).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},xs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,El(this)),this.readyState=bl},xs.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Ns.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},xs.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?El(this):Nl(this),3==this.readyState&&wl(this)}},xs.Za=function(e){this.g&&(this.response=this.responseText=e,El(this))},xs.Ya=function(e){this.g&&(this.response=e,El(this))},xs.ka=function(){this.g&&El(this)},xs.setRequestHeader=function(e,t){this.v.append(e,t)},xs.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},xs.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var kl=Ns.JSON.parse;function Tl(e){_a.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Sl,this.L=this.M=!1}Ps(Tl,_a);var Sl="",Cl=/^https?$/i,_l=["POST","PUT"];function Il(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,jl(e),Pl(e)}function jl(e){e.F||(e.F=!0,Ia(e,"complete"),Ia(e,"error"))}function Al(e){if(e.h&&"undefined"!=typeof Es&&(!e.C[1]||4!=Dl(e)||2!=e.da()))if(e.v&&4==Dl(e))Ha(e.La,0,e);else if(Ia(e,"readystatechange"),4==Dl(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Oo)[1]||null;!i&&Ns.self&&Ns.self.location&&(i=Ns.self.location.protocol.slice(0,-1)),r=!Cl.test(i?i.toLowerCase():"")}n=r}if(n)Ia(e,"complete"),Ia(e,"success");else{e.m=6;try{var s=2<Dl(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",jl(e)}}finally{Pl(e)}}}function Pl(e,t){if(e.g){Rl(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ia(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Rl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ns.clearTimeout(e.A),e.A=null)}function Dl(e){return e.g?e.g.readyState:0}function Ll(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Sl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Uc){return null}}function Ol(e){let t="";return ca(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ml(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ol(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Bo(e,t,n))}function Vl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fl(e){this.Ga=0,this.j=[],this.l=new Xa,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vl("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vl("baseRetryDelayMs",5e3,e),this.hb=Vl("retryDelaySeedMs",1e4,e),this.eb=Vl("forwardChannelMaxRetries",2,e),this.xa=Vl("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new sl(e&&e.concurrentRequestLimit),this.Ja=new ml,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ul(e){if(Bl(e),3==e.H){var t=e.W++,n=Vo(e.I);if(Bo(n,"SID",e.K),Bo(n,"RID",t),Bo(n,"TYPE","terminate"),ql(e,n),(t=new xo(e,e.l,t)).L=2,t.v=$o(Vo(n)),n=!1,Ns.navigator&&Ns.navigator.sendBeacon)try{n=Ns.navigator.sendBeacon(t.v.toString(),"")}catch(ov){}!n&&Ns.Image&&((new Image).src=t.v,n=!0),n||(t.g=rc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Io(t)}tc(e)}function zl(e){e.g&&(Ql(e),e.g.cancel(),e.g=null)}function Bl(e){zl(e),e.u&&(Ns.clearTimeout(e.u),e.u=null),Xl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ns.clearTimeout(e.m),e.m=null)}function $l(e){if(!ol(e.i)&&!e.m){e.m=!0;var t=e.Na;Ma||Ua(),Va||(Ma(),Va=!0),Fa.add(t,e),e.C=0}}function Hl(e,t){var n;n=t?t.m:e.W++;const r=Vo(e.I);Bo(r,"SID",e.K),Bo(r,"RID",n),Bo(r,"AID",e.V),ql(e,r),e.o&&e.s&&Ml(r,e.o,e.s),n=new xo(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Wl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ul(e.i,n),ko(n,r,t)}function ql(e,t){e.na&&ca(e.na,(function(e,n){Bo(t,n,e)})),e.h&&Lo({},(function(e,n){Bo(t,n,e)}))}function Wl(e,t,n){n=Math.min(e.j.length,n);var r=e.h?js(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{gl(o,e,"req"+n+"_")}catch(Xc){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Kl(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ma||Ua(),Va||(Ma(),Va=!0),Fa.add(t,e),e.A=0}}function Gl(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=oo(js(e.Ma,e),Zl(e,e.A)),e.A++,!0)}function Ql(e){null!=e.B&&(Ns.clearTimeout(e.B),e.B=null)}function Yl(e){e.g=new xo(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Vo(e.wa);Bo(t,"RID","rpc"),Bo(t,"SID",e.K),Bo(t,"AID",e.V),Bo(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Bo(t,"TO",e.qa),Bo(t,"TYPE","xmlhttp"),ql(e,t),e.o&&e.s&&Ml(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=$o(Vo(t)),n.s=null,n.S=!0,To(n,e)}function Xl(e){null!=e.v&&(Ns.clearTimeout(e.v),e.v=null)}function Jl(e,t){var n=null;if(e.g==t){Xl(e),Ql(e),e.g=null;var r=2}else{if(!cl(e.i,t))return;n=t.F,hl(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Ia(r=to(),new ao(r,n)),$l(e)}else Kl(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ll(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=oo(js(e.Na,e,t),Zl(e,e.C)),e.C++,!0))}(e,t)||2==r&&Gl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ec(e,5);break;case 4:ec(e,10);break;case 3:ec(e,6);break;default:ec(e,2)}}function Zl(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ec(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=js(e.pb,e);n||(n=new Mo("//www.google.com/images/cleardot.gif"),Ns.location&&"http"==Ns.location.protocol||Fo(n,"https"),$o(n)),function(e,t){const n=new Xa;if(Ns.Image){const r=new Image;r.onload=As(yl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=As(yl,n,r,"TestLoadImage: error",!1,t),r.onabort=As(yl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=As(yl,n,r,"TestLoadImage: timeout",!1,t),Ns.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else so(2);e.H=0,e.h&&e.h.za(t),tc(e),Bl(e)}function tc(e){if(e.H=0,e.ma=[],e.h){const t=dl(e.i);0==t.length&&0==e.j.length||(Os(e.ma,t),Os(e.ma,e.j),e.i.i.length=0,Ls(e.j),e.j.length=0),e.h.ya()}}function nc(e,t,n){var r=n instanceof Mo?Vo(n):new Mo(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Uo(r,r.m);else{var i=Ns.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Mo(null);r&&Fo(s,r),t&&(s.g=t),i&&Uo(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Bo(r,n,t),Bo(r,"VER",e.ra),ql(e,r),r}function rc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Tl(new vl({ob:!0})):new Tl(e.va)).Oa(e.J),t}function ic(){}function sc(){if(Ws&&!(10<=Number(na)))throw Error("Environmental error: no available transport.")}function ac(e,t){_a.call(this),this.g=new Fl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Fs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fs(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new cc(this)}function oc(e){go.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function lc(){yo.call(this),this.status=1}function cc(e){this.g=e}function uc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function dc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(xs=Tl.prototype).Oa=function(e){this.M=e},xs.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():po.g(),this.C=this.u?ho(this.u):ho(po),this.g.onreadystatechange=js(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(uv){return void Il(this,uv)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Ns.FormData&&e instanceof Ns.FormData,!(0<=Ds(_l,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Rl(this),0<this.B&&((this.L=function(e){return Ws&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=js(this.ua,this)):this.A=Ha(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(uv){Il(this,uv)}},xs.ua=function(){"undefined"!=typeof Es&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ia(this,"timeout"),this.abort(8))},xs.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ia(this,"complete"),Ia(this,"abort"),Pl(this))},xs.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pl(this,!0)),Tl.$.N.call(this)},xs.La=function(){this.s||(this.G||this.v||this.l?Al(this):this.kb())},xs.kb=function(){Al(this)},xs.isActive=function(){return!!this.g},xs.da=function(){try{return 2<Dl(this)?this.g.status:-1}catch(fl){return-1}},xs.ja=function(){try{return this.g?this.g.responseText:""}catch(fl){return""}},xs.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),kl(t)}},xs.Ia=function(){return this.m},xs.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(xs=Fl.prototype).ra=8,xs.H=1,xs.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new xo(this,this.l,e);let s=this.s;if(this.U&&(s?(s=ua(s),da(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Wl(this,i,t),Bo(n=Vo(this.I),"RID",e),Bo(n,"CVER",22),this.F&&Bo(n,"X-HTTP-Session-Id",this.F),ql(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ol(s)))+"&"+t:this.o&&Ml(n,this.o,s)),ul(this.i,i),this.bb&&Bo(n,"TYPE","init"),this.P?(Bo(n,"$req",t),Bo(n,"SID","null"),i.aa=!0,ko(i,n,null)):ko(i,n,t),this.H=2}}else 3==this.H&&(e?Hl(this,e):0==this.j.length||ol(this.i)||Hl(this))},xs.Ma=function(){if(this.u=null,Yl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=oo(js(this.jb,this),e)}},xs.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,so(10),zl(this),Yl(this))},xs.ib=function(){null!=this.v&&(this.v=null,zl(this),Gl(this),so(19))},xs.pb=function(e){e?(this.l.info("Successfully pinged google.com"),so(2)):(this.l.info("Failed to ping google.com"),so(1))},xs.isActive=function(){return!!this.h&&this.h.isActive(this)},(xs=ic.prototype).Ba=function(){},xs.Aa=function(){},xs.za=function(){},xs.ya=function(){},xs.isActive=function(){return!0},xs.Va=function(){},sc.prototype.g=function(e,t){return new ac(e,t)},Ps(ac,_a),ac.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;so(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=nc(e,null,e.Y),$l(e)},ac.prototype.close=function(){Ul(this.g)},ac.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Aa(e),e=n);t.j.push(new il(t.fb++,e)),3==t.H&&$l(t)},ac.prototype.N=function(){this.g.h=null,delete this.j,Ul(this.g),delete this.g,ac.$.N.call(this)},Ps(oc,go),Ps(lc,yo),Ps(cc,ic),cc.prototype.Ba=function(){Ia(this.g,"a")},cc.prototype.Aa=function(e){Ia(this.g,new oc(e))},cc.prototype.za=function(e){Ia(this.g,new lc)},cc.prototype.ya=function(){Ia(this.g,"b")},Ps(uc,(function(){this.blockSize=-1})),uc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},uc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)hc(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){hc(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){hc(this,r),i=0;break}}this.h=i,this.i+=t},uc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var fc={};function pc(e){return-128<=e&&128>e?function(e,t){var n=fc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new dc([0|e],0>e?-1:0)})):new dc([0|e],0>e?-1:0)}function mc(e){if(isNaN(e)||!isFinite(e))return yc;if(0>e)return Ec(mc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=gc;return new dc(t,0)}var gc=4294967296,yc=pc(0),vc=pc(1),xc=pc(16777216);function bc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function wc(e){return-1==e.h}function Ec(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new dc(n,~e.h).add(vc)}function Nc(e,t){return e.add(Ec(t))}function kc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Tc(e,t){this.g=e,this.h=t}function Sc(e,t){if(bc(t))throw Error("division by zero");if(bc(e))return new Tc(yc,yc);if(wc(e))return t=Sc(Ec(e),t),new Tc(Ec(t.g),Ec(t.h));if(wc(t))return t=Sc(e,Ec(t)),new Tc(Ec(t.g),t.h);if(30<e.g.length){if(wc(e)||wc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=vc,r=t;0>=r.X(e);)n=Cc(n),r=Cc(r);var i=_c(n,1),s=_c(r,1);for(r=_c(r,2),n=_c(n,2);!bc(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=_c(r,1),n=_c(n,1)}return t=Nc(e,i.R(t)),new Tc(i,t)}for(i=yc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=mc(n)).R(t);wc(a)||0<a.X(e);)a=(s=mc(n-=r)).R(t);bc(s)&&(s=vc),i=i.add(s),e=Nc(e,a)}return new Tc(i,e)}function Cc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new dc(n,e.h)}function _c(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new dc(i,e.h)}(xs=dc.prototype).ea=function(){if(wc(this))return-Ec(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:gc+r)*t,t*=gc}return e},xs.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(bc(this))return"0";if(wc(this))return"-"+Ec(this).toString(e);for(var t=mc(Math.pow(e,6)),n=this,r="";;){var i=Sc(n,t).g,s=((0<(n=Nc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(bc(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},xs.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},xs.X=function(e){return wc(e=Nc(this,e))?-1:bc(e)?0:1},xs.abs=function(){return wc(this)?Ec(this):this},xs.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new dc(n,-2147483648&n[n.length-1]?-1:0)},xs.R=function(e){if(bc(this)||bc(e))return yc;if(wc(this))return wc(e)?Ec(this).R(Ec(e)):Ec(Ec(this).R(e));if(wc(e))return Ec(this.R(Ec(e)));if(0>this.X(xc)&&0>e.X(xc))return mc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,kc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,kc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,kc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,kc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new dc(n,0)},xs.gb=function(e){return Sc(this,e).h},xs.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new dc(n,this.h&e.h)},xs.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new dc(n,this.h|e.h)},xs.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new dc(n,this.h^e.h)},sc.prototype.createWebChannel=sc.prototype.g,ac.prototype.send=ac.prototype.u,ac.prototype.open=ac.prototype.m,ac.prototype.close=ac.prototype.close,lo.NO_ERROR=0,lo.TIMEOUT=8,lo.HTTP_ERROR=6,co.COMPLETE="complete",fo.EventType=mo,mo.OPEN="a",mo.CLOSE="b",mo.ERROR="c",mo.MESSAGE="d",_a.prototype.listen=_a.prototype.O,Tl.prototype.listenOnce=Tl.prototype.P,Tl.prototype.getLastError=Tl.prototype.Sa,Tl.prototype.getLastErrorCode=Tl.prototype.Ia,Tl.prototype.getStatus=Tl.prototype.da,Tl.prototype.getResponseJson=Tl.prototype.Wa,Tl.prototype.getResponseText=Tl.prototype.ja,Tl.prototype.send=Tl.prototype.ha,Tl.prototype.setWithCredentials=Tl.prototype.Oa,uc.prototype.digest=uc.prototype.l,uc.prototype.reset=uc.prototype.reset,uc.prototype.update=uc.prototype.j,dc.prototype.add=dc.prototype.add,dc.prototype.multiply=dc.prototype.R,dc.prototype.modulo=dc.prototype.gb,dc.prototype.compare=dc.prototype.X,dc.prototype.toNumber=dc.prototype.ea,dc.prototype.toString=dc.prototype.toString,dc.prototype.getBits=dc.prototype.D,dc.fromNumber=mc,dc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ec(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=mc(Math.pow(n,8)),i=yc,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=mc(Math.pow(n,a)),i=i.R(a).add(mc(o))):i=(i=i.R(r)).add(mc(o))}return i};var Ic=ws.createWebChannelTransport=function(){return new sc},jc=ws.getStatEventTarget=function(){return to()},Ac=ws.ErrorCode=lo,Pc=ws.EventType=co,Rc=ws.Event=Za,Dc=ws.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Lc=ws.FetchXmlHttpFactory=vl,Oc=ws.WebChannel=fo,Mc=ws.XhrIo=Tl,Vc=ws.Md5=uc,Fc=ws.Integer=dc;const Uc="@firebase/firestore";class zc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zc.UNAUTHENTICATED=new zc(null),zc.GOOGLE_CREDENTIALS=new zc("google-credentials-uid"),zc.FIRST_PARTY=new zc("first-party-uid"),zc.MOCK_USER=new zc("mock-user");let Bc="9.23.0";const $c=new et("@firebase/firestore");function Hc(){return $c.logLevel}function qc(e){if($c.logLevel<=Qe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Gc);$c.debug(`Firestore (${Bc}): ${e}`,...i)}}function Wc(e){if($c.logLevel<=Qe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Gc);$c.error(`Firestore (${Bc}): ${e}`,...i)}}function Kc(e){if($c.logLevel<=Qe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Gc);$c.warn(`Firestore (${Bc}): ${e}`,...i)}}function Gc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Qc(){const e=`FIRESTORE (${Bc}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Wc(e),new Error(e)}function Yc(e,t){e||Qc()}function Xc(e,t){return e}const Jc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zc extends Re{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class eu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class tu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zc.UNAUTHENTICATED)))}shutdown(){}}class ru{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class iu{constructor(e){this.t=e,this.currentUser=zc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new eu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new eu,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{qc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(qc("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new eu)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(qc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Yc("string"==typeof t.accessToken),new tu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yc(null===e||"string"==typeof e),new zc(e)}}class su{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=zc.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class au{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new su(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(zc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ou{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&qc("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,qc("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{qc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):qc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Yc("string"==typeof e.token),this.T=e.token,new ou(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class uu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=cu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function hu(e,t){return e<t?-1:e>t?1:0}function du(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class fu{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Zc(Jc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Zc(Jc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Zc(Jc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zc(Jc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fu.fromMillis(Date.now())}static fromDate(e){return fu.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new fu(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?hu(this.nanoseconds,e.nanoseconds):hu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pu{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pu(e)}static min(){return new pu(new fu(0,0))}static max(){return new pu(new fu(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mu{constructor(e,t,n){void 0===t?t=0:t>e.length&&Qc(),void 0===n?n=e.length-t:n>e.length-t&&Qc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===mu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mu?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gu extends mu{construct(e,t,n){return new gu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Zc(Jc.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new gu(e)}static emptyPath(){return new gu([])}}const yu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vu extends mu{construct(e,t,n){return new vu(e,t,n)}static isValidIdentifier(e){return yu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Zc(Jc.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Zc(Jc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Zc(Jc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Zc(Jc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vu(t)}static emptyPath(){return new vu([])}}class xu{constructor(e){this.path=e}static fromPath(e){return new xu(gu.fromString(e))}static fromName(e){return new xu(gu.fromString(e).popFirst(5))}static empty(){return new xu(gu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xu(new gu(e.slice()))}}class bu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}bu.UNKNOWN_ID=-1;function wu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=pu.fromTimestamp(1e9===r?new fu(n+1,0):new fu(n,r));return new Nu(i,xu.empty(),t)}function Eu(e){return new Nu(e.readTime,e.key,-1)}class Nu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Nu(pu.min(),xu.empty(),-1)}static max(){return new Nu(pu.max(),xu.empty(),-1)}}function ku(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=xu.comparator(e.documentKey,t.documentKey),0!==n?n:hu(e.largestBatchId,t.largestBatchId))}const Tu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Su{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Cu(e){if(e.code!==Jc.FAILED_PRECONDITION||e.message!==Tu)throw e;qc("LocalStore","Unexpectedly lost primary lease")}class _u{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _u(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof _u?t:_u.resolve(t)}catch(e){return _u.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):_u.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):_u.reject(t)}static resolve(e){return new _u(((t,n)=>{t(e)}))}static reject(e){return new _u(((t,n)=>{n(e)}))}static waitFor(e){return new _u(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=_u.resolve(!1);for(const n of e)t=t.next((e=>e?_u.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new _u(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new _u(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Iu(e){return"IndexedDbTransactionError"===e.name}class ju{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Au(e){return null==e}function Pu(e){return 0===e&&1/e==-1/0}function Ru(e){return"number"==typeof e&&Number.isInteger(e)&&!Pu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}ju.ct=-1;const Du=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Lu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ou=Lu;function Mu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Fu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Uu{constructor(e,t){this.comparator=e,this.root=t||Bu.EMPTY}insert(e,t){return new Uu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bu.BLACK,null,null))}remove(e){return new Uu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Bu.RED,this.left=null!=r?r:Bu.EMPTY,this.right=null!=i?i:Bu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Bu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Bu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Bu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qc();if(this.right.isRed())throw Qc();const e=this.left.check();if(e!==this.right.check())throw Qc();return e+(this.isRed()?0:1)}}Bu.EMPTY=null,Bu.RED=!0,Bu.BLACK=!1,Bu.EMPTY=new class{constructor(){this.size=0}get key(){throw Qc()}get value(){throw Qc()}get color(){throw Qc()}get left(){throw Qc()}get right(){throw Qc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Bu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $u{constructor(e){this.comparator=e,this.data=new Uu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hu(this.data.getIterator())}getIteratorFrom(e){return new Hu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof $u))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $u(this.comparator);return t.data=e,t}}class Hu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qu{constructor(e){this.fields=e,e.sort(vu.comparator)}static empty(){return new qu([])}unionWith(e){let t=new $u(vu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new qu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return du(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Wu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ku{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Wu("Invalid base64 string: "+e):e}}(e);return new Ku(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ku(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ku.EMPTY_BYTE_STRING=new Ku("");const Gu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qu(e){if(Yc(!!e),"string"==typeof e){let t=0;const n=Gu.exec(e);if(Yc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Yu(e.seconds),nanos:Yu(e.nanos)}}function Yu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Xu(e){return"string"==typeof e?Ku.fromBase64String(e):Ku.fromUint8Array(e)}function Ju(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zu(e){const t=e.mapValue.fields.__previous_value__;return Ju(t)?Zu(t):t}function eh(e){const t=Qu(e.mapValue.fields.__local_write_time__.timestampValue);return new fu(t.seconds,t.nanos)}class th{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class nh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nh&&e.projectId===this.projectId&&e.database===this.database}}const rh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ih(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ju(e)?4:vh(e)?9007199254740991:10:Qc()}function sh(e,t){if(e===t)return!0;const n=ih(e);if(n!==ih(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return eh(e).isEqual(eh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Qu(e.timestampValue),r=Qu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Xu(e.bytesValue).isEqual(Xu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Yu(e.geoPointValue.latitude)===Yu(t.geoPointValue.latitude)&&Yu(e.geoPointValue.longitude)===Yu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Yu(e.integerValue)===Yu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Yu(e.doubleValue),r=Yu(t.doubleValue);return n===r?Pu(n)===Pu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return du(e.arrayValue.values||[],t.arrayValue.values||[],sh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Mu(n)!==Mu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!sh(n[i],r[i])))return!1;return!0}(e,t);default:return Qc()}}function ah(e,t){return void 0!==(e.values||[]).find((e=>sh(e,t)))}function oh(e,t){if(e===t)return 0;const n=ih(e),r=ih(t);if(n!==r)return hu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return hu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Yu(e.integerValue||e.doubleValue),r=Yu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return lh(e.timestampValue,t.timestampValue);case 4:return lh(eh(e),eh(t));case 5:return hu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Xu(e),r=Xu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=hu(n[i],r[i]);if(0!==e)return e}return hu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=hu(Yu(e.latitude),Yu(t.latitude));return 0!==n?n:hu(Yu(e.longitude),Yu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=oh(n[i],r[i]);if(e)return e}return hu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===rh.mapValue&&t===rh.mapValue)return 0;if(e===rh.mapValue)return 1;if(t===rh.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=hu(r[a],s[a]);if(0!==e)return e;const t=oh(n[r[a]],i[s[a]]);if(0!==t)return t}return hu(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Qc()}}function lh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return hu(e,t);const n=Qu(e),r=Qu(t),i=hu(n.seconds,r.seconds);return 0!==i?i:hu(n.nanos,r.nanos)}function ch(e){return uh(e)}function uh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Qu(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Xu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,xu.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=uh(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${uh(e.fields[i])}`;return n+"}"}(e.mapValue):Qc();var t,n}function hh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function dh(e){return!!e&&"integerValue"in e}function fh(e){return!!e&&"arrayValue"in e}function ph(e){return!!e&&"nullValue"in e}function mh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gh(e){return!!e&&"mapValue"in e}function yh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Vu(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=yh(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function vh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class xh{constructor(e){this.value=e}static empty(){return new xh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!gh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yh(t)}setAll(e){let t=vu.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=yh(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());gh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];gh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Vu(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new xh(yh(this.value))}}function bh(e){const t=[];return Vu(e.fields,((e,n)=>{const r=new vu([e]);if(gh(n)){const e=bh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new qu(t)}class wh{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wh(e,0,pu.min(),pu.min(),pu.min(),xh.empty(),0)}static newFoundDocument(e,t,n,r){return new wh(e,1,t,pu.min(),n,r,0)}static newNoDocument(e,t){return new wh(e,2,t,pu.min(),pu.min(),xh.empty(),0)}static newUnknownDocument(e,t){return new wh(e,3,t,pu.min(),pu.min(),xh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pu.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,t){this.position=e,this.inclusive=t}}function Nh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?xu.comparator(xu.fromName(a.referenceValue),n.key):oh(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function kh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!sh(e.position[n],t.position[n]))return!1;return!0}class Th{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Sh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ch{}class _h extends Ch{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Oh(e,t,n):"array-contains"===t?new Uh(e,n):"in"===t?new zh(e,n):"not-in"===t?new Bh(e,n):"array-contains-any"===t?new $h(e,n):new _h(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Mh(e,n):new Vh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(oh(t,this.value)):null!==t&&ih(this.value)===ih(t)&&this.matchesComparison(oh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ih extends Ch{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ih(e,t)}matches(e){return jh(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function jh(e){return"and"===e.op}function Ah(e){return Ph(e)&&jh(e)}function Ph(e){for(const t of e.filters)if(t instanceof Ih)return!1;return!0}function Rh(e){if(e instanceof _h)return e.field.canonicalString()+e.op.toString()+ch(e.value);if(Ah(e))return e.filters.map((e=>Rh(e))).join(",");{const t=e.filters.map((e=>Rh(e))).join(",");return`${e.op}(${t})`}}function Dh(e,t){return e instanceof _h?function(e,t){return t instanceof _h&&e.op===t.op&&e.field.isEqual(t.field)&&sh(e.value,t.value)}(e,t):e instanceof Ih?function(e,t){return t instanceof Ih&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Dh(n,t.filters[r])),!0)}(e,t):void Qc()}function Lh(e){return e instanceof _h?function(e){return`${e.field.canonicalString()} ${e.op} ${ch(e.value)}`}(e):e instanceof Ih?function(e){return e.op.toString()+" {"+e.getFilters().map(Lh).join(" ,")+"}"}(e):"Filter"}class Oh extends _h{constructor(e,t,n){super(e,t,n),this.key=xu.fromName(n.referenceValue)}matches(e){const t=xu.comparator(e.key,this.key);return this.matchesComparison(t)}}class Mh extends _h{constructor(e,t){super(e,"in",t),this.keys=Fh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Vh extends _h{constructor(e,t){super(e,"not-in",t),this.keys=Fh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Fh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>xu.fromName(e.referenceValue)))}class Uh extends _h{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fh(t)&&ah(t.arrayValue,this.value)}}class zh extends _h{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ah(this.value.arrayValue,t)}}class Bh extends _h{constructor(e,t){super(e,"not-in",t)}matches(e){if(ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ah(this.value.arrayValue,t)}}class $h extends _h{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ah(this.value.arrayValue,e)))}}class Hh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function qh(e){return new Hh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Wh(e){const t=Xc(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Rh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Au(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ch(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ch(e))).join(",")),t.dt=e}return t.dt}function Kh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Sh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Dh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kh(e.startAt,t.startAt)&&kh(e.endAt,t.endAt)}function Gh(e){return xu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Qh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function Yh(e,t,n,r,i,s,a,o){return new Qh(e,t,n,r,i,s,a,o)}function Xh(e){return new Qh(e)}function Jh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Zh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ed(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function td(e){return null!==e.collectionGroup}function nd(e){const t=Xc(e);if(null===t.wt){t.wt=[];const e=ed(t),n=Zh(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Th(e)),t.wt.push(new Th(vu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Th(vu.keyField(),e))}}}return t.wt}function rd(e){const t=Xc(e);if(!t._t)if("F"===t.limitType)t._t=qh(t.path,t.collectionGroup,nd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of nd(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Th(i.field,t))}const n=t.endAt?new Eh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Eh(t.startAt.position,t.startAt.inclusive):null;t._t=qh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function id(e,t){t.getFirstInequalityField(),ed(e);const n=e.filters.concat([t]);return new Qh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function sd(e,t,n){return new Qh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ad(e,t){return Kh(rd(e),rd(t))&&e.limitType===t.limitType}function od(e){return`${Wh(rd(e))}|lt:${e.limitType}`}function ld(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Lh(e))).join(", ")}]`),Au(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ch(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ch(e))).join(",")),`Target(${t})`}(rd(e))}; limitType=${e.limitType})`}function cd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of nd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Nh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,nd(e),t))&&!(e.endAt&&!function(e,t,n){const r=Nh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,nd(e),t))}(e,t)}function ud(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function hd(e){return(t,n)=>{let r=!1;for(const i of nd(e)){const e=dd(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function dd(e,t,n){const r=e.field.isKeyField()?xu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?oh(r,i):Qc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Qc()}}class fd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vu(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Fu(this.inner)}size(){return this.innerSize}}const pd=new Uu(xu.comparator);function md(){return pd}const gd=new Uu(xu.comparator);function yd(){let e=gd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function vd(e){let t=gd;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function xd(){return wd()}function bd(){return wd()}function wd(){return new fd((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Ed=new Uu(xu.comparator),Nd=new $u(xu.comparator);function kd(){let e=Nd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Td=new $u(hu);function Sd(){return Td}function Cd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pu(t)?"-0":t}}function _d(e){return{integerValue:""+e}}function Id(e,t){return Ru(t)?_d(t):Cd(e,t)}class jd{constructor(){this._=void 0}}function Ad(e,t,n){return e instanceof Dd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ju(t)&&(t=Zu(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ld?Od(e,t):e instanceof Md?Vd(e,t):function(e,t){const n=Rd(e,t),r=Ud(n)+Ud(e.gt);return dh(n)&&dh(e.gt)?_d(r):Cd(e.serializer,r)}(e,t)}function Pd(e,t,n){return e instanceof Ld?Od(e,t):e instanceof Md?Vd(e,t):n}function Rd(e,t){return e instanceof Fd?dh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Dd extends jd{}class Ld extends jd{constructor(e){super(),this.elements=e}}function Od(e,t){const n=zd(t);for(const r of e.elements)n.some((e=>sh(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Md extends jd{constructor(e){super(),this.elements=e}}function Vd(e,t){let n=zd(t);for(const r of e.elements)n=n.filter((e=>!sh(e,r)));return{arrayValue:{values:n}}}class Fd extends jd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Ud(e){return Yu(e.integerValue||e.doubleValue)}function zd(e){return fh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Bd{constructor(e,t){this.field=e,this.transform=t}}class $d{constructor(e,t){this.version=e,this.transformResults=t}}class Hd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hd}static exists(e){return new Hd(void 0,e)}static updateTime(e){return new Hd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Wd{}function Kd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new rf(e.key,Hd.none()):new Jd(e.key,e.data,Hd.none());{const n=e.data,r=xh.empty();let i=new $u(vu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Zd(e.key,r,new qu(i.toArray()),Hd.none())}}function Gd(e,t,n){e instanceof Jd?function(e,t,n){const r=e.value.clone(),i=tf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Zd?function(e,t,n){if(!qd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=tf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ef(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Qd(e,t,n,r){return e instanceof Jd?function(e,t,n,r){if(!qd(e.precondition,t))return n;const i=e.value.clone(),s=nf(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Zd?function(e,t,n,r){if(!qd(e.precondition,t))return n;const i=nf(e.fieldTransforms,r,t),s=t.data;return s.setAll(ef(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return qd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Yd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Rd(r.transform,e||null);null!=i&&(null===n&&(n=xh.empty()),n.set(r.field,i))}return n||null}function Xd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&du(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ld&&t instanceof Ld||e instanceof Md&&t instanceof Md?du(e.elements,t.elements,sh):e instanceof Fd&&t instanceof Fd?sh(e.gt,t.gt):e instanceof Dd&&t instanceof Dd}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Jd extends Wd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Zd extends Wd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ef(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function tf(e,t,n){const r=new Map;Yc(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Pd(a,o,n[i]))}return r}function nf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Ad(e,s,t))}return r}class rf extends Wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sf extends Wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class af{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Gd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Qd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Qd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=bd();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Kd(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(pu.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),kd())}isEqual(e){return this.batchId===e.batchId&&du(this.mutations,e.mutations,((e,t)=>Xd(e,t)))&&du(this.baseMutations,e.baseMutations,((e,t)=>Xd(e,t)))}}class of{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Yc(e.mutations.length===n.length);let r=Ed;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new of(e,t,n,r)}}class lf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cf{constructor(e,t){this.count=e,this.unchangedNames=t}}var uf,hf;function df(e){switch(e){default:return Qc();case Jc.CANCELLED:case Jc.UNKNOWN:case Jc.DEADLINE_EXCEEDED:case Jc.RESOURCE_EXHAUSTED:case Jc.INTERNAL:case Jc.UNAVAILABLE:case Jc.UNAUTHENTICATED:return!1;case Jc.INVALID_ARGUMENT:case Jc.NOT_FOUND:case Jc.ALREADY_EXISTS:case Jc.PERMISSION_DENIED:case Jc.FAILED_PRECONDITION:case Jc.ABORTED:case Jc.OUT_OF_RANGE:case Jc.UNIMPLEMENTED:case Jc.DATA_LOSS:return!0}}function ff(e){if(void 0===e)return Wc("GRPC error has no .code"),Jc.UNKNOWN;switch(e){case uf.OK:return Jc.OK;case uf.CANCELLED:return Jc.CANCELLED;case uf.UNKNOWN:return Jc.UNKNOWN;case uf.DEADLINE_EXCEEDED:return Jc.DEADLINE_EXCEEDED;case uf.RESOURCE_EXHAUSTED:return Jc.RESOURCE_EXHAUSTED;case uf.INTERNAL:return Jc.INTERNAL;case uf.UNAVAILABLE:return Jc.UNAVAILABLE;case uf.UNAUTHENTICATED:return Jc.UNAUTHENTICATED;case uf.INVALID_ARGUMENT:return Jc.INVALID_ARGUMENT;case uf.NOT_FOUND:return Jc.NOT_FOUND;case uf.ALREADY_EXISTS:return Jc.ALREADY_EXISTS;case uf.PERMISSION_DENIED:return Jc.PERMISSION_DENIED;case uf.FAILED_PRECONDITION:return Jc.FAILED_PRECONDITION;case uf.ABORTED:return Jc.ABORTED;case uf.OUT_OF_RANGE:return Jc.OUT_OF_RANGE;case uf.UNIMPLEMENTED:return Jc.UNIMPLEMENTED;case uf.DATA_LOSS:return Jc.DATA_LOSS;default:return Qc()}}(hf=uf||(uf={}))[hf.OK=0]="OK",hf[hf.CANCELLED=1]="CANCELLED",hf[hf.UNKNOWN=2]="UNKNOWN",hf[hf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hf[hf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hf[hf.NOT_FOUND=5]="NOT_FOUND",hf[hf.ALREADY_EXISTS=6]="ALREADY_EXISTS",hf[hf.PERMISSION_DENIED=7]="PERMISSION_DENIED",hf[hf.UNAUTHENTICATED=16]="UNAUTHENTICATED",hf[hf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hf[hf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hf[hf.ABORTED=10]="ABORTED",hf[hf.OUT_OF_RANGE=11]="OUT_OF_RANGE",hf[hf.UNIMPLEMENTED=12]="UNIMPLEMENTED",hf[hf.INTERNAL=13]="INTERNAL",hf[hf.UNAVAILABLE=14]="UNAVAILABLE",hf[hf.DATA_LOSS=15]="DATA_LOSS";class pf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return mf}static getOrCreateInstance(){return null===mf&&(mf=new pf),mf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let mf=null;function gf(){return new TextEncoder}const yf=new Fc([4294967295,4294967295],0);function vf(e){const t=gf().encode(e),n=new Vc;return n.update(t),new Uint8Array(n.digest())}function xf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Fc([n,r],0),new Fc([i,s],0)]}class bf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new wf(`Invalid padding: ${t}`);if(n<0)throw new wf(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new wf(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new wf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Fc.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Fc.fromNumber(n)));return 1===r.compare(yf)&&(r=new Fc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=vf(e),[n,r]=xf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new bf(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=vf(e),[n,r]=xf(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class wf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ef{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Nf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ef(pu.min(),r,new Uu(hu),md(),kd())}}class Nf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Nf(n,t,kd(),kd(),kd())}}class kf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Tf{constructor(e,t){this.targetId=e,this.Vt=t}}class Sf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ku.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Cf{constructor(){this.St=0,this.Dt=jf(),this.Ct=Ku.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=kd(),t=kd(),n=kd();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Qc()}})),new Nf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=jf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class _f{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=md(),this.zt=If(),this.Wt=new Uu(hu)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Qc()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(Gh(s))if(0===r){const e=new xu(s.path);this.Yt(n,e,wh.newNoDocument(e,pu.min()))}else Yc(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=pf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=Xu(i).toUint8Array()}catch(e){if(e instanceof Wu)return Kc("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new bf(o,s,a)}catch(e){return Kc(e instanceof wf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(s)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Gh(i.target)){const t=new xu(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,wh.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=kd();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Ef(e,t,this.Wt,this.jt,n);return this.jt=md(),this.zt=If(),this.Wt=new Uu(hu),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Cf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new $u(hu),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||qc("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Cf),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function If(){return new Uu(xu.comparator)}function jf(){return new Uu(xu.comparator)}const Af={asc:"ASCENDING",desc:"DESCENDING"},Pf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rf={and:"AND",or:"OR"};class Df{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lf(e,t){return e.useProto3Json||Au(t)?t:{value:t}}function Of(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Vf(e,t){return Of(e,t.toTimestamp())}function Ff(e){return Yc(!!e),pu.fromTimestamp(function(e){const t=Qu(e);return new fu(t.seconds,t.nanos)}(e))}function Uf(e,t){return function(e){return new gu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function zf(e){const t=gu.fromString(e);return Yc(op(t)),t}function Bf(e,t){return Uf(e.databaseId,t.path)}function $f(e,t){const n=zf(t);if(n.get(1)!==e.databaseId.projectId)throw new Zc(Jc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Zc(Jc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xu(Kf(n))}function Hf(e,t){return Uf(e.databaseId,t)}function qf(e){const t=zf(e);return 4===t.length?gu.emptyPath():Kf(t)}function Wf(e){return new gu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Kf(e){return Yc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Gf(e,t,n){return{name:Bf(e,t),fields:n.value.mapValue.fields}}function Qf(e,t){let n;if(t instanceof Jd)n={update:Gf(e,t.key,t.value)};else if(t instanceof rf)n={delete:Bf(e,t.key)};else if(t instanceof Zd)n={update:Gf(e,t.key,t.data),updateMask:ap(t.fieldMask)};else{if(!(t instanceof sf))return Qc();n={verify:Bf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Dd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ld)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Md)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fd)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Qc()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Vf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Qc()}(e,t.precondition)),n}function Yf(e,t){return{documents:[Hf(e,t.path)]}}function Xf(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Hf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Hf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return sp(Ih.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:rp(e.field),direction:ep(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Lf(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Jf(e){let t=qf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Zf(e);return t instanceof Ih&&Ah(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new Th(ip(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Au(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Eh(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Eh(n,t)}(n.endAt)),Yh(t,i,a,s,o,"F",l,c)}function Zf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ip(e.unaryFilter.field);return _h.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ip(e.unaryFilter.field);return _h.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ip(e.unaryFilter.field);return _h.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ip(e.unaryFilter.field);return _h.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Qc()}}(e):void 0!==e.fieldFilter?function(e){return _h.create(ip(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ih.create(e.compositeFilter.filters.map((e=>Zf(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Qc()}}(e.compositeFilter.op))}(e):Qc()}function ep(e){return Af[e]}function tp(e){return Pf[e]}function np(e){return Rf[e]}function rp(e){return{fieldPath:e.canonicalString()}}function ip(e){return vu.fromServerFormat(e.fieldPath)}function sp(e){return e instanceof _h?function(e){if("=="===e.op){if(mh(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NAN"}};if(ph(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mh(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NOT_NAN"}};if(ph(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rp(e.field),op:tp(e.op),value:e.value}}}(e):e instanceof Ih?function(e){const t=e.getFilters().map((e=>sp(e)));return 1===t.length?t[0]:{compositeFilter:{op:np(e.op),filters:t}}}(e):Qc()}function ap(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function op(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class lp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pu.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:pu.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ku.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new lp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new lp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cp{constructor(e){this.fe=e}}function up(e){const t=Jf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?sd(t,t.limit,"L"):t}class hp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Yu(e.integerValue));else if("doubleValue"in e){const n=Yu(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Pu(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Xu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?vh(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Qc()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),xu.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}hp.Ve=new hp;class dp{constructor(){this.rn=new fp}addToCollectionParentIndex(e,t){return this.rn.add(t),_u.resolve()}getCollectionParents(e,t){return _u.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return _u.resolve()}deleteFieldIndex(e,t){return _u.resolve()}getDocumentsMatchingTarget(e,t){return _u.resolve(null)}getIndexType(e,t){return _u.resolve(0)}getFieldIndexes(e,t){return _u.resolve([])}getNextCollectionGroupToUpdate(e){return _u.resolve(null)}getMinOffset(e,t){return _u.resolve(Nu.min())}getMinOffsetFromCollectionGroup(e,t){return _u.resolve(Nu.min())}updateCollectionGroup(e,t,n){return _u.resolve()}updateIndexEntries(e,t){return _u.resolve()}}class fp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new $u(gu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new $u(gu.comparator)).toArray()}}new Uint8Array(0);class pp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new pp(e,pp.DEFAULT_COLLECTION_PERCENTILE,pp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pp.DEFAULT_COLLECTION_PERCENTILE=10,pp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pp.DEFAULT=new pp(41943040,pp.DEFAULT_COLLECTION_PERCENTILE,pp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pp.DISABLED=new pp(-1,0,0);class mp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new mp(0)}static Mn(){return new mp(-1)}}class gp{constructor(){this.changes=new fd((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?_u.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Qd(n.mutation,e,qu.empty(),fu.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,kd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kd();const r=xd();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=yd();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=xd();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,kd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=md();const s=wd(),a=wd();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Zd)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Qd(a.mutation,t,a.mutation.getFieldMask(),fu.now())):s.set(t.key,qu.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new yp(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=wd();let r=new Uu(((e,t)=>e-t)),i=kd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||qu.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||kd()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=bd();l.forEach((e=>{if(!i.has(e)){const r=Kd(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return _u.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return xu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):td(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):_u.resolve(xd());let a=-1,o=i;return s.next((t=>_u.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?_u.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,kd()))).next((e=>({batchId:a,changes:vd(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xu(t)).next((e=>{let t=yd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=yd();return this.indexManager.getCollectionParents(e,r).next((s=>_u.forEach(s,(s=>{const a=function(e,t){return new Qh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,wh.newInvalidDocument(r)))}));let n=yd();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&Qd(s.mutation,i,qu.empty(),fu.now()),cd(t,i)&&(n=n.insert(e,i))})),n}))}}class xp{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return _u.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Ff(n.createTime)}),_u.resolve()}getNamedQuery(e,t){return _u.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:up(e.bundledQuery),readTime:Ff(e.readTime)}}(t)),_u.resolve()}}class bp{constructor(){this.overlays=new Uu(xu.comparator),this.ls=new Map}getOverlay(e,t){return _u.resolve(this.overlays.get(t))}getOverlays(e,t){const n=xd();return _u.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),_u.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),_u.resolve()}getOverlaysForCollection(e,t,n){const r=xd(),i=t.length+1,s=new xu(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return _u.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Uu(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=xd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=xd(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return _u.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new lf(t,n));let i=this.ls.get(t);void 0===i&&(i=kd(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class wp{constructor(){this.fs=new $u(Ep.ds),this.ws=new $u(Ep._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Ep(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Ep(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new xu(new gu([])),n=new Ep(t,e),r=new Ep(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new xu(new gu([])),n=new Ep(t,e),r=new Ep(t,e+1);let i=kd();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Ep(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ep{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return xu.comparator(e.key,t.key)||hu(e.As,t.As)}static _s(e,t){return hu(e.As,t.As)||xu.comparator(e.key,t.key)}}class Np{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new $u(Ep.ds)}checkEmpty(e){return _u.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new af(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Ep(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _u.resolve(s)}lookupMutationBatch(e,t){return _u.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return _u.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return _u.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return _u.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ep(t,0),r=new Ep(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),_u.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new $u(hu);return t.forEach((e=>{const t=new Ep(e,0),r=new Ep(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),_u.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;xu.isDocumentKey(i)||(i=i.child(""));const s=new Ep(new xu(i),0);let a=new $u(hu);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),s),_u.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Yc(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return _u.forEach(t.mutations,(r=>{const i=new Ep(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Ep(t,0),r=this.Rs.firstAfterOrEqual(n);return _u.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,_u.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kp{constructor(e){this.Ds=e,this.docs=new Uu(xu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return _u.resolve(n?n.document.mutableCopy():wh.newInvalidDocument(t))}getEntries(e,t){let n=md();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():wh.newInvalidDocument(e))})),_u.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=md();const s=t.path,a=new xu(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ku(Eu(a),n)<=0||(r.has(a.key)||cd(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return _u.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Qc()}Cs(e,t){return _u.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Tp(this)}getSize(e){return _u.resolve(this.size)}}class Tp extends gp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),_u.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Sp{constructor(e){this.persistence=e,this.xs=new fd((e=>Wh(e)),Kh),this.lastRemoteSnapshotVersion=pu.min(),this.highestTargetId=0,this.Ns=0,this.ks=new wp,this.targetCount=0,this.Ms=mp.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),_u.resolve()}getLastRemoteSnapshotVersion(e){return _u.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _u.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),_u.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),_u.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new mp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,_u.resolve()}updateTargetData(e,t){return this.Fn(t),_u.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,_u.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),_u.waitFor(i).next((()=>r))}getTargetCount(e){return _u.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return _u.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),_u.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),_u.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),_u.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return _u.resolve(n)}containsKey(e,t){return _u.resolve(this.ks.containsKey(t))}}class Cp{constructor(e,t){this.$s={},this.overlays={},this.Os=new ju(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Sp(this),this.indexManager=new dp,this.remoteDocumentCache=function(e){return new kp(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new cp(t),this.qs=new xp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Np(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){qc("MemoryPersistence","Starting transaction:",e);const r=new _p(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return _u.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class _p extends Su{constructor(e){super(),this.currentSequenceNumber=e}}class Ip{constructor(e){this.persistence=e,this.Qs=new wp,this.js=null}static zs(e){return new Ip(e)}get Ws(){if(this.js)return this.js;throw Qc()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),_u.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),_u.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),_u.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _u.forEach(this.Ws,(n=>{const r=xu.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,pu.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return _u.or([()=>_u.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class jp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=kd(),r=kd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new jp(e,t.fromCache,n,r)}}class Ap{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Jh(t))return _u.resolve(null);let n=rd(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=sd(t,null,"F"),n=rd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=kd(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,sd(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,r){return Jh(t)||r.isEqual(pu.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(Hc()<=Qe.DEBUG&&qc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ld(t)),this.Wi(e,s,t,wu(r,-1)))}))}ji(e,t){let n=new $u(hd(e));return t.forEach(((t,r)=>{cd(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Hc()<=Qe.DEBUG&&qc("QueryEngine","Using full collection scan to execute query:",ld(t)),this.Ui.getDocumentsMatchingQuery(e,t,Nu.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Pp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Uu(hu),this.Yi=new fd((e=>Wh(e)),Kh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Rp(e,t,n,r){return new Pp(e,t,n,r)}async function Dp(e,t){const n=Xc(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=kd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({er:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Lp(e){const t=Xc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function Op(e,t,n){let r=kd(),i=kd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=md();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(pu.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):qc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{nr:r,sr:i}}))}function Mp(e,t){const n=Xc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Vp(e,t){const n=Xc(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,_u.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new lp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function Fp(e,t,n){const r=Xc(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Iu(e))throw e;qc("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Up(e,t,n){const r=Xc(e);let i=pu.min(),s=kd();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Xc(e),i=r.Yi.get(n);return void 0!==i?_u.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,rd(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:pu.min(),n?s:kd()))).next((e=>(zp(r,ud(t),e),{documents:e,ir:s})))))}function zp(e,t,n){let r=e.Xi.get(t)||pu.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class Bp{constructor(){this.activeTargetIds=Sd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $p{constructor(){this.Hr=new Bp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Bp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hp{Yr(e){}shutdown(){}}class qp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){qc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){qc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wp=null;function Kp(){return null===Wp?Wp=268435456+Math.round(2147483648*Math.random()):Wp++,"0x"+Wp.toString(16)}const Gp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qp{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Yp="WebChannelConnection";class Xp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=Kp(),a=this.To(e,t);qc("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const o={};return this.Eo(o,r,i),this.Ao(e,a,o,n).then((t=>(qc("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw Kc("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=Gp[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Kp();return new Promise(((s,a)=>{const o=new Mc;o.setWithCredentials(!0),o.listenOnce(Pc.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Ac.NO_ERROR:const t=o.getResponseJson();qc(Yp,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Ac.TIMEOUT:qc(Yp,`RPC '${e}' ${i} timed out`),a(new Zc(Jc.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const n=o.getStatus();if(qc(Yp,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Jc).indexOf(t)>=0?t:Jc.UNKNOWN}(t.status);a(new Zc(e,t.message))}else a(new Zc(Jc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Zc(Jc.UNAVAILABLE,"Connection failed."));break;default:Qc()}}finally{qc(Yp,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);qc(Yp,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=Kp(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ic(),a=jc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new Lc({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");qc(Yp,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new Qp({ro:t=>{d?qc(Yp,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(qc(Yp,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),qc(Yp,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Oc.EventType.OPEN,(()=>{d||qc(Yp,`RPC '${e}' stream ${r} transport opened.`)})),p(u,Oc.EventType.CLOSE,(()=>{d||(d=!0,qc(Yp,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(u,Oc.EventType.ERROR,(t=>{d||(d=!0,Kc(Yp,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new Zc(Jc.UNAVAILABLE,"The operation could not be completed")))})),p(u,Oc.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Yc(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){qc(Yp,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=uf[e];if(void 0!==t)return ff(t)}(t),i=a.message;void 0===n&&(n=Jc.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.wo(new Zc(n,i)),u.close()}else qc(Yp,`RPC '${e}' stream ${r} received:`,i),f._o(i)}})),p(a,Rc.STAT_EVENT,(t=>{t.stat===Dc.PROXY?qc(Yp,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Dc.NOPROXY&&qc(Yp,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}function Jp(){return"undefined"!=typeof document?document:null}function Zp(e){return new Df(e,!0)}class em{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&qc("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class tm{constructor(e,t,n,r,i,s,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new em(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Jc.RESOURCE_EXHAUSTED?(Wc(t.toString()),Wc("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Jc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new Zc(Jc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return qc("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(qc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nm extends tm{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Qc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Yc(void 0===t||"string"==typeof t),Ku.fromBase64String(t||"")):(Yc(void 0===t||t instanceof Uint8Array),Ku.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Jc.UNKNOWN:ff(e.code);return new Zc(t,e.message||"")}(a);n=new Sf(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=$f(e,r.document.name),s=Ff(r.document.updateTime),a=r.document.createTime?Ff(r.document.createTime):pu.min(),o=new xh({mapValue:{fields:r.document.fields}}),l=wh.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new kf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=$f(e,r.document),s=r.readTime?Ff(r.readTime):pu.min(),a=wh.newNoDocument(i,s),o=r.removedTargetIds||[];n=new kf([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=$f(e,r.document),s=r.removedTargetIds||[];n=new kf([],s,i,null)}else{if(!("filter"in t))return Qc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new cf(r,i),a=e.targetId;n=new Tf(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return pu.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?pu.min():t.readTime?Ff(t.readTime):pu.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Wf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Gh(r)?{documents:Yf(e,r)}:{query:Xf(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Mf(e,t.resumeToken);const r=Lf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(pu.min())>0){n.readTime=Of(e,t.snapshotVersion.toTimestamp());const r=Lf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Wf(this.serializer),t.removeTarget=e,this.Wo(t)}}class rm extends tm{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Yc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Yc(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ff(e.updateTime):Ff(t);return n.isEqual(pu.min())&&(n=Ff(t)),new $d(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ff(e.commitTime);return this.listener.cu(n,t)}return Yc(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Wf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Qf(this.serializer,e)))};this.Wo(t)}}class im extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Zc(Jc.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Jc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zc(Jc.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.vo(e,t,n,s,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Jc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zc(Jc.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class sm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Wc(t),this.mu=!1):qc("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class am{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{mm(this)&&(qc("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Xc(e);t.vu.add(4),await lm(t),t.bu.set("Unknown"),t.vu.delete(4),await om(t)}(this))}))})),this.bu=new sm(n,r)}}async function om(e){if(mm(e))for(const t of e.Ru)await t(!0)}async function lm(e){for(const t of e.Ru)await t(!1)}function cm(e,t){const n=Xc(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),pm(n)?fm(n):Rm(n).Ko()&&hm(n,t))}function um(e,t){const n=Xc(e),r=Rm(n);n.Au.delete(t),r.Ko()&&dm(n,t),0===n.Au.size&&(r.Ko()?r.jo():mm(n)&&n.bu.set("Unknown"))}function hm(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pu.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Rm(e).su(t)}function dm(e,t){e.Vu.qt(t),Rm(e).iu(t)}function fm(e){e.Vu=new _f({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Rm(e).start(),e.bu.gu()}function pm(e){return mm(e)&&!Rm(e).Uo()&&e.Au.size>0}function mm(e){return 0===Xc(e).vu.size}function gm(e){e.Vu=void 0}async function ym(e){e.Au.forEach(((t,n)=>{hm(e,t)}))}async function vm(e,t){gm(e),pm(e)?(e.bu.Iu(t),fm(e)):e.bu.set("Unknown")}async function xm(e,t,n){if(e.bu.set("Online"),t instanceof Sf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){qc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await bm(e,n)}else if(t instanceof kf?e.Vu.Ht(t):t instanceof Tf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(pu.min()))try{const t=await Lp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Ku.EMPTY_BYTE_STRING,r.snapshotVersion)),dm(e,t);const i=new lp(r.target,t,n,r.sequenceNumber);hm(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){qc("RemoteStore","Failed to raise snapshot:",t),await bm(e,t)}}async function bm(e,t,n){if(!Iu(t))throw t;e.vu.add(1),await lm(e),e.bu.set("Offline"),n||(n=()=>Lp(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{qc("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await om(e)}))}function wm(e,t){return t().catch((n=>bm(e,n,t)))}async function Em(e){const t=Xc(e),n=Dm(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Nm(t);)try{const e=await Mp(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,km(t,e)}catch(e){await bm(t,e)}Tm(t)&&Sm(t)}function Nm(e){return mm(e)&&e.Eu.length<10}function km(e,t){e.Eu.push(t);const n=Dm(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Tm(e){return mm(e)&&!Dm(e).Uo()&&e.Eu.length>0}function Sm(e){Dm(e).start()}async function Cm(e){Dm(e).hu()}async function _m(e){const t=Dm(e);for(const n of e.Eu)t.uu(n.mutations)}async function Im(e,t,n){const r=e.Eu.shift(),i=of.from(r,t,n);await wm(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Em(e)}async function jm(e,t){t&&Dm(e).ou&&await async function(e,t){if(df(n=t.code)&&n!==Jc.ABORTED){const n=e.Eu.shift();Dm(e).Qo(),await wm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Em(e)}var n}(e,t),Tm(e)&&Sm(e)}async function Am(e,t){const n=Xc(e);n.asyncQueue.verifyOperationInProgress(),qc("RemoteStore","RemoteStore received new credentials");const r=mm(n);n.vu.add(3),await lm(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await om(n)}async function Pm(e,t){const n=Xc(e);t?(n.vu.delete(2),await om(n)):t||(n.vu.add(2),await lm(n),n.bu.set("Unknown"))}function Rm(e){return e.Su||(e.Su=function(e,t,n){const r=Xc(e);return r.fu(),new nm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:ym.bind(null,e),ao:vm.bind(null,e),nu:xm.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),pm(e)?fm(e):e.bu.set("Unknown")):(await e.Su.stop(),gm(e))}))),e.Su}function Dm(e){return e.Du||(e.Du=function(e,t,n){const r=Xc(e);return r.fu(),new rm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Cm.bind(null,e),ao:jm.bind(null,e),au:_m.bind(null,e),cu:Im.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Em(e)):(await e.Du.stop(),e.Eu.length>0&&(qc("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class Lm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new eu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Lm(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zc(Jc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(e,t){if(Wc("AsyncQueue",`${t}: ${e}`),Iu(e))return new Zc(Jc.UNAVAILABLE,`${t}: ${e}`);throw e}class Mm{constructor(e){this.comparator=e?(t,n)=>e(t,n)||xu.comparator(t.key,n.key):(e,t)=>xu.comparator(e.key,t.key),this.keyedMap=yd(),this.sortedSet=new Uu(this.comparator)}static emptySet(e){return new Mm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Mm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Vm{constructor(){this.Cu=new Uu(xu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Qc():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Fm{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Fm(e,t,Mm.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Um{constructor(){this.Nu=void 0,this.listeners=[]}}class zm{constructor(){this.queries=new fd((e=>od(e)),ad),this.onlineState="Unknown",this.ku=new Set}}async function Bm(e,t){const n=Xc(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Um),i)try{s.Nu=await n.onListen(r)}catch(e){const n=Om(e,`Initialization of query '${ld(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&Wm(n)}async function $m(e,t){const n=Xc(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Hm(e,t){const n=Xc(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Wm(n)}function qm(e,t,n){const r=Xc(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Wm(e){e.ku.forEach((e=>{e.next()}))}class Km{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Fm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=Fm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Gm{constructor(e){this.key=e}}class Qm{constructor(e){this.key=e}}class Ym{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=kd(),this.mutatedKeys=kd(),this.tc=hd(e),this.ec=new Mm(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Vm,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=cd(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qc()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==i.length||o?{snapshot:new Fm(this.query,e.ec,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Vm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=kd(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Qm(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new Gm(n))})),t}hc(e){this.Yu=e.ir,this.Zu=kd();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Fm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Xm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Jm{constructor(e){this.key=e,this.fc=!1}}class Zm{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new fd((e=>od(e)),ad),this._c=new Map,this.mc=new Set,this.gc=new Uu(xu.comparator),this.yc=new Map,this.Ic=new wp,this.Tc={},this.Ec=new Map,this.Ac=mp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function eg(e,t){const n=vg(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await Vp(n.localStore,rd(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await tg(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&cm(n.remoteStore,e)}return i}async function tg(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await Up(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return dg(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const s=await Up(e.localStore,t,!0),a=new Ym(t,s.ir),o=a.sc(s.documents),l=Nf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);dg(e,n,c.cc);const u=new Xm(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function ng(e,t){const n=Xc(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!ad(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Fp(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),um(n.remoteStore,r.targetId),ug(n,r.targetId)})).catch(Cu)):(ug(n,r.targetId),await Fp(n.localStore,r.targetId,!0))}async function rg(e,t){const n=Xc(e);try{const e=await function(e,t){const n=Xc(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Ku.EMPTY_BYTE_STRING,pu.min()).withLastLimboFreeSnapshotVersion(pu.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Bs.updateTargetData(e,c))}));let o=md(),l=kd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Op(e,s,t.documentUpdates).next((e=>{o=e.nr,l=e.sr}))),!r.isEqual(pu.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return _u.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(Yc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Yc(r.fc):e.removedDocuments.size>0&&(Yc(r.fc),r.fc=!1))})),await mg(n,e,t)}catch(e){await Cu(e)}}function ig(e,t,n){const r=Xc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Xc(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&Wm(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function sg(e,t,n){const r=Xc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new Uu(xu.comparator);e=e.insert(s,wh.newNoDocument(s,pu.min()));const n=kd().add(s),i=new Ef(pu.min(),new Map,new Uu(hu),e,n);await rg(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),pg(r)}else await Fp(r.localStore,t,!1).then((()=>ug(r,t,n))).catch(Cu)}async function ag(e,t){const n=Xc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Xc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=_u.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Yc(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=kd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);cg(n,r,null),lg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mg(n,e)}catch(e){await Cu(e)}}async function og(e,t,n){const r=Xc(e);try{const e=await function(e,t){const n=Xc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Yc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);cg(r,t,n),lg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await mg(r,e)}catch(n){await Cu(n)}}function lg(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function cg(e,t,n){const r=Xc(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function ug(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||hg(e,t)}))}function hg(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(um(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),pg(e))}function dg(e,t,n){for(const r of n)r instanceof Gm?(e.Ic.addReference(r.key,t),fg(e,r)):r instanceof Qm?(qc("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||hg(e,r.key)):Qc()}function fg(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(qc("SyncEngine","New document in limbo: "+n),e.mc.add(r),pg(e))}function pg(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new xu(gu.fromString(t)),r=e.Ac.next();e.yc.set(r,new Jm(n)),e.gc=e.gc.insert(n,r),cm(e.remoteStore,new lp(rd(Xh(n.path)),r,"TargetPurposeLimboResolution",ju.ct))}}async function mg(e,t,n){const r=Xc(e),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach(((e,o)=>{a.push(r.Rc(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=jp.Li(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=Xc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>_u.forEach(t,(t=>_u.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>_u.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Iu(e))throw e;qc("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function gg(e,t){const n=Xc(e);if(!n.currentUser.isEqual(t)){qc("SyncEngine","User change. New user:",t.toKey());const e=await Dp(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Zc(Jc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await mg(n,e.er)}}function yg(e,t){const n=Xc(e),r=n.yc.get(t);if(r&&r.fc)return kd().add(r.key);{let e=kd();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function vg(e){const t=Xc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sg.bind(null,t),t.dc.nu=Hm.bind(null,t.eventManager),t.dc.Pc=qm.bind(null,t.eventManager),t}function xg(e){const t=Xc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ag.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=og.bind(null,t),t}class bg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Zp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Rp(this.persistence,new Ap,e.initialUser,this.serializer)}createPersistence(e){return new Cp(Ip.zs,this.serializer)}createSharedClientState(e){return new $p}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ig(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=gg.bind(null,this.syncEngine),await Pm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new zm}createDatastore(e){const t=Zp(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Xp(r));var r;return function(e,t,n,r){return new im(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>ig(this.syncEngine,e,0),s=qp.D()?new qp:new Hp,new am(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Zm(e,t,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Xc(e);qc("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await lm(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Eg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Wc("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Ng{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=zc.UNAUTHENTICATED,this.clientId=uu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{qc("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(qc("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Zc(Jc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new eu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Om(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function kg(e,t){e.asyncQueue.verifyOperationInProgress(),qc("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Dp(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Tg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Cg(e);qc("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Am(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Am(t.remoteStore,n))),e._onlineComponents=t}function Sg(e){return"FirebaseError"===e.name?e.code===Jc.FAILED_PRECONDITION||e.code===Jc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Cg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){qc("FirestoreClient","Using user provided OfflineComponentProvider");try{await kg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Sg(n))throw n;Kc("Error using user provided cache. Falling back to memory cache: "+n),await kg(e,new bg)}}else qc("FirestoreClient","Using default OfflineComponentProvider"),await kg(e,new bg);return e._offlineComponents}async function _g(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(qc("FirestoreClient","Using user provided OnlineComponentProvider"),await Tg(e,e._uninitializedComponentsProvider._online)):(qc("FirestoreClient","Using default OnlineComponentProvider"),await Tg(e,new wg))),e._onlineComponents}function Ig(e){return _g(e).then((e=>e.syncEngine))}async function jg(e){const t=await _g(e),n=t.eventManager;return n.onListen=eg.bind(null,t.syncEngine),n.onUnlisten=ng.bind(null,t.syncEngine),n}function Ag(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new eu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Eg({next:s=>{t.enqueueAndForget((()=>$m(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new Zc(Jc.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new Zc(Jc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Km(Xh(n.path),s,{includeMetadataChanges:!0,Ku:!0});return Bm(e,a)}(await jg(e),e.asyncQueue,t,n,r))),r.promise}function Pg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new eu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Eg({next:n=>{t.enqueueAndForget((()=>$m(e,a))),n.fromCache&&"server"===r.source?i.reject(new Zc(Jc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Km(n,s,{includeMetadataChanges:!0,Ku:!0});return Bm(e,a)}(await jg(e),e.asyncQueue,t,n,r))),r.promise}function Rg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Dg=new Map;function Lg(e,t,n){if(!n)throw new Zc(Jc.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Og(e){if(!xu.isDocumentKey(e))throw new Zc(Jc.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Mg(e){if(xu.isDocumentKey(e))throw new Zc(Jc.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Vg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Qc()}function Fg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Zc(Jc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vg(e);throw new Zc(Jc.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Ug(e,t){if(t<=0)throw new Zc(Jc.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class zg{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Zc(Jc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Zc(Jc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Zc(Jc.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Zc(Jc.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Zc(Jc.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Zc(Jc.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Bg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Zc(Jc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Zc(Jc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new nu;switch(e.type){case"firstParty":return new au(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Zc(Jc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Dg.get(e);t&&(qc("ComponentProvider","Removing Datastore"),Dg.delete(e),t.terminate())}(this),Promise.resolve()}}function $g(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Fg(e,Bg))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&Kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=zc.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Zc(Jc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new zc(s)}e._authCredentials=new ru(new tu(t,n))}}class Hg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hg(this.firestore,e,this._key)}}class qg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new qg(this.firestore,e,this._query)}}class Wg extends qg{constructor(e,t,n){super(e,t,Xh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hg(this.firestore,null,new xu(e))}withConverter(e){return new Wg(this.firestore,e,this._path)}}function Kg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=$e(e),Lg("collection","path",t),e instanceof Bg){const n=gu.fromString(t,...r);return Mg(n),new Wg(e,null,n)}{if(!(e instanceof Hg||e instanceof Wg))throw new Zc(Jc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(gu.fromString(t,...r));return Mg(n),new Wg(e.firestore,null,n)}}function Gg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=$e(e),1===arguments.length&&(t=uu.A()),Lg("doc","path",t),e instanceof Bg){const n=gu.fromString(t,...r);return Og(n),new Hg(e,null,new xu(n))}{if(!(e instanceof Hg||e instanceof Wg))throw new Zc(Jc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(gu.fromString(t,...r));return Og(n),new Hg(e.firestore,e instanceof Wg?e.converter:null,new xu(n))}}class Qg{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new em(this,"async_queue_retry"),this.Xc=()=>{const e=Jp();e&&qc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Jp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Jp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new eu;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Iu(e))throw e;qc("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Wc("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Lm.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&Qc()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Yg extends Bg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Qg,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Jg(this),this._firestoreClient.terminate()}}function Xg(e){return e._firestoreClient||Jg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Jg(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new th(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Rg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ng(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Zg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zg(Ku.fromBase64String(e))}catch(e){throw new Zc(Jc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Zg(Ku.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ey{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ty{constructor(e){this._methodName=e}}class ny{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Zc(Jc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Zc(Jc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hu(this._lat,e._lat)||hu(this._long,e._long)}}const ry=/^__.*__$/;class iy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Zd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jd(e,this.data,t,this.fieldTransforms)}}class sy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Zd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ay(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qc()}}class oy{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ny(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ay(this.ca)&&ry.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ly{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Zp(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new oy({ca:e,methodName:t,ga:n,path:vu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cy(e){const t=e._freezeSettings(),n=Zp(e._databaseId);return new ly(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uy(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(s.merge||s.mergeFields?2:0,t,n,i);xy("Data must be an object, but it was:",a,r);const o=yy(r,a);let l,c;if(s.merge)l=new qu(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=by(t,r,n);if(!a.contains(i))throw new Zc(Jc.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);ky(e,i)||e.push(i)}l=new qu(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new iy(new xh(o),l,c)}class hy extends ty{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hy}}class dy extends ty{_toFieldTransform(e){return new Bd(e.path,new Dd)}isEqual(e){return e instanceof dy}}function fy(e,t,n,r){const i=e.ya(1,t,n);xy("Data must be an object, but it was:",i,r);const s=[],a=xh.empty();Vu(r,((e,r)=>{const o=Ey(t,e,n);r=$e(r);const l=i.da(o);if(r instanceof hy)s.push(o);else{const e=gy(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new qu(s);return new sy(a,o,i.fieldTransforms)}function py(e,t,n,r,i,s){const a=e.ya(1,t,n),o=[by(t,r,n)],l=[i];if(s.length%2!=0)throw new Zc(Jc.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(by(t,s[d])),l.push(s[d+1]);const c=[],u=xh.empty();for(let d=o.length-1;d>=0;--d)if(!ky(c,o[d])){const e=o[d];let t=l[d];t=$e(t);const n=a.da(e);if(t instanceof hy)c.push(e);else{const r=gy(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new qu(c);return new sy(u,h,a.fieldTransforms)}function my(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return gy(n,e.ya(r?4:3,t))}function gy(e,t){if(vy(e=$e(e)))return xy("Unsupported field value:",t,e),yy(e,t);if(e instanceof ty)return function(e,t){if(!ay(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=gy(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=$e(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Id(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=fu.fromDate(e);return{timestampValue:Of(t.serializer,n)}}if(e instanceof fu){const n=new fu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Of(t.serializer,n)}}if(e instanceof ny)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Zg)return{bytesValue:Mf(t.serializer,e._byteString)};if(e instanceof Hg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Uf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${Vg(e)}`)}(e,t)}function yy(e,t){const n={};return Fu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vu(e,((e,r)=>{const i=gy(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function vy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof fu||e instanceof ny||e instanceof Zg||e instanceof Hg||e instanceof ty)}function xy(e,t,n){if(!vy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Vg(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function by(e,t,n){if((t=$e(t))instanceof ey)return t._internalPath;if("string"==typeof t)return Ey(e,t);throw Ny("Field path arguments must be of type string or ",e,!1,void 0,n)}const wy=new RegExp("[~\\*/\\[\\]]");function Ey(e,t,n){if(t.search(wy)>=0)throw Ny(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ey(...t.split("."))._internalPath}catch(r){throw Ny(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ny(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Zc(Jc.INVALID_ARGUMENT,o+e+l)}function ky(e,t){return e.some((e=>e.isEqual(t)))}class Ty{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Hg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sy extends Ty{data(){return super.data()}}function Cy(e,t){return"string"==typeof t?Ey(e,t):t instanceof ey?t._internalPath:t._delegate._internalPath}function _y(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Zc(Jc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iy{}class jy extends Iy{}function Ay(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Iy&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Ry)).length,n=e.filter((e=>e instanceof Py)).length;if(t>1||t>0&&n>0)throw new Zc(Jc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Py extends jy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Py(e,t,n)}_apply(e){const t=this._parse(e);return Fy(e._query,t),new qg(e.firestore,e.converter,id(e._query,t))}_parse(e){const t=cy(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Zc(Jc.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Vy(a,s);const t=[];for(const n of a)t.push(My(r,e,n));o={arrayValue:{values:t}}}else o=My(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Vy(a,s),o=my(n,"where",a,"in"===s||"not-in"===s);return _h.create(i,s,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Ry extends Iy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ry(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Ih.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Fy(n,i),n=id(n,i)}(e._query,t),new qg(e.firestore,e.converter,id(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Dy extends jy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dy(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Th(t,n);return function(e,t){if(null===Zh(e)){const n=ed(e);null!==n&&Uy(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new qg(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Qh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Ly(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Cy("orderBy",e);return Dy._create(n,t)}class Oy extends jy{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Oy(e,t,n)}_apply(e){return new qg(e.firestore,e.converter,sd(e._query,this._limit,this._limitType))}}function My(e,t,n){if("string"==typeof(n=$e(n))){if(""===n)throw new Zc(Jc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!td(t)&&-1!==n.indexOf("/"))throw new Zc(Jc.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(gu.fromString(n));if(!xu.isDocumentKey(r))throw new Zc(Jc.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hh(e,new xu(r))}if(n instanceof Hg)return hh(e,n._key);throw new Zc(Jc.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vg(n)}.`)}function Vy(e,t){if(!Array.isArray(e)||0===e.length)throw new Zc(Jc.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Fy(e,t){if(t.isInequality()){const n=ed(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Zc(Jc.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=Zh(e);null!==i&&Uy(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Zc(Jc.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Zc(Jc.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Uy(e,t,n){if(!n.isEqual(t))throw new Zc(Jc.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class zy{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ih(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Vu(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new ny(Yu(e.latitude),Yu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Zu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(eh(e));default:return null}}convertTimestamp(e){const t=Qu(e);return new fu(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=gu.fromString(e);Yc(op(n));const r=new nh(n.get(1),n.get(3)),i=new xu(n.popFirst(5));return r.isEqual(t)||Wc(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function By(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class $y{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hy extends Ty{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new qy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Cy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class qy extends Hy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Wy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $y(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new qy(this._firestore,this._userDataWriter,n.key,n,new $y(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zc(Jc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new qy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new $y(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new qy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $y(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Ky(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ky(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qc()}}function Gy(e){e=Fg(e,Hg);const t=Fg(e.firestore,Yg);return Ag(Xg(t),e._key).then((n=>Zy(t,e,n)))}class Qy extends zy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hg(this.firestore,null,t)}}function Yy(e){e=Fg(e,qg);const t=Fg(e.firestore,Yg),n=Xg(t),r=new Qy(t);return _y(e._query),Pg(n,e._query).then((n=>new Wy(t,r,e,n)))}function Xy(e,t,n){e=Fg(e,Hg);const r=Fg(e.firestore,Yg),i=By(e.converter,t,n);return Jy(r,[uy(cy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Hd.none())])}function Jy(e,t){return function(e,t){const n=new eu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=xg(e);try{const e=await function(e,t){const n=Xc(e),r=fu.now(),i=t.reduce(((e,t)=>e.add(t.key)),kd());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=md(),l=kd();return n.Zi.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=Yd(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Zd(e.key,t,bh(t.value.mapValue),Hd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:vd(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Uu(hu)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await mg(r,e.changes),await Em(r.remoteStore)}catch(e){const t=Om(e,"Failed to persist write");n.reject(t)}}(await Ig(e),t,n))),n.promise}(Xg(e),t)}function Zy(e,t,n){const r=n.docs.get(t._key),i=new Qy(e);return new Hy(e,i,t._key,r,new $y(n.hasPendingWrites,n.fromCache),t.converter)}function ev(){return new dy("serverTimestamp")}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Bc=e}(en),Yt(new He("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Yg(new iu(e.getProvider("auth-internal")),new lu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Zc(Jc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nh(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),rn(Uc,"3.13.0",e),rn(Uc,"3.13.0","esm2017")}();const tv=tn({apiKey:"AIzaSyD85M5Di_L2Df2gHwPtnEDRL7Ttud6zrLE",authDomain:"promo-rating.firebaseapp.com",projectId:"promo-rating",storageBucket:"promo-rating.firebasestorage.app",messagingSenderId:"695043971931",appId:"1:695043971931:web:6078a50dc725a1d55c587e",measurementId:"G-Q8W8N75XNC"}),nv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();const t=Xt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Xt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Oe(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;wn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ds,persistence:[Ti,li,ui]}),r=Ie("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>gs)return;const r=null===t||void 0===t?void 0:t.token;ys!==r&&(ys=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){$e(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){$e(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=Ce("auth");return s&&Ir(n,`http://${s}`),n}(tv),rv=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Xt("object"==typeof e?e:nn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Ce(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&$g(r,...e)}return r}(tv);function iv(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=iv(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const sv=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=iv(e))&&(r&&(r+=" "),r+=t);return r},av=e=>"number"==typeof e&&!isNaN(e),ov=e=>"string"==typeof e,lv=e=>"function"==typeof e,cv=e=>ov(e)||lv(e)?e:null,uv=e=>(0,i.isValidElement)(e)||ov(e)||lv(e)||av(e);function hv(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:a=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:u,nodeRef:h,isIn:d}=e;const f=r?`${t}--${l}`:t,p=r?`${n}--${l}`:n,m=(0,i.useRef)(0);return(0,i.useLayoutEffect)((()=>{const e=h.current,t=f.split(" "),n=r=>{r.target===h.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,i.useEffect)((()=>{const e=h.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,a):u()};d||(c?t():(m.current=1,e.className+=` ${p}`,e.addEventListener("animationend",t)))}),[d]),i.createElement(i.Fragment,null,o)}}function dv(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const fv={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},pv=e=>{let{theme:t,type:n,...r}=e;return i.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...r})},mv={info:function(e){return i.createElement(pv,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return i.createElement(pv,{...e},i.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return i.createElement(pv,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return i.createElement(pv,{...e},i.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.createElement("div",{className:"Toastify__spinner"})}};function gv(e){const[,t]=(0,i.useReducer)((e=>e+1),0),[n,r]=(0,i.useState)([]),s=(0,i.useRef)(null),a=(0,i.useRef)(new Map).current,o=e=>-1!==n.indexOf(e),l=(0,i.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:e=>a.get(e)}).current;function c(e){let{containerId:t}=e;const{limit:n}=l.props;!n||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function u(e){r((t=>null==e?[]:t.filter((t=>t!==e))))}function h(){const{toastContent:e,toastProps:t,staleId:n}=l.queue.shift();f(e,t,n)}function d(e,n){let{delay:r,staleId:o,...c}=n;if(!uv(e)||function(e){return!s.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||a.has(e.toastId)&&null==e.updateId}(c))return;const{toastId:d,updateId:p,data:m}=c,{props:g}=l,y=()=>u(d),v=null==p;v&&l.count++;const x={...g,style:g.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(c).filter((e=>{let[t,n]=e;return null!=n}))),toastId:d,updateId:p,data:m,closeToast:y,isIn:!1,className:cv(c.className||g.toastClassName),bodyClassName:cv(c.bodyClassName||g.bodyClassName),progressClassName:cv(c.progressClassName||g.progressClassName),autoClose:!c.isLoading&&(b=c.autoClose,w=g.autoClose,!1===b||av(b)&&b>0?b:w),deleteToast(){const e=dv(a.get(d),"removed");a.delete(d),fv.emit(4,e);const n=l.queue.length;if(l.count=null==d?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),n>0){const e=null==d?l.props.limit:1;if(1===n||1===e)l.displayedToast++,h();else{const t=e>n?n:e;l.displayedToast=t;for(let e=0;e<t;e++)h()}}else t()}};var b,w;x.iconOut=function(e){let{theme:t,type:n,isLoading:r,icon:s}=e,a=null;const o={theme:t,type:n};return!1===s||(lv(s)?a=s(o):(0,i.isValidElement)(s)?a=(0,i.cloneElement)(s,o):ov(s)||av(s)?a=s:r?a=mv.spinner():(e=>e in mv)(n)&&(a=mv[n](o))),a}(x),lv(c.onOpen)&&(x.onOpen=c.onOpen),lv(c.onClose)&&(x.onClose=c.onClose),x.closeButton=g.closeButton,!1===c.closeButton||uv(c.closeButton)?x.closeButton=c.closeButton:!0===c.closeButton&&(x.closeButton=!uv(g.closeButton)||g.closeButton);let E=e;(0,i.isValidElement)(e)&&!ov(e.type)?E=(0,i.cloneElement)(e,{closeToast:y,toastProps:x,data:m}):lv(e)&&(E=e({closeToast:y,toastProps:x,data:m})),g.limit&&g.limit>0&&l.count>g.limit&&v?l.queue.push({toastContent:E,toastProps:x,staleId:o}):av(r)?setTimeout((()=>{f(E,x,o)}),r):f(E,x,o)}function f(e,t,n){const{toastId:i}=t;n&&a.delete(n);const s={content:e,props:t};a.set(i,s),r((e=>[...e,i].filter((e=>e!==n)))),fv.emit(4,dv(s,null==s.props.updateId?"added":"updated"))}return(0,i.useEffect)((()=>(l.containerId=e.containerId,fv.cancelEmit(3).on(0,d).on(1,(e=>s.current&&u(e))).on(5,c).emit(2,l),()=>{a.clear(),fv.emit(3,l)})),[]),(0,i.useEffect)((()=>{l.props=e,l.isToastActive=o,l.displayedToast=n.length})),{getToastToRender:function(t){const n=new Map,r=Array.from(a.values());return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:s,isToastActive:o}}function yv(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function vv(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function xv(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return i.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},i.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function bv(e){let{delay:t,isRunning:n,closeToast:r,type:s="default",hide:a,className:o,style:l,controlledProgress:c,progress:u,rtl:h,isIn:d,theme:f}=e;const p=a||c&&0===u,m={...l,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};c&&(m.transform=`scaleX(${u})`);const g=sv("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":h}),y=lv(o)?o({rtl:h,type:s,defaultClassName:g}):sv(g,o);return i.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:y,style:m,[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{d&&r()}})}const wv=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s}=function(e){const[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1),a=(0,i.useRef)(null),o=(0,i.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,i.useRef)(e),{autoClose:c,pauseOnHover:u,closeToast:h,onClick:d,closeOnClick:f}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",x),document.addEventListener("touchmove",v),document.addEventListener("touchend",x);const n=a.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=n.getBoundingClientRect(),n.style.transition="",o.x=yv(t.nativeEvent),o.y=vv(t.nativeEvent),"x"===e.draggableDirection?(o.start=o.x,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function m(t){if(o.boundingRect){const{top:n,bottom:r,left:i,right:s}=o.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&o.x>=i&&o.x<=s&&o.y>=n&&o.y<=r?y():g()}}function g(){n(!0)}function y(){n(!1)}function v(n){const r=a.current;o.canDrag&&r&&(o.didMove=!0,t&&y(),o.x=yv(n),o.y=vv(n),o.delta="x"===e.draggableDirection?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),r.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,r.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function x(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",x);const t=a.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform=`translate${e.draggableDirection}(0)`,t.style.opacity="1"}}(0,i.useEffect)((()=>{l.current=e})),(0,i.useEffect)((()=>(a.current&&a.current.addEventListener("d",g,{once:!0}),lv(e.onOpen)&&e.onOpen((0,i.isValidElement)(e.children)&&e.children.props),()=>{const e=l.current;lv(e.onClose)&&e.onClose((0,i.isValidElement)(e.children)&&e.children.props)})),[]),(0,i.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||y(),window.addEventListener("focus",g),window.addEventListener("blur",y)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",y))})),[e.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:m,onTouchEnd:m};return c&&u&&(b.onMouseEnter=y,b.onMouseLeave=g),f&&(b.onClick=e=>{d&&d(e),o.canCloseOnClick&&h()}),{playToast:g,pauseToast:y,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:b}}(e),{closeButton:a,children:o,autoClose:l,onClick:c,type:u,hideProgressBar:h,closeToast:d,transition:f,position:p,className:m,style:g,bodyClassName:y,bodyStyle:v,progressClassName:x,progressStyle:b,updateId:w,role:E,progress:N,rtl:k,toastId:T,deleteToast:S,isIn:C,isLoading:_,iconOut:I,closeOnClick:j,theme:A}=e,P=sv("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":j}),R=lv(m)?m({rtl:k,position:p,type:u,defaultClassName:P}):sv(P,m),D=!!N||!l,L={closeToast:d,type:u,theme:A};let O=null;return!1===a||(O=lv(a)?a(L):(0,i.isValidElement)(a)?(0,i.cloneElement)(a,L):xv(L)),i.createElement(f,{isIn:C,done:S,position:p,preventExitTransition:n,nodeRef:r},i.createElement("div",{id:T,onClick:c,className:R,...s,style:g,ref:r},i.createElement("div",{...C&&{role:E},className:lv(y)?y({type:u}):sv("Toastify__toast-body",y),style:v},null!=I&&i.createElement("div",{className:sv("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!_})},I),i.createElement("div",null,o)),O,i.createElement(bv,{...w&&!D?{key:`pb-${w}`}:{},rtl:k,theme:A,delay:l,isRunning:t,isIn:C,closeToast:d,hide:h,type:u,style:b,className:x,controlledProgress:D,progress:N||0})))},Ev=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Nv=hv(Ev("bounce",!0)),kv=(hv(Ev("slide",!0)),hv(Ev("zoom")),hv(Ev("flip")),(0,i.forwardRef)(((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:s}=gv(e),{className:a,style:o,rtl:l,containerId:c}=e;function u(e){const t=sv("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":l});return lv(a)?a({position:e,rtl:l,defaultClassName:t}):sv(t,cv(a))}return(0,i.useEffect)((()=>{t&&(t.current=r.current)}),[]),i.createElement("div",{ref:r,className:"Toastify",id:c},n(((e,t)=>{const n=t.length?{...o}:{...o,pointerEvents:"none"};return i.createElement("div",{className:u(e),style:n,key:`container-${e}`},t.map(((e,n)=>{let{content:r,props:a}=e;return i.createElement(wv,{...a,isIn:s(a.toastId),style:{...a.style,"--nth":n+1,"--len":t.length},key:`toast-${a.key}`},r)})))})))})));kv.displayName="ToastContainer",kv.defaultProps={position:"top-right",transition:Nv,autoClose:5e3,closeButton:xv,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Tv,Sv=new Map,Cv=[],_v=1;function Iv(){return""+_v++}function jv(e){return e&&(ov(e.toastId)||av(e.toastId))?e.toastId:Iv()}function Av(e,t){return Sv.size>0?fv.emit(0,e,t):Cv.push({content:e,options:t}),t.toastId}function Pv(e,t){return{...t,type:t&&t.type||e,toastId:jv(t)}}function Rv(e){return(t,n)=>Av(t,Pv(e,n))}function Dv(e,t){return Av(e,Pv("default",t))}Dv.loading=(e,t)=>Av(e,Pv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Dv.promise=function(e,t,n){let r,{pending:i,error:s,success:a}=t;i&&(r=ov(i)?Dv.loading(i,n):Dv.loading(i.render,{...n,...i}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void Dv.dismiss(r);const s={type:e,...o,...n,data:i},a=ov(t)?{render:t}:t;return r?Dv.update(r,{...s,...a}):Dv(a.render,{...s,...a}),i},c=lv(e)?e():e;return c.then((e=>l("success",a,e))).catch((e=>l("error",s,e))),c},Dv.success=Rv("success"),Dv.info=Rv("info"),Dv.error=Rv("error"),Dv.warning=Rv("warning"),Dv.warn=Dv.warning,Dv.dark=(e,t)=>Av(e,Pv("default",{theme:"dark",...t})),Dv.dismiss=e=>{Sv.size>0?fv.emit(1,e):Cv=Cv.filter((t=>null!=e&&t.options.toastId!==e))},Dv.clearWaitingQueue=function(e){return void 0===e&&(e={}),fv.emit(5,e)},Dv.isActive=e=>{let t=!1;return Sv.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Dv.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const r=Sv.get(n||Tv);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:Iv()};s.toastId!==e&&(s.staleId=e);const a=s.render||i;delete s.render,Av(a,s)}}),0)},Dv.done=e=>{Dv.update(e,{progress:1})},Dv.onChange=e=>(fv.on(4,e),()=>{fv.off(4,e)}),Dv.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Dv.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},fv.on(2,(e=>{Tv=e.containerId||e,Sv.set(Tv,e),Cv.forEach((e=>{fv.emit(0,e.content,e.options)})),Cv=[]})).on(3,(e=>{Sv.delete(e.containerId||e),0===Sv.size&&fv.off(0).off(1).off(5)}));var Lv=n(579);const Ov=(0,i.createContext)();function Mv(){return(0,i.useContext)(Ov)}function Vv(e){let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0);(0,i.useEffect)((()=>{const e=function(e,t,n,r){return $e(e).onAuthStateChanged(t,n,r)}(nv,(e=>{r(e),a(!1)}));return e}),[]);const o={currentUser:n,login:async function(e,t){try{return await function(e,t,n){return ri($e(e),$r.credential(t,n))}(nv,e,t),Dv.success("\u0412\u0445\u043e\u0434 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e!"),!0}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430:",n);let e="\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435";return"auth/user-not-found"===n.code||"auth/wrong-password"===n.code?e="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c":"auth/too-many-requests"===n.code&&(e="\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u043f\u043e\u043f\u044b\u0442\u043e\u043a \u0432\u0445\u043e\u0434\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"),Dv.error(e),!1}},logout:async function(){try{await function(e){return $e(e).signOut()}(nv),Dv.success("\u0412\u044b\u0445\u043e\u0434 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0445\u043e\u0434\u0430:",e),Dv.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b")}},resetPassword:async function(e){try{return await async function(e,t,n){var r;const i=Cr(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await kr(i,s,"getOobCode",!0);n&&ii(i,e,n),await Or(i,e)}else n&&ii(i,s,n),await Or(i,s).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await kr(i,s,"getOobCode",!0);n&&ii(i,e,n),await Or(i,e)}}))}(nv,e),Dv.success("\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e \u0441\u0431\u0440\u043e\u0441\u0443 \u043f\u0430\u0440\u043e\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0432\u0430\u0448 email"),!0}catch(t){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u043f\u0430\u0440\u043e\u043b\u044f:",t),Dv.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439 \u043f\u043e \u0441\u0431\u0440\u043e\u0441\u0443 \u043f\u0430\u0440\u043e\u043b\u044f"),!1}},loading:s};return(0,Lv.jsx)(Ov.Provider,{value:o,children:!s&&t})}var Fv=n(950),Uv=n.t(Fv,2);function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zv.apply(this,arguments)}function Bv(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const $v=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Hv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(EC){}const qv=i.createContext({isTransitioning:!1});new Map;const Wv=s.startTransition;Uv.flushSync,s.useId;function Kv(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},p=i.useCallback((e=>{h&&Wv?Wv((()=>u(e))):u(e)}),[u,h]);return i.useLayoutEffect((()=>l.listen(p)),[l,p]),i.useEffect((()=>pe(r)),[r]),i.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Gv="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yv=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:h,preventScrollReset:d,viewTransition:p}=e,m=Bv(e,$v),{basename:g}=i.useContext(K),y=!1;if("string"===typeof h&&Qv.test(h)&&(n=h,Gv))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=P(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(EC){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;X()||c(!1);let{basename:r,navigator:s}=i.useContext(K),{hash:a,pathname:o,search:l}=te(e,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:M([r,o])),s.createHref({pathname:u,search:l,hash:a})}(h,{relative:s}),x=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ee(),u=J(),h=te(e,{relative:o});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(h);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}}),[u,c,h,r,s,n,e,a,o,l])}(h,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:p});return i.createElement("a",zv({},m,{href:n||v,onClick:y||a?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:u}))}));const Xv=i.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:h}=e,d=Bv(e,Hv),f=te(l,{relative:d.relative}),p=J(),m=i.useContext(W),{navigator:g,basename:y}=i.useContext(K),v=null!=m&&function(e,t){void 0===t&&(t={});let n=i.useContext(qv);null==n&&c(!1);let{basename:r}=ex(Jv.useViewTransitionState),s=te(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=P(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=P(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=j(s.pathname,o)||null!=j(s.pathname,a)}(f)&&!0===u,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(b=b.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&y&&(w=P(w,y)||w);const E="/"!==x&&x.endsWith("/")?x.length-1:x.length;let N,k=b===x||!a&&b.startsWith(x)&&"/"===b.charAt(E),T=null!=w&&(w===x||!a&&w.startsWith(x)&&"/"===w.charAt(x.length)),S={isActive:k,isPending:T,isTransitioning:v},C=k?n:void 0;N="function"===typeof s?s(S):[s,k?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let _="function"===typeof o?o(S):o;return i.createElement(Yv,zv({},d,{"aria-current":C,className:N,ref:t,style:_,to:l,viewTransition:u}),"function"===typeof h?h(S):h)}));var Jv,Zv;function ex(e){let t=i.useContext(q);return t||c(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jv||(Jv={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Zv||(Zv={}));const tx=function(){var e;const[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1),[a,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(!0),[u,h]=(0,i.useState)(null),[d,f]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=()=>{s(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]),(0,i.useEffect)((()=>{(async()=>{try{console.log("\u041d\u0430\u0447\u0438\u043d\u0430\u0435\u043c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432...");const t=Ay(Kg(rv,"promoters"),Ly("leafletsCount","desc"),(Ug("limit",e=10),Oy._create("limit",e,"F")));console.log("\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0437\u0430\u043f\u0440\u043e\u0441 \u043a Firebase...");const n=await Yy(t);console.log("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435. \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432:",n.size);const r=n.docs.map((e=>{const t=e.data();return console.log("\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430:",t),{id:e.id,name:t.name||"\u0411\u0435\u0437 \u0438\u043c\u0435\u043d\u0438",avatar:t.avatarUrl||t.avatar,flyers:t.leafletsCount||0,rating:t.rating||5,workDays:t.workDays||0,district:t.district||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d",speed:t.speed||0,achievements:t.achievements||[]}}));console.log("\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432:",r),o(r),c(!1)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432:",t),h("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432: "+t.message),c(!1)}var e})()}),[]);const p=()=>(0,Lv.jsx)("div",{className:"bg-dark/50 backdrop-blur-xl p-6 rounded-xl animate-pulse",children:(0,Lv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Lv.jsx)("div",{className:"w-14 h-14 rounded-full bg-primary/20"}),(0,Lv.jsxs)("div",{className:"flex-1",children:[(0,Lv.jsx)("div",{className:"h-4 w-24 bg-primary/20 rounded mb-2"}),(0,Lv.jsx)("div",{className:"h-3 w-32 bg-primary/10 rounded"})]})]})}),m=()=>(0,Lv.jsxs)("div",{className:"text-center p-4 rounded-xl bg-red-500/10 text-red-500",children:[(0,Lv.jsx)("i",{className:"fas fa-exclamation-circle mr-2"}),u]});return(0,Lv.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-dark-darker to-dark bg-fixed",children:[(0,Lv.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,Lv.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-primary/5 to-transparent"}),(0,Lv.jsx)("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"}),(0,Lv.jsx)("div",{className:"absolute top-0 right-1/4 w-96 h-96 bg-secondary/10 rounded-full blur-3xl animate-pulse delay-1000"}),(0,Lv.jsx)("div",{className:"absolute bottom-0 left-1/3 w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"}),(0,Lv.jsx)("div",{className:"absolute bottom-0 right-1/3 w-96 h-96 bg-secondary/10 rounded-full blur-3xl animate-pulse delay-1000"}),(0,Lv.jsx)("div",{className:"grid grid-cols-8 gap-4 absolute inset-0 opacity-10",children:Array.from({length:64}).map(((e,t)=>(0,Lv.jsx)("div",{className:"w-full h-4 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-full transform rotate-45"},t)))}),(0,Lv.jsx)("div",{className:"absolute inset-0 opacity-5",children:Array.from({length:20}).map(((e,t)=>(0,Lv.jsx)("div",{className:"absolute bg-gradient-to-r from-primary/30 to-secondary/30",style:{height:"1px",width:"100%",top:10*t+"%",transform:"rotate(-35deg)",transformOrigin:"left",left:"0"}},t)))}),(0,Lv.jsx)("div",{className:"absolute inset-0",children:Array.from({length:50}).map(((e,t)=>(0,Lv.jsx)("div",{className:"absolute w-1 h-1 rounded-full bg-white",style:{top:100*Math.random()+"%",left:100*Math.random()+"%",opacity:.5*Math.random()+.3,animation:`pulse ${3*Math.random()+2}s infinite alternate`}},t)))})]}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsxs)("header",{className:"sticky top-0 z-50 transition-all duration-300 "+(r?"bg-dark-darker/80":"bg-transparent"),children:[(0,Lv.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-primary to-transparent opacity-50"}),(0,Lv.jsx)("div",{className:"relative transition-all duration-300 "+(r?"py-2":"py-4"),children:(0,Lv.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,Lv.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,Lv.jsxs)(Yv,{to:"/",className:"text-4xl font-bold relative group z-10 flex items-center",children:[(0,Lv.jsxs)("div",{className:"flex items-center",children:[(0,Lv.jsx)("span",{className:"bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:"Level"}),(0,Lv.jsx)("span",{className:"text-white",children:"Up"})]}),(0,Lv.jsx)("div",{className:"absolute -bottom-2 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-secondary group-hover:w-full transition-all duration-300"})]}),(0,Lv.jsxs)("div",{className:"hidden md:block absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[(0,Lv.jsx)("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/40 to-secondary/40 rounded-full blur-xl opacity-70 animate-pulse"}),(0,Lv.jsx)("div",{className:"absolute -inset-2 bg-gradient-to-r from-secondary/30 to-primary/30 rounded-full blur-lg opacity-80 animate-pulse",style:{animationDelay:"0.5s"}}),(0,Lv.jsx)("div",{className:"relative animate-logo-float",children:(0,Lv.jsx)("img",{src:"/images/levelup-icon.png",alt:"LevelUp Icon",className:"w-16 h-16 object-contain animate-logo-spin"})})]}),(0,Lv.jsxs)("nav",{className:"flex flex-col md:flex-row items-center gap-6",children:[(0,Lv.jsxs)(Yv,{to:"/",className:"relative text-white font-medium group",children:[(0,Lv.jsx)("span",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),(0,Lv.jsx)("div",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-primary group-hover:w-full transition-all duration-300"})]}),(0,Lv.jsxs)(Yv,{to:"/login",className:"relative overflow-hidden px-6 py-2 bg-gradient-to-r from-primary to-secondary rounded-lg font-medium text-white transition-all duration-300 hover:shadow-neon group",children:[(0,Lv.jsx)("span",{className:"relative z-10",children:"\u042f \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"}),(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-secondary to-primary opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]})})})]}),(0,Lv.jsx)("div",{className:"relative",children:(0,Lv.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-16 md:py-24",children:(0,Lv.jsxs)("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[(0,Lv.jsxs)("div",{className:"relative z-10",children:[(0,Lv.jsxs)("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:[(0,Lv.jsx)("span",{className:"bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:"\u0421\u0442\u0430\u043d\u044c \u043b\u0443\u0447\u0448\u0438\u043c"}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("span",{className:"text-white",children:"\u0432 \u0441\u0432\u043e\u0451\u043c \u0434\u0435\u043b\u0435"})]}),(0,Lv.jsx)("p",{className:"text-gray-300 text-lg mb-8",children:"\u041a\u0430\u0436\u0434\u0430\u044f \u043b\u0438\u0441\u0442\u043e\u0432\u043a\u0430 \u043f\u0440\u0438\u0431\u043b\u0438\u0436\u0430\u0435\u0442 \u0442\u0435\u0431\u044f \u043a \u043f\u043e\u0431\u0435\u0434\u0435! \u0421\u043e\u0440\u0435\u0432\u043d\u0443\u0439\u0441\u044f \u0441 \u043b\u0443\u0447\u0448\u0438\u043c\u0438 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430\u043c\u0438 \u0433\u043e\u0440\u043e\u0434\u0430, \u0441\u043b\u0435\u0434\u0438 \u0437\u0430 \u0441\u0432\u043e\u0438\u043c \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441\u043e\u043c \u0438 \u0437\u0430\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0439 \u0431\u043e\u043b\u044c\u0448\u0435."}),(0,Lv.jsx)("div",{className:"flex flex-wrap gap-4",children:(0,Lv.jsx)("button",{onClick:()=>f(!0),className:"px-8 py-3 bg-gradient-to-r from-primary to-secondary rounded-lg font-medium text-white transition-all duration-300 hover:shadow-neon transform hover:-translate-y-1",children:"\u0423\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435"})}),(0,Lv.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-12",children:[(0,Lv.jsxs)("div",{className:"text-center",children:[(0,Lv.jsx)("div",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:"4\u043a\u20bd"}),(0,Lv.jsx)("div",{className:"text-gray-400 text-sm",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0434\u043e\u0445\u043e\u0434 \u0432 \u0434\u0435\u043d\u044c"})]}),(0,Lv.jsxs)("div",{className:"text-center",children:[(0,Lv.jsx)("div",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:"15\u043a"}),(0,Lv.jsx)("div",{className:"text-gray-400 text-sm",children:"\u041b\u0438\u0441\u0442\u043e\u0432\u043e\u043a \u0434\u043e \u0431\u043e\u043d\u0443\u0441\u0430"})]}),(0,Lv.jsxs)("div",{className:"text-center",children:[(0,Lv.jsx)("div",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:"\u0422\u041e\u041f-3"}),(0,Lv.jsx)("div",{className:"text-gray-400 text-sm",children:"\u041f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u043f\u0440\u0438\u0437\u044b"})]})]})]}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary to-secondary rounded-2xl blur-2xl opacity-20 animate-pulse"}),(0,Lv.jsxs)("div",{className:"relative bg-dark/50 backdrop-blur-xl p-8 rounded-2xl border border-white/10",children:[(0,Lv.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,Lv.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-r from-primary to-secondary flex items-center justify-center",children:(0,Lv.jsx)("i",{className:"fas fa-chart-line text-2xl text-white"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("h3",{className:"text-xl font-semibold text-white",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0440\u0430\u0441\u0442\u0435\u0442"}),(0,Lv.jsx)("p",{className:"text-gray-400",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 5 \u043c\u0438\u043d \u043d\u0430\u0437\u0430\u0434"})]})]}),(0,Lv.jsx)("div",{className:"space-y-4",children:[...Array(3)].map(((e,t)=>(0,Lv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Lv.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary"}),(0,Lv.jsx)("div",{className:"flex-1 h-2 bg-white/5 rounded-full overflow-hidden",children:(0,Lv.jsx)("div",{className:"h-full bg-gradient-to-r from-primary to-secondary rounded-full",style:{width:90-15*t+"%"}})}),(0,Lv.jsxs)("span",{className:"text-sm text-gray-400",children:[90-15*t,"%"]})]},t)))})]})]})]})})})]}),(0,Lv.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-12 relative z-10",children:[(0,Lv.jsxs)("section",{className:"mb-16 relative",children:[(0,Lv.jsxs)("div",{className:"absolute inset-0 overflow-hidden -z-10",children:[(0,Lv.jsx)("div",{className:"absolute -top-20 left-1/2 -translate-x-1/2 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),(0,Lv.jsx)("div",{className:"absolute top-40 -left-20 w-72 h-72 bg-secondary/10 rounded-full blur-3xl"}),(0,Lv.jsx)("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-primary/10 rounded-full blur-3xl"}),(0,Lv.jsx)("div",{className:"absolute bottom-0 left-1/4 w-64 h-64 bg-secondary/10 rounded-full blur-3xl"}),(0,Lv.jsx)("div",{className:"absolute bottom-0 right-1/4 w-64 h-64 bg-primary/10 rounded-full blur-3xl"})]}),(0,Lv.jsx)("h1",{className:"relative text-5xl font-bold text-center mb-12",children:(0,Lv.jsx)("span",{className:"bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:"\ud83c\udfc6 \u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u044b \u043c\u0435\u0441\u044f\u0446\u0430 \ud83c\udfc6"})}),l?(0,Lv.jsx)("div",{className:"flex justify-center",children:(0,Lv.jsx)(p,{})}):u?(0,Lv.jsx)(m,{}):a.length>0?(0,Lv.jsxs)(Lv.Fragment,{children:[(0,Lv.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 mb-16 justify-center items-center",children:[a.length>1&&(0,Lv.jsxs)("div",{className:"order-2 lg:order-1 w-full lg:w-1/3 transform lg:translate-y-8 animate-fadeIn relative",style:{animationDelay:"0.2s"},children:[(0,Lv.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 bg-gradient-to-r from-gray-300 to-gray-400 rounded-full flex items-center justify-center text-dark font-bold text-lg shadow-lg z-10",children:"2"}),(0,Lv.jsxs)("div",{className:"relative bg-dark/50 backdrop-blur-xl p-6 rounded-2xl shadow-lg hover:shadow-neon transition-all duration-500 transform hover:-translate-y-2 border border-gray-300/20 group",children:[(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-300/10 to-gray-400/10 rounded-2xl"}),(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-300/0 to-gray-400/0 rounded-2xl group-hover:from-gray-300/10 group-hover:to-gray-400/10 transition-all duration-500"}),(0,Lv.jsxs)("div",{className:"relative flex flex-col items-center text-center pt-2",children:[(0,Lv.jsxs)("div",{className:"relative group",children:[(0,Lv.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-gray-300 to-gray-400 rounded-full blur opacity-25 group-hover:opacity-75 transition duration-500"}),(0,Lv.jsx)("img",{src:a[1].avatar||"https://via.placeholder.com/60",alt:a[1].name,className:"relative w-24 h-24 rounded-full object-cover ring-2 ring-gray-300 transform group-hover:scale-105 transition duration-500"})]}),(0,Lv.jsx)("h3",{className:"text-xl font-bold text-white mt-4",children:a[1].name}),(0,Lv.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4 w-full",children:[(0,Lv.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,Lv.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-primary/20",children:(0,Lv.jsx)("i",{className:"fas fa-file-alt text-primary"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("p",{className:"text-xs text-gray-300",children:"\u041b\u0438\u0441\u0442\u043e\u0432\u043a\u0438"}),(0,Lv.jsx)("p",{className:"font-semibold text-white",children:a[1].flyers})]})]}),(0,Lv.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,Lv.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-secondary/20",children:(0,Lv.jsx)("i",{className:"fas fa-bolt text-secondary"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("p",{className:"text-xs text-gray-300",children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"}),(0,Lv.jsx)("p",{className:"font-semibold text-white",children:a[1].speed})]})]})]}),(0,Lv.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,Lv.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-yellow-500/20",children:(0,Lv.jsx)("i",{className:"fas fa-star text-yellow-500"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("p",{className:"text-xs text-gray-300",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"}),(0,Lv.jsxs)("p",{className:"font-semibold text-white",children:[a[1].rating," \u0438\u0437 5"]})]})]})]})]})]}),(0,Lv.jsxs)("div",{className:"order-1 lg:order-2 w-full lg:w-1/3 z-10 animate-fadeIn relative",children:[(0,Lv.jsxs)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 -translate-y-1/2 w-12 h-12 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full flex items-center justify-center text-dark font-bold text-xl shadow-lg z-10",children:[(0,Lv.jsx)("div",{className:"absolute -top-9 translate-x-[0.05rem] text-4xl animate-float",style:{animationDuration:"3s"},children:(0,Lv.jsx)("span",{className:"inline-block",children:"\ud83d\udc51"})}),"1"]}),(0,Lv.jsxs)("div",{className:"relative bg-dark/50 backdrop-blur-xl p-8 rounded-2xl shadow-2xl hover:shadow-neon transition-all duration-500 transform hover:-translate-y-2 border border-yellow-500/30 group",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/10 to-amber-500/10 rounded-2xl"}),(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/0 to-amber-500/0 rounded-2xl group-hover:from-yellow-500/20 group-hover:to-amber-500/20 transition-all duration-500"}),(0,Lv.jsxs)("div",{className:"relative flex flex-col items-center text-center pt-6",children:[(0,Lv.jsxs)("div",{className:"relative group",children:[(0,Lv.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full blur opacity-50 group-hover:opacity-100 transition duration-500"}),(0,Lv.jsx)("img",{src:a[0].avatar||"https://via.placeholder.com/60",alt:a[0].name,className:"relative w-32 h-32 rounded-full object-cover ring-4 ring-yellow-500/50 transform group-hover:scale-105 transition duration-500"})]}),(0,Lv.jsx)("h3",{className:"text-2xl font-bold text-white mt-4",children:(0,Lv.jsx)("span",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 text-transparent bg-clip-text",children:a[0].name})}),(0,Lv.jsxs)("div",{className:"grid grid-cols-2 gap-6 mt-6 w-full",children:[(0,Lv.jsxs)("div",{className:"flex items-center gap-3 justify-center",children:[(0,Lv.jsx)("span",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/20",children:(0,Lv.jsx)("i",{className:"fas fa-file-alt text-primary"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("p",{className:"text-sm text-gray-300",children:"\u0412\u0441\u0435\u0433\u043e \u043b\u0438\u0441\u0442\u043e\u0432\u043e\u043a"}),(0,Lv.jsxs)("p",{className:"font-semibold text-white",children:[a[0].flyers," \u0448\u0442\u0443\u043a"]})]})]}),(0,Lv.jsxs)("div",{className:"flex items-center gap-3 justify-center",children:[(0,Lv.jsx)("span",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-secondary/20",children:(0,Lv.jsx)("i",{className:"fas fa-bolt text-secondary"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("p",{className:"text-sm text-gray-300",children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"}),(0,Lv.jsx)("p",{className:"font-semibold text-white",children:a[0].speed?`${a[0].speed} \u043b/\u0434\u0435\u043d\u044c`:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})]})]})]}),(0,Lv.jsxs)("div",{className:"flex items-center gap-3 mt-4",children:[(0,Lv.jsx)("span",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-yellow-500/20",children:(0,Lv.jsx)("i",{className:"fas fa-star text-yellow-500"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("p",{className:"text-sm text-gray-300",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"}),(0,Lv.jsxs)("p",{className:"font-semibold text-white",children:[a[0].rating," \u0438\u0437 5"]})]})]}),(0,Lv.jsxs)("div",{className:"flex items-center gap-3 mt-4",children:[(0,Lv.jsx)("span",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-green-500/20",children:(0,Lv.jsx)("i",{className:"fas fa-map-marker-alt text-green-500"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("p",{className:"text-sm text-gray-300",children:"\u0420\u0430\u0439\u043e\u043d"}),(0,Lv.jsx)("p",{className:"font-semibold text-white",children:a[0].district||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})]})]}),(0,Lv.jsx)("div",{className:"mt-6 flex flex-wrap gap-2 justify-center",children:null===(e=a[0].achievements)||void 0===e?void 0:e.map(((e,t)=>(0,Lv.jsx)("span",{className:"px-4 py-2 rounded-full text-sm font-medium "+(0===t?"bg-primary/20 text-primary":1===t?"bg-secondary/20 text-secondary":"bg-gradient-to-r from-yellow-400 to-amber-500 text-white"),children:e},t)))})]})]})]}),a.length>2&&(0,Lv.jsxs)("div",{className:"order-3 w-full lg:w-1/3 transform lg:translate-y-8 animate-fadeIn relative",style:{animationDelay:"0.4s"},children:[(0,Lv.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 bg-gradient-to-r from-amber-600 to-amber-700 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg z-10",children:"3"}),(0,Lv.jsxs)("div",{className:"relative bg-dark/50 backdrop-blur-xl p-6 rounded-2xl shadow-lg hover:shadow-neon transition-all duration-500 transform hover:-translate-y-2 border border-amber-600/20 group",children:[(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-600/10 to-amber-700/10 rounded-2xl"}),(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-600/0 to-amber-700/0 rounded-2xl group-hover:from-amber-600/10 group-hover:to-amber-700/10 transition-all duration-500"}),(0,Lv.jsxs)("div",{className:"relative flex flex-col items-center text-center pt-2",children:[(0,Lv.jsxs)("div",{className:"relative mt-4 group",children:[(0,Lv.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-amber-600 to-amber-700 rounded-full blur opacity-25 group-hover:opacity-75 transition duration-500"}),(0,Lv.jsx)("img",{src:a[2].avatar||"https://via.placeholder.com/60",alt:a[2].name,className:"relative w-24 h-24 rounded-full object-cover ring-2 ring-amber-600 transform group-hover:scale-105 transition duration-500"})]}),(0,Lv.jsx)("h3",{className:"text-xl font-bold text-white mt-4",children:a[2].name}),(0,Lv.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4 w-full",children:[(0,Lv.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,Lv.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-primary/20",children:(0,Lv.jsx)("i",{className:"fas fa-file-alt text-primary"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("p",{className:"text-xs text-gray-300",children:"\u041b\u0438\u0441\u0442\u043e\u0432\u043a\u0438"}),(0,Lv.jsx)("p",{className:"font-semibold text-white",children:a[2].flyers})]})]}),(0,Lv.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,Lv.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-secondary/20",children:(0,Lv.jsx)("i",{className:"fas fa-bolt text-secondary"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("p",{className:"text-xs text-gray-300",children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"}),(0,Lv.jsx)("p",{className:"font-semibold text-white",children:a[2].speed})]})]})]}),(0,Lv.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,Lv.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-yellow-500/20",children:(0,Lv.jsx)("i",{className:"fas fa-star text-yellow-500"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("p",{className:"text-xs text-gray-300",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"}),(0,Lv.jsxs)("p",{className:"font-semibold text-white",children:[a[2].rating," \u0438\u0437 5"]})]})]})]})]})]})]}),(0,Lv.jsxs)("div",{className:"relative py-8 my-8",children:[(0,Lv.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Lv.jsx)("div",{className:"w-full border-t border-gray-700"})}),(0,Lv.jsx)("div",{className:"relative flex justify-center",children:(0,Lv.jsx)("div",{className:"px-4 bg-transparent",children:(0,Lv.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center shadow-lg shadow-primary/20",children:(0,Lv.jsx)("i",{className:"fas fa-trophy text-white text-xl"})})})}),(0,Lv.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center",children:[(0,Lv.jsx)("div",{className:"w-32 h-32 bg-primary/10 rounded-full blur-3xl"}),(0,Lv.jsx)("div",{className:"w-32 h-32 bg-secondary/10 rounded-full blur-3xl ml-8"})]})]}),(0,Lv.jsxs)("div",{className:"relative mb-8 text-center",children:[(0,Lv.jsx)("h2",{className:"text-3xl font-bold relative z-10",children:(0,Lv.jsx)("span",{className:"bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043b\u0443\u0447\u0448\u0438\u0445 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432"})}),(0,Lv.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-2 bg-gradient-to-r from-transparent via-primary/20 to-transparent rounded-full"}),(0,Lv.jsx)("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 w-32 h-32 bg-primary/5 rounded-full blur-xl"})]}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsxs)("div",{className:"absolute inset-0 overflow-hidden -z-10",children:[(0,Lv.jsx)("div",{className:"absolute -top-20 left-1/2 -translate-x-1/2 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),(0,Lv.jsx)("div",{className:"absolute top-40 -left-20 w-72 h-72 bg-secondary/10 rounded-full blur-3xl"}),(0,Lv.jsx)("div",{className:"absolute top-40 -right-20 w-72 h-72 bg-primary/10 rounded-full blur-3xl"})]}),(0,Lv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.slice(3).map(((e,t)=>{const n=t+4;return(0,Lv.jsxs)("div",{className:"relative bg-dark/50 backdrop-blur-xl p-6 rounded-xl shadow-lg hover:shadow-neon transition-all duration-300 transform hover:-translate-y-1 border border-gray-800/50 hover:border-primary/30",children:[(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-dark/70 to-secondary/5 rounded-xl"}),(0,Lv.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-secondary/10 rounded-bl-full -z-10"}),(0,Lv.jsxs)("div",{className:"relative flex flex-col sm:flex-row items-center sm:items-start gap-4",children:[(0,Lv.jsxs)("div",{className:"relative shrink-0",children:[(0,Lv.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary/30 to-secondary/30 rounded-full blur opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,Lv.jsx)("img",{src:e.avatar||"https://via.placeholder.com/60",alt:e.name,className:"w-20 h-20 rounded-full object-cover ring-2 ring-primary/50 group-hover:ring-primary transition-all duration-300"}),(0,Lv.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg",children:n})]}),(0,Lv.jsxs)("div",{className:"flex-1 text-center sm:text-left",children:[(0,Lv.jsxs)("h3",{className:"text-lg font-semibold text-white mb-2 flex flex-col sm:flex-row items-center sm:items-start gap-2",children:[e.name,4===n&&(0,Lv.jsx)("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full whitespace-nowrap",children:"\u041f\u043e\u0447\u0442\u0438 \u0432 \u0442\u043e\u043f\u0435!"})]}),(0,Lv.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Lv.jsxs)("div",{className:"flex items-center gap-2 justify-center sm:justify-start",children:[(0,Lv.jsx)("i",{className:"fas fa-file-alt text-primary"}),(0,Lv.jsxs)("span",{className:"text-gray-300 text-sm whitespace-nowrap",children:[e.flyers," \u0448\u0442."]})]}),(0,Lv.jsxs)("div",{className:"flex items-center gap-2 justify-center sm:justify-start",children:[(0,Lv.jsx)("i",{className:"fas fa-bolt text-secondary"}),(0,Lv.jsxs)("span",{className:"text-gray-300 text-sm whitespace-nowrap",children:[e.speed,"/\u0434\u0435\u043d\u044c"]})]})]})]}),(0,Lv.jsxs)("div",{className:"flex flex-row sm:flex-col items-center sm:items-end gap-4 sm:gap-1 mt-2 sm:mt-0",children:[(0,Lv.jsxs)("div",{className:"flex items-center gap-1 text-yellow-500",children:[(0,Lv.jsx)("i",{className:"fas fa-star"}),(0,Lv.jsx)("span",{className:"font-medium",children:e.rating})]}),(0,Lv.jsxs)("div",{className:"flex items-center gap-1 text-green-500 text-xs",children:[(0,Lv.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,Lv.jsx)("span",{className:"text-gray-400",children:e.district})]}),(0,Lv.jsx)("div",{className:"hidden sm:block mt-2 w-full",children:(0,Lv.jsx)("div",{className:"w-24 h-1 bg-gray-800 rounded-full overflow-hidden",children:(0,Lv.jsx)("div",{className:"h-full bg-gradient-to-r from-primary to-secondary rounded-full",style:{width:`${Math.min(100,100-20*(n-3))}%`}})})})]})]})]},e.id)}))})]})]}):(0,Lv.jsx)("div",{className:"text-center text-gray-400",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430\u0445"})]}),(0,Lv.jsx)("section",{children:(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsxs)("div",{className:"absolute inset-0 overflow-hidden -z-10",children:[(0,Lv.jsx)("div",{className:"absolute top-0 left-1/4 w-64 h-64 bg-primary/10 rounded-full blur-3xl"}),(0,Lv.jsx)("div",{className:"absolute bottom-0 right-1/4 w-64 h-64 bg-secondary/10 rounded-full blur-3xl"})]}),(0,Lv.jsx)("h2",{className:"relative text-3xl font-bold text-center mb-8",children:(0,Lv.jsx)("span",{className:"bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:"\u041a\u0430\u043a \u0441\u0442\u0430\u0442\u044c \u043b\u0443\u0447\u0448\u0438\u043c \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u043c?"})}),(0,Lv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[(0,Lv.jsxs)("div",{className:"relative bg-dark/50 backdrop-blur-xl p-6 rounded-xl shadow-lg hover:shadow-neon transition-all transform hover:-translate-y-1",children:[(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-secondary/5 rounded-xl"}),(0,Lv.jsxs)("div",{className:"relative flex flex-col items-center text-center",children:[(0,Lv.jsx)("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mb-4",children:(0,Lv.jsx)("i",{className:"fas fa-tachometer-alt text-2xl text-primary"})}),(0,Lv.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"}),(0,Lv.jsx)("p",{className:"text-gray-300",children:"\u0420\u0430\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043b\u0438\u0441\u0442\u043e\u0432\u043e\u043a \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0432\u044b\u0441\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0438 \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435."})]})]}),(0,Lv.jsxs)("div",{className:"relative bg-dark/50 backdrop-blur-xl p-6 rounded-xl shadow-lg hover:shadow-neon transition-all transform hover:-translate-y-1",children:[(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-secondary/5 rounded-xl"}),(0,Lv.jsxs)("div",{className:"relative flex flex-col items-center text-center",children:[(0,Lv.jsx)("div",{className:"w-16 h-16 bg-secondary/20 rounded-full flex items-center justify-center mb-4",children:(0,Lv.jsx)("i",{className:"fas fa-calendar-check text-2xl text-secondary"})}),(0,Lv.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"\u0421\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),(0,Lv.jsx)("p",{className:"text-gray-300",children:"\u0420\u0430\u0431\u043e\u0442\u0430\u0439\u0442\u0435 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u043e, \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0439\u0442\u0435 \u0434\u043d\u0438. \u0421\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0446\u0435\u043d\u0438\u0442\u0441\u044f \u0432\u044b\u0448\u0435 \u0440\u0430\u0437\u043e\u0432\u044b\u0445 \u0440\u0435\u043a\u043e\u0440\u0434\u043e\u0432."})]})]}),(0,Lv.jsxs)("div",{className:"relative bg-dark/50 backdrop-blur-xl p-6 rounded-xl shadow-lg hover:shadow-neon transition-all transform hover:-translate-y-1",children:[(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-secondary/5 rounded-xl"}),(0,Lv.jsxs)("div",{className:"relative flex flex-col items-center text-center",children:[(0,Lv.jsx)("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center mb-4",children:(0,Lv.jsx)("i",{className:"fas fa-star text-2xl text-yellow-500"})}),(0,Lv.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e"}),(0,Lv.jsx)("p",{className:"text-gray-300",children:"\u0421\u043b\u0435\u0434\u0438\u0442\u0435 \u0437\u0430 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u0440\u0430\u0437\u0434\u0430\u0447\u0438. \u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0432\u0430\u043c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043e\u043d\u0443\u0441\u044b \u0438 \u043f\u0440\u0438\u0437\u044b."})]})]})]})]})})]}),d&&(0,Lv.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,Lv.jsxs)("div",{className:"relative bg-dark/90 rounded-2xl p-8 max-w-lg w-full shadow-2xl",children:[(0,Lv.jsx)("button",{onClick:()=>f(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,Lv.jsx)("i",{className:"fas fa-times text-xl"})}),(0,Lv.jsx)("h3",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:"\u041a\u0430\u043a \u043d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443?"}),(0,Lv.jsxs)("div",{className:"space-y-4 text-gray-300",children:[(0,Lv.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Lv.jsx)("div",{className:"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0",children:(0,Lv.jsx)("span",{className:"text-primary",children:"1"})}),(0,Lv.jsxs)("p",{children:["\u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u0448\u0438\u043c \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u043c \u0432 Telegram: ",(0,Lv.jsx)("a",{href:"https://t.me/LevelUpPTZ",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"@LevelUpPTZ"})]})]}),(0,Lv.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Lv.jsx)("div",{className:"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0",children:(0,Lv.jsx)("span",{className:"text-primary",children:"2"})}),(0,Lv.jsx)("p",{children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b"})]}),(0,Lv.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Lv.jsx)("div",{className:"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0",children:(0,Lv.jsx)("span",{className:"text-primary",children:"3"})}),(0,Lv.jsx)("p",{children:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0442\u044c \u043b\u0438\u0441\u0442\u043e\u0432\u043a\u0438 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u0435\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0435 \u043e\u0442\u0447\u0435\u0442\u044b"})]}),(0,Lv.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Lv.jsx)("div",{className:"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0",children:(0,Lv.jsx)("span",{className:"text-primary",children:"4"})}),(0,Lv.jsx)("p",{children:"\u0421\u043b\u0435\u0434\u0438\u0442\u0435 \u0437\u0430 \u0441\u0432\u043e\u0438\u043c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u043c \u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0439\u0442\u0435 \u0431\u043e\u043d\u0443\u0441\u044b \u0437\u0430 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f!"})]})]}),(0,Lv.jsx)("div",{className:"mt-8 text-center",children:(0,Lv.jsx)("a",{href:"https://t.me/LevelUpPTZ",target:"_blank",rel:"noopener noreferrer",className:"inline-block px-8 py-3 bg-gradient-to-r from-primary to-secondary rounded-lg font-medium text-white transition-all duration-300 hover:shadow-neon transform hover:-translate-y-1",children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0443"})})]})})]})},nx=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),rx=(0,i.createContext)({}),ix=(0,i.createContext)(null),sx="undefined"!==typeof document,ax=sx?i.useLayoutEffect:i.useEffect,ox=(0,i.createContext)({strict:!1}),lx=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),cx="data-"+lx("framerAppearId");function ux(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function hx(e){return"string"===typeof e||Array.isArray(e)}function dx(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const fx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],px=["initial",...fx];function mx(e){return dx(e.animate)||px.some((t=>hx(e[t])))}function gx(e){return Boolean(mx(e)||e.variants)}function yx(e){const{initial:t,animate:n}=function(e,t){if(mx(e)){const{initial:t,animate:n}=e;return{initial:!1===t||hx(t)?t:void 0,animate:hx(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(rx));return(0,i.useMemo)((()=>({initial:t,animate:n})),[vx(t),vx(n)])}function vx(e){return Array.isArray(e)?e.join(" "):e}const xx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bx={};for(const kC in xx)bx[kC]={isEnabled:e=>xx[kC].some((t=>!!e[t]))};const wx=(0,i.createContext)({}),Ex=(0,i.createContext)({}),Nx=Symbol.for("motionComponentSymbol");function kx(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:a}=e;t&&function(e){for(const t in e)bx[t]={...bx[t],...e[t]}}(t);const o=(0,i.forwardRef)((function(e,o){let l;const c={...(0,i.useContext)(nx),...e,layoutId:Tx(e)},{isStatic:u}=c,h=yx(e),d=s(e,u);if(!u&&sx){h.visualElement=function(e,t,n,r){const{visualElement:s}=(0,i.useContext)(rx),a=(0,i.useContext)(ox),o=(0,i.useContext)(ix),l=(0,i.useContext)(nx).reducedMotion,c=(0,i.useRef)();r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current;(0,i.useInsertionEffect)((()=>{u&&u.update(n,o)}));const h=(0,i.useRef)(Boolean(n[cx]&&!window.HandoffComplete));return ax((()=>{u&&(u.render(),h.current&&u.animationState&&u.animationState.animateChanges())})),(0,i.useEffect)((()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))})),u}(a,d,c,n);const e=(0,i.useContext)(Ex),r=(0,i.useContext)(ox).strict;h.visualElement&&(l=h.visualElement.loadFeatures(c,r,t,e))}return i.createElement(rx.Provider,{value:h},l&&h.visualElement?i.createElement(l,{visualElement:h.visualElement,...c}):null,r(a,e,function(e,t,n){return(0,i.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):ux(n)&&(n.current=r))}),[t])}(d,h.visualElement,o),d,u,h.visualElement))}));return o[Nx]=a,o}function Tx(e){let{layoutId:t}=e;const n=(0,i.useContext)(wx).id;return n&&void 0!==t?n+"-"+t:t}function Sx(e){function t(t){return kx(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const Cx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _x(e){return"string"===typeof e&&!e.includes("-")&&!!(Cx.indexOf(e)>-1||/[A-Z]/.test(e))}const Ix={};const jx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ax=new Set(jx);function Px(e,t){let{layout:n,layoutId:r}=t;return Ax.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Ix[e]||"opacity"===e)}const Rx=e=>Boolean(e&&e.getVelocity),Dx={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lx=jx.length;const Ox=e=>t=>"string"===typeof t&&t.startsWith(e),Mx=Ox("--"),Vx=Ox("var(--"),Fx=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Ux=(e,t,n)=>Math.min(Math.max(n,e),t),zx={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Bx={...zx,transform:e=>Ux(0,1,e)},$x={...zx,default:1},Hx=e=>Math.round(1e5*e)/1e5,qx=/(-)?([\d]*\.?[\d])+/g,Wx=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Kx=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Gx(e){return"string"===typeof e}const Qx=e=>({test:t=>Gx(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Yx=Qx("deg"),Xx=Qx("%"),Jx=Qx("px"),Zx=Qx("vh"),eb=Qx("vw"),tb={...Xx,parse:e=>Xx.parse(e)/100,transform:e=>Xx.transform(100*e)},nb={...zx,transform:Math.round},rb={borderWidth:Jx,borderTopWidth:Jx,borderRightWidth:Jx,borderBottomWidth:Jx,borderLeftWidth:Jx,borderRadius:Jx,radius:Jx,borderTopLeftRadius:Jx,borderTopRightRadius:Jx,borderBottomRightRadius:Jx,borderBottomLeftRadius:Jx,width:Jx,maxWidth:Jx,height:Jx,maxHeight:Jx,size:Jx,top:Jx,right:Jx,bottom:Jx,left:Jx,padding:Jx,paddingTop:Jx,paddingRight:Jx,paddingBottom:Jx,paddingLeft:Jx,margin:Jx,marginTop:Jx,marginRight:Jx,marginBottom:Jx,marginLeft:Jx,rotate:Yx,rotateX:Yx,rotateY:Yx,rotateZ:Yx,scale:$x,scaleX:$x,scaleY:$x,scaleZ:$x,skew:Yx,skewX:Yx,skewY:Yx,distance:Jx,translateX:Jx,translateY:Jx,translateZ:Jx,x:Jx,y:Jx,z:Jx,perspective:Jx,transformPerspective:Jx,opacity:Bx,originX:tb,originY:tb,originZ:Jx,zIndex:nb,fillOpacity:Bx,strokeOpacity:Bx,numOctaves:nb};function ib(e,t,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=e;let l=!1,c=!1,u=!0;for(const h in t){const e=t[h];if(Mx(h)){s[h]=e;continue}const n=rb[h],r=Fx(e,n);if(Ax.has(h)){if(l=!0,a[h]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,o[h]=r):i[h]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,a="";for(let o=0;o<Lx;o++){const t=jx[o];void 0!==e[t]&&(a+=`${Dx[t]||t}(${e[t]}) `)}return i&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):s&&n&&(a="none"),a}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;i.transformOrigin=`${e} ${t} ${n}`}}const sb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ab(e,t,n){for(const r in t)Rx(t[r])||Px(r,n)||(e[r]=t[r])}function ob(e,t,n){const r={};return ab(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,i.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return ib(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function lb(e,t,n){const r={},i=ob(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const cb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ub(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||cb.has(e)}let hb=e=>!ub(e);try{(db=require("@emotion/is-prop-valid").default)&&(hb=e=>e.startsWith("on")?!ub(e):db(e))}catch(NC){}var db;function fb(e,t,n){return"string"===typeof e?e:Jx.transform(t+n*e)}const pb={offset:"stroke-dashoffset",array:"stroke-dasharray"},mb={offset:"strokeDashoffset",array:"strokeDasharray"};function gb(e,t,n,r,i){let{attrX:s,attrY:a,attrScale:o,originX:l,originY:c,pathLength:u,pathSpacing:h=1,pathOffset:d=0,...f}=t;if(ib(e,f,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){return`${fb(t,e.x,e.width)} ${fb(n,e.y,e.height)}`}(g,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(p.x=s),void 0!==a&&(p.y=a),void 0!==o&&(p.scale=o),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?pb:mb;e[s.offset]=Jx.transform(-r);const a=Jx.transform(t),o=Jx.transform(n);e[s.array]=`${a} ${o}`}(p,u,h,d,!1)}const yb=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),vb=e=>"string"===typeof e&&"svg"===e.toLowerCase();function xb(e,t,n,r){const s=(0,i.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return gb(n,t,{enableHardwareAcceleration:!1},vb(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};ab(t,e.style,e),s.style={...t,...s.style}}return s}function bb(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,a)=>{let{latestValues:o}=s;const l=(_x(t)?xb:lb)(n,o,a,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(hb(i)||!0===n&&ub(i)||!t&&!ub(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u={...c,...l,ref:r},{children:h}=n,d=(0,i.useMemo)((()=>Rx(h)?h.get():h),[h]);return(0,i.createElement)(t,{...u,children:d})}}function wb(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const Eb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Nb(e,t,n,r){wb(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Eb.has(i)?i:lx(i),t.attrs[i])}function kb(e,t){const{style:n}=e,r={};for(const i in n)(Rx(n[i])||t.style&&Rx(t.style[i])||Px(i,e))&&(r[i]=n[i]);return r}function Tb(e,t){const n=kb(e,t);for(const r in e)if(Rx(e[r])||Rx(t[r])){n[-1!==jx.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function Sb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}function Cb(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const _b=e=>Array.isArray(e),Ib=e=>_b(e)?e[e.length-1]||0:e;function jb(e){const t=Rx(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const Ab=e=>(t,n)=>{const r=(0,i.useContext)(rx),s=(0,i.useContext)(ix),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:a}=e;const o={latestValues:Pb(t,n,r,i),renderState:s()};return a&&(o.mount=e=>a(t,e,o)),o}(e,t,r,s);return n?a():Cb(a)};function Pb(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=jb(s[d]);let{initial:a,animate:o}=e;const l=mx(e),c=gx(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const h=u?o:a;if(h&&"boolean"!==typeof h&&!dx(h)){(Array.isArray(h)?h:[h]).forEach((t=>{const n=Sb(e,t);if(!n)return;const{transitionEnd:r,transition:s,...a}=n;for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const Rb=e=>e;class Db{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const Lb=["prepare","read","update","preRender","render","postRender"];const{schedule:Ob,cancel:Mb,state:Vb,steps:Fb}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Lb.reduce(((e,t)=>(e[t]=function(e){let t=new Db,n=new Db,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,o=s?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),o.add(e)&&s&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),a.has(r)&&(o.schedule(r),e())}i=!1,s&&(s=!1,o.process(l))}}};return o}((()=>n=!0)),e)),{}),a=e=>s[e].process(i),o=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,Lb.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=Lb.reduce(((t,a)=>{const l=s[a];return t[a]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(o)),l.schedule(t,s,a)},t}),{});return{schedule:l,cancel:e=>Lb.forEach((t=>s[t].cancel(e))),state:i,steps:s}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Rb,!0),Ub={useVisualState:Ab({scrapeMotionValuesFromProps:Tb,createRenderState:yb,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;Ob.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(EC){r.dimensions={x:0,y:0,width:0,height:0}}})),Ob.render((()=>{gb(r,i,{enableHardwareAcceleration:!1},vb(t.tagName),e.transformTemplate),Nb(t,r)}))}})},zb={useVisualState:Ab({scrapeMotionValuesFromProps:kb,createRenderState:sb})};function Bb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const $b=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Hb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function qb(e,t,n,r){return Bb(e,t,(e=>t=>$b(t)&&e(t,Hb(t)))(n),r)}const Wb=(e,t)=>n=>t(e(n)),Kb=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Wb)};function Gb(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Qb=Gb("dragHorizontal"),Yb=Gb("dragVertical");function Xb(e){let t=!1;if("y"===e)t=Yb();else if("x"===e)t=Qb();else{const e=Qb(),n=Yb();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Jb(){const e=Xb(!0);return!e||(e(),!1)}class Zb{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ew(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return qb(e.current,n,((n,i)=>{if("touch"===n.pointerType||Jb())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&Ob.update((()=>s[r](n,i)))}),{passive:!e.getProps()[r]})}const tw=(e,t)=>!!t&&(e===t||tw(e,t.parentElement));function nw(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Hb(n))}const rw=new WeakMap,iw=new WeakMap,sw=e=>{const t=rw.get(e.target);t&&t(e)},aw=e=>{e.forEach(sw)};function ow(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;iw.has(r)||iw.set(r,{});const i=iw.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(aw,{root:t,...n})),i[s]}(t);return rw.set(e,n),r.observe(e),()=>{rw.delete(e),r.unobserve(e)}}const lw={some:0,all:1};const cw={inView:{Feature:class extends Zb{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:lw[r]};return ow(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Zb{constructor(){super(...arguments),this.removeStartListeners=Rb,this.removeEndListeners=Rb,this.removeAccessibleListeners=Rb,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=qb(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();Ob.update((()=>{i||tw(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=qb(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Kb(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Bb(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Bb(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&nw("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&Ob.update((()=>n(e,t)))}))})),nw("down",((e,t)=>{this.startPress(e,t)}))})),t=Bb(this.node.current,"blur",(()=>{this.isPressing&&nw("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=Kb(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Ob.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Jb()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Ob.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=qb(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Bb(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kb(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Zb{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(EC){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kb(Bb(this.node.current,"focus",(()=>this.onFocus())),Bb(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Zb{mount(){this.unmount=Kb(ew(this.node,!0),ew(this.node,!1))}unmount(){}}}};function uw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function hw(e,t,n){const r=e.getProps();return Sb(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}let dw=Rb,fw=Rb;const pw=e=>1e3*e,mw=e=>e/1e3,gw=!1,yw=e=>Array.isArray(e)&&"number"===typeof e[0];function vw(e){return Boolean(!e||"string"===typeof e&&bw[e]||yw(e)||Array.isArray(e)&&e.every(vw))}const xw=e=>{let[t,n,r,i]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${i})`},bw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xw([0,.65,.55,1]),circOut:xw([.55,0,1,.45]),backIn:xw([.31,.01,.66,-.59]),backOut:xw([.33,1.53,.69,.99])};function ww(e){if(e)return yw(e)?xw(e):Array.isArray(e)?e.map(ww):bw[e]}const Ew=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Nw(e,t,n,r){if(e===t&&n===r)return Rb;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=Ew(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:Ew(i(e),t,r)}const kw=Nw(.42,0,1,1),Tw=Nw(0,0,.58,1),Sw=Nw(.42,0,.58,1),Cw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_w=e=>t=>1-e(1-t),Iw=e=>1-Math.sin(Math.acos(e)),jw=_w(Iw),Aw=Cw(Iw),Pw=Nw(.33,1.53,.69,.99),Rw=_w(Pw),Dw=Cw(Rw),Lw={linear:Rb,easeIn:kw,easeInOut:Sw,easeOut:Tw,circIn:Iw,circInOut:Aw,circOut:jw,backIn:Rw,backInOut:Dw,backOut:Pw,anticipate:e=>(e*=2)<1?.5*Rw(e):.5*(2-Math.pow(2,-10*(e-1)))},Ow=e=>{if(Array.isArray(e)){fw(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return Nw(t,n,r,i)}return"string"===typeof e?(fw(void 0!==Lw[e],`Invalid easing type '${e}'`),Lw[e]):e},Mw=(e,t)=>n=>Boolean(Gx(n)&&Kx.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Vw=(e,t,n)=>r=>{if(!Gx(r))return r;const[i,s,a,o]=r.match(qx);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},Fw={...zx,transform:e=>Math.round((e=>Ux(0,255,e))(e))},Uw={test:Mw("rgb","red"),parse:Vw("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Fw.transform(t)+", "+Fw.transform(n)+", "+Fw.transform(r)+", "+Hx(Bx.transform(i))+")"}};const zw={test:Mw("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Uw.transform},Bw={test:Mw("hsl","hue"),parse:Vw("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Xx.transform(Hx(n))+", "+Xx.transform(Hx(r))+", "+Hx(Bx.transform(i))+")"}},$w={test:e=>Uw.test(e)||zw.test(e)||Bw.test(e),parse:e=>Uw.test(e)?Uw.parse(e):Bw.test(e)?Bw.parse(e):zw.parse(e),transform:e=>Gx(e)?e:e.hasOwnProperty("red")?Uw.transform(e):Bw.transform(e)},Hw=(e,t,n)=>-n*e+n*t+e;function qw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Ww=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Kw=[zw,Uw,Bw];function Gw(e){const t=(e=>Kw.find((t=>t.test(e))))(e);fw(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`);let n=t.parse(e);return t===Bw&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=qw(i,e,t+1/3),a=qw(i,e,t),o=qw(i,e,t-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(n)),n}const Qw=(e,t)=>{const n=Gw(e),r=Gw(t),i={...n};return e=>(i.red=Ww(n.red,r.red,e),i.green=Ww(n.green,r.green,e),i.blue=Ww(n.blue,r.blue,e),i.alpha=Hw(n.alpha,r.alpha,e),Uw.transform(i))};const Yw={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Rb},Xw={regex:Wx,countKey:"Colors",token:"${c}",parse:$w.parse},Jw={regex:qx,countKey:"Numbers",token:"${n}",parse:zx.parse};function Zw(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...a.map(s)))}function eE(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Zw(n,Yw),Zw(n,Xw),Zw(n,Jw),n}function tE(e){return eE(e).values}function nE(e){const{values:t,numColors:n,numVars:r,tokenised:i}=eE(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(Yw.token,e[i]):i<r+n?t.replace(Xw.token,$w.transform(e[i])):t.replace(Jw.token,Hx(e[i]));return t}}const rE=e=>"number"===typeof e?0:e;const iE={test:function(e){var t,n;return isNaN(e)&&Gx(e)&&((null===(t=e.match(qx))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Wx))||void 0===n?void 0:n.length)||0)>0},parse:tE,createTransformer:nE,getAnimatableNone:function(e){const t=tE(e);return nE(e)(t.map(rE))}},sE=(e,t)=>n=>`${n>0?t:e}`;function aE(e,t){return"number"===typeof e?n=>Hw(e,t,n):$w.test(e)?Qw(e,t):e.startsWith("var(")?sE(e,t):cE(e,t)}const oE=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>aE(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},lE=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=aE(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},cE=(e,t)=>{const n=iE.createTransformer(t),r=eE(e),i=eE(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Kb(oE(r.values,i.values),n):(dw(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),sE(e,t))},uE=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},hE=(e,t)=>n=>Hw(e,t,n);function dE(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?hE:"string"===typeof e?$w.test(e)?Qw:cE:Array.isArray(e)?oE:"object"===typeof e?lE:hE}(e[0]),s=e.length-1;for(let a=0;a<s;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Rb:t;n=Kb(e,n)}r.push(n)}return r}function fE(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(fw(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=dE(t,r,i),o=a.length,l=t=>{let n=0;if(o>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=uE(e[n],e[n+1],t);return a[n](r)};return n?t=>l(Ux(e[0],e[s-1],t)):l}function pE(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=uE(0,t,r);e.push(Hw(n,1,i))}}(t,e.length-1),t}function mE(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(Ow):Ow(i),a={done:!1,value:n[0]},o=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:pE(n),t),l=fE(o,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map((()=>u||Sw)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function gE(e,t){return t?e*(1e3/t):0}function yE(e,t,n){const r=Math.max(t-5,0);return gE(n-e(r),t-r)}const vE=.001;function xE(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:a=1}=e;dw(r<=pw(10),"Spring duration must be 10 seconds or less");let o=1-i;o=Ux(.05,1,o),r=Ux(.01,10,mw(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-s,a=wE(e,o),l=Math.exp(-n);return vE-i/a*l},n=e=>{const n=e*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=wE(Math.pow(e,2),o);return(-t(e)+vE>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<bE;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=pw(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const bE=12;function wE(e,t){return e*Math.sqrt(1-t*t)}const EE=["duration","bounce"],NE=["stiffness","damping","mass"];function kE(e,t){return t.some((t=>void 0!==e[t]))}function TE(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const s=t[0],a=t[t.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!kE(e,NE)&&kE(e,EE)){const n=xE(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...i,velocity:-mw(i.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(l*u)),g=a-s,y=mw(Math.sqrt(l/u)),v=Math.abs(g)<5;let x;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=wE(y,m);x=t=>{const n=Math.exp(-m*y*t);return a-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)x=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);x=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&h||null,next:e=>{const t=x(e);if(f)o.done=e>=h;else{let i=p;0!==e&&(i=m<1?yE(x,e,t):0);const s=Math.abs(i)<=r,l=Math.abs(a-t)<=n;o.done=s&&l}return o.value=o.done?a:t,o}}}function SE(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,y=void 0===o?g:o(g);y!==g&&(m=y-d);const v=e=>-m*Math.exp(-e/i),x=e=>y+v(e),b=e=>{const t=v(e),n=x(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let w,E;const N=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(w=e,E=TE({keyframes:[f.value,p(f.value)],velocity:yE(x,e,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:h}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return E||void 0!==w||(t=!0,b(e),N(e)),void 0!==w&&e>w?E.next(e-w):(!t&&b(e),f)}}}const CE=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Ob.update(t,!0),stop:()=>Mb(t),now:()=>Vb.isProcessing?Vb.timestamp:performance.now()}};function _E(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const IE={decay:SE,inertia:SE,tween:mE,keyframes:mE,spring:TE};function jE(e){let t,n,{autoplay:r=!0,delay:i=0,driver:s=CE,keyframes:a,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:h,onStop:d,onComplete:f,onUpdate:p,...m}=e,g=1,y=!1;const v=()=>{n=new Promise((e=>{t=e}))};let x;v();const b=IE[o]||mE;let w;b!==mE&&"number"!==typeof a[0]&&(w=fE([0,100],a,{clamp:!1}),a=[0,100]);const E=b({...m,keyframes:a});let N;"mirror"===u&&(N=b({...m,keyframes:[...a].reverse(),velocity:-(m.velocity||0)}));let k="idle",T=null,S=null,C=null;null===E.calculatedDuration&&l&&(E.calculatedDuration=_E(E));const{calculatedDuration:_}=E;let I=1/0,j=1/0;null!==_&&(I=_+c,j=I*(l+1)-c);let A=0;const P=e=>{if(null===S)return;g>0&&(S=Math.min(S,e)),g<0&&(S=Math.min(e-j/g,S)),A=null!==T?T:Math.round(e-S)*g;const t=A-i*(g>=0?1:-1),n=g>=0?t<0:t>j;A=Math.max(t,0),"finished"===k&&null===T&&(A=j);let r=A,s=E;if(l){const e=Math.min(A,j)/I;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/I)):"mirror"===u&&(s=N)),r=Ux(0,1,n)*I}const o=n?{done:!1,value:a[0]}:s.next(r);w&&(o.value=w(o.value));let{done:h}=o;n||null===_||(h=g>=0?A>=j:A<=0);const d=null===T&&("finished"===k||"running"===k&&h);return p&&p(o.value),d&&L(),o},R=()=>{x&&x.stop(),x=void 0},D=()=>{k="idle",R(),t(),v(),S=C=null},L=()=>{k="finished",f&&f(),R(),t()},O=()=>{if(y)return;x||(x=s(P));const e=x.now();h&&h(),null!==T?S=e-T:S&&"finished"!==k||(S=e),"finished"===k&&v(),C=S,T=null,k="running",x.start()};r&&O();const M={then:(e,t)=>n.then(e,t),get time(){return mw(A)},set time(e){e=pw(e),A=e,null===T&&x&&0!==g?S=x.now()-e/g:T=e},get duration(){const e=null===E.calculatedDuration?_E(E):E.calculatedDuration;return mw(e)},get speed(){return g},set speed(e){e!==g&&x&&(g=e,M.time=mw(A))},get state(){return k},play:O,pause:()=>{k="paused",T=A},stop:()=>{y=!0,"idle"!==k&&(k="idle",d&&d(),D())},cancel:()=>{null!==C&&P(C),D()},complete:()=>{k="finished"},sample:e=>(S=0,P(e))};return M}const AE=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),PE=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function RE(e,t,n){let{onUpdate:r,onComplete:i,...s}=n;if(!(AE()&&PE.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let a,o,l=!1,c=!1;const u=()=>{o=new Promise((e=>{a=e}))};u();let{keyframes:h,duration:d=300,ease:f,times:p}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!vw(t.ease))(t,s)){const e=jE({...s,repeat:0,delay:0});let t={done:!1,value:h[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,h=n,d=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=ww(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,h,{...s,duration:d,ease:f,times:p}),g=()=>{c=!1,m.cancel()},y=()=>{c=!0,Ob.update(g),a(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(h,s)),i&&i(),y())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,Rb),get time(){return mw(m.currentTime||0)},set time(e){m.currentTime=pw(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return mw(d)},play:()=>{l||(m.play(),Mb(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=jE({...s,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}y()},complete:()=>{c||m.finish()},cancel:y}}const DE={type:"spring",stiffness:500,damping:25,restSpeed:10},LE={type:"keyframes",duration:.8},OE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ME=(e,t)=>{let{keyframes:n}=t;return n.length>2?LE:Ax.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:DE:OE},VE=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!iE.test(t)&&"0"!==t||t.startsWith("url("))),FE=new Set(["brightness","contrast","saturate","opacity"]);function UE(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(qx)||[];if(!r)return e;const i=n.replace(r,"");let s=FE.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const zE=/([a-z-]*)\(.*?\)/g,BE={...iE,getAnimatableNone:e=>{const t=e.match(zE);return t?t.map(UE).join(" "):e}},$E={...rb,color:$w,backgroundColor:$w,outlineColor:$w,fill:$w,stroke:$w,borderColor:$w,borderTopColor:$w,borderRightColor:$w,borderBottomColor:$w,borderLeftColor:$w,filter:BE,WebkitFilter:BE},HE=e=>$E[e];function qE(e,t){let n=HE(e);return n!==BE&&(n=iE),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const WE=e=>/^0[^.\s]+$/.test(e);function KE(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||WE(e):void 0}function GE(e,t){return e[t]||e.default||e}const QE=!1,YE=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=GE(r,e)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o-=pw(a);const l=function(e,t,n,r){const i=VE(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let o;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?a:s[c-1]),KE(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(o=s[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++)s[l[c]]=qE(t,o);return s}(t,e,n,s),c=l[0],u=l[l.length-1],h=VE(e,c),d=VE(e,u);dw(h===d,`You are trying to animate ${e} from "${c}" to "${u}". ${c} is not an animatable value - to enable this animation set ${c} to a value animatable to ${u} via the \`style\` property.`);let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}=e;return!!Object.keys(h).length}(s)||(f={...f,...ME(e,f)}),f.duration&&(f.duration=pw(f.duration)),f.repeatDelay&&(f.repeatDelay=pw(f.repeatDelay)),!h||!d||gw||!1===s.type||QE)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Rb,pause:Rb,stop:Rb,then:e=>(e(),Promise.resolve()),cancel:Rb,complete:Rb});return n?jE({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(gw?{...f,delay:0}:f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=RE(t,e,f);if(n)return n}return jE(f)}};function XE(e){return Boolean(Rx(e)&&e.add)}const JE=e=>/^\-?\d*\.?\d+$/.test(e);function ZE(e,t){-1===e.indexOf(t)&&e.push(t)}function eN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class tN{constructor(){this.subscriptions=[]}add(e){return ZE(this.subscriptions,e),()=>eN(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nN={current:void 0};class rN{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=Vb;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,Ob.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Ob.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new tN);const n=this.events[e].add(t);return"change"===e?()=>{n(),Ob.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return nN.current&&nN.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?gE(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function iN(e,t){return new rN(e,t)}const sN=e=>t=>t.test(e),aN=[zx,Jx,Xx,Yx,eb,Zx,{test:e=>"auto"===e,parse:e=>e}],oN=e=>aN.find(sN(e)),lN=[...aN,$w,iE],cN=e=>lN.find(sN(e));function uN(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,iN(n))}function hN(e,t){const n=hw(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const a in s){uN(e,a,Ib(s[a]))}}function dN(e,t){if(!t)return;return(t[e]||t.default||t).from}function fN(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function pN(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function mN(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:a,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in o){const t=e.getValue(h),r=o[h];if(!t||void 0===r||u&&fN(u,h))continue;const i={delay:n,elapsed:0,...GE(s||{},h)};if(window.HandoffAppearAnimations){const n=e.getProps()[cx];if(n){const e=window.HandoffAppearAnimations(n,h,t,Ob);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let a=!i.isHandoff&&!pN(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(a=!1),t.animation&&(a=!1),a)continue;t.start(YE(h,t,r,e.shouldReduceMotion&&Ax.has(h)?{type:!1}:i));const d=t.animation;XE(l)&&(l.add(h),d.then((()=>l.remove(h)))),c.push(d)}return a&&Promise.all(c).then((()=>{a&&hN(e,a)})),c}function gN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=hw(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(mN(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(yN).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(gN(e,t,{...s,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,s+r,a,o,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[e,t]="beforeChildren"===o?[s,a]:[a,s];return e().then((()=>t()))}return Promise.all([s(),a(n.delay)])}function yN(e,t){return e.sortNodePosition(t)}const vN=[...fx].reverse(),xN=fx.length;function bN(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>gN(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=gN(e,t,r);else{const i="function"===typeof t?hw(e,t,r.custom):t;n=Promise.all(mN(e,i,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function wN(e){let t=bN(e);const n={animate:NN(!0),whileInView:NN(),whileHover:NN(),whileTap:NN(),whileDrag:NN(),whileFocus:NN(),exit:NN()};let r=!0;const i=(t,n)=>{const r=hw(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function s(s,a){const o=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let h={},d=1/0;for(let t=0;t<xN;t++){const f=vN[t],p=n[f],m=void 0!==o[f]?o[f]:l[f],g=hx(m),y=f===a?p.isActive:null;!1===y&&(d=t);let v=m===l[f]&&m!==o[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys={...h},!p.isActive&&null===y||!m&&!p.prevProp||dx(m)||"boolean"===typeof m)continue;let x=EN(p.prevProp,m)||f===a&&p.isActive&&!v&&g||t>d&&g,b=!1;const w=Array.isArray(m)?m:[m];let E=w.reduce(i,{});!1===y&&(E={});const{prevResolvedValues:N={}}=p,k={...N,...E},T=e=>{x=!0,u.has(e)&&(b=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in k){const t=E[e],n=N[e];if(h.hasOwnProperty(e))continue;let r=!1;r=_b(t)&&_b(n)?!uw(t,n):t!==n,r?void 0!==t?T(e):u.add(e):void 0!==t&&u.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=E,p.isActive&&(h={...h,...E}),r&&e.blockInitialAnimation&&(x=!1),!x||v&&!b||c.push(...w.map((e=>({animation:e,options:{type:f,...s}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const o=s(i,t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function EN(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!uw(t,e)}function NN(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let kN=0;const TN={animation:{Feature:class extends Zb{constructor(e){super(e),e.animationState||(e.animationState=wN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),dx(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Zb{constructor(){super(...arguments),this.id=kN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},SN=(e,t)=>Math.abs(e-t);class CN{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=jN(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=SN(e.x,t.x),r=SN(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Vb;this.history.push({...r,timestamp:i});const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=_N(t,this.transformPagePoint),Ob.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=jN("pointercancel"===e.type?this.lastMoveEventInfo:_N(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!$b(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=_N(Hb(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=Vb;this.history=[{...a,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,jN(s,this.history)),this.removeListeners=Kb(qb(this.contextWindow,"pointermove",this.handlePointerMove),qb(this.contextWindow,"pointerup",this.handlePointerUp),qb(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mb(this.updatePoint)}}function _N(e,t){return t?{point:t(e.point)}:e}function IN(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jN(e,t){let{point:n}=e;return{point:n,delta:IN(n,PN(t)),offset:IN(n,AN(t)),velocity:RN(t,.1)}}function AN(e){return e[0]}function PN(e){return e[e.length-1]}function RN(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=PN(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>pw(t)));)n--;if(!r)return{x:0,y:0};const s=mw(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function DN(e){return e.max-e.min}function LN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function ON(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Hw(t.min,t.max,e.origin),e.scale=DN(n)/DN(t),(LN(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Hw(n.min,n.max,e.origin)-e.originPoint,(LN(e.translate)||isNaN(e.translate))&&(e.translate=0)}function MN(e,t,n,r){ON(e.x,t.x,n.x,r?r.originX:void 0),ON(e.y,t.y,n.y,r?r.originY:void 0)}function VN(e,t,n){e.min=n.min+t.min,e.max=e.min+DN(t)}function FN(e,t,n){e.min=t.min-n.min,e.max=e.min+DN(t)}function UN(e,t,n){FN(e.x,t.x,n.x),FN(e.y,t.y,n.y)}function zN(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function BN(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const $N=.35;function HN(e,t,n){return{min:qN(e,t),max:qN(e,n)}}function qN(e,t){return"number"===typeof e?e:e[t]||0}function WN(e){return[e("x"),e("y")]}function KN(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function GN(e){return void 0===e||1===e}function QN(e){let{scale:t,scaleX:n,scaleY:r}=e;return!GN(t)||!GN(n)||!GN(r)}function YN(e){return QN(e)||XN(e)||e.z||e.rotate||e.rotateX||e.rotateY}function XN(e){return JN(e.x)||JN(e.y)}function JN(e){return e&&"0%"!==e}function ZN(e,t,n){return n+t*(e-n)}function ek(e,t,n,r,i){return void 0!==i&&(e=ZN(e,i,r)),ZN(e,n,r)+t}function tk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=ek(e.min,t,n,r,i),e.max=ek(e.max,t,n,r,i)}function nk(e,t){let{x:n,y:r}=t;tk(e.x,n.translate,n.scale,n.originPoint),tk(e.y,r.translate,r.scale,r.originPoint)}function rk(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ik(e,t){e.min=e.min+t,e.max=e.max+t}function sk(e,t,n){let[r,i,s]=n;const a=void 0!==t[s]?t[s]:.5,o=Hw(e.min,e.max,a);tk(e,t[r],t[i],o,t.scale)}const ak=["x","scaleX","originX"],ok=["y","scaleY","originY"];function lk(e,t){sk(e.x,t,ak),sk(e.y,t,ok)}function ck(e,t){return KN(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const uk=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},hk=new WeakMap;class dk{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new CN(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Hb(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Xb(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),WN((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Xx.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=DN(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Ob.update((()=>i(e,t)),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>WN((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:uk(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Ob.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!fk(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Hw(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Hw(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&ux(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:zN(e.x,r,s),y:zN(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$N;return!1===e?e=0:!0===e&&(e=$N),{x:HN(e,"left","right"),y:HN(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&WN((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ux(e))return!1;const n=e.current;fw(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=ck(e,n),{scroll:i}=t;return i&&(ik(r.x,i.offset.x),ik(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:BN(e.x,t.x),y:BN(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=KN(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=WN((a=>{if(!fk(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,h)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(YE(e,n,0,t))}stopAnimation(){WN((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){WN((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){WN((t=>{const{drag:n}=this.getProps();if(!fk(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-Hw(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ux(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};WN((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=DN(e),i=DN(t);return i>r?n=uE(t.min,t.max-r,e.min):r>i&&(n=uE(e.min,e.max-i,t.min)),Ux(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),WN((t=>{if(!fk(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(Hw(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;hk.set(this.visualElement,this);const e=qb(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();ux(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Bb(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(WN((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=$N,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function fk(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const pk=e=>(t,n)=>{e&&Ob.update((()=>e(t,n)))};const mk={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yk={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Jx.test(e))return e;e=parseFloat(e)}return`${gk(e,t.target.x)}% ${gk(e,t.target.y)}%`}},vk={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=iE.parse(e);if(s.length>5)return i;const a=iE.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=Hw(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),a(s)}};class xk extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=wk,Object.assign(Ix,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),mk.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Ob.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bk(e){const[t,n]=function(){const e=(0,i.useContext)(ix);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=(0,i.useId)();return(0,i.useEffect)((()=>r(s)),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),r=(0,i.useContext)(wx);return i.createElement(xk,{...e,layoutGroup:r,switchLayoutGroup:(0,i.useContext)(Ex),isPresent:t,safeToRemove:n})}const wk={borderRadius:{...yk,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yk,borderTopRightRadius:yk,borderBottomLeftRadius:yk,borderBottomRightRadius:yk,boxShadow:vk},Ek=["TopLeft","TopRight","BottomLeft","BottomRight"],Nk=Ek.length,kk=e=>"string"===typeof e?parseFloat(e):e,Tk=e=>"number"===typeof e||Jx.test(e);function Sk(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Ck=Ik(0,.5,jw),_k=Ik(.5,.95,Rb);function Ik(e,t,n){return r=>r<e?0:r>t?1:n(uE(e,t,r))}function jk(e,t){e.min=t.min,e.max=t.max}function Ak(e,t){jk(e.x,t.x),jk(e.y,t.y)}function Pk(e,t,n,r,i){return e=ZN(e-=t,1/n,r),void 0!==i&&(e=ZN(e,1/i,r)),e}function Rk(e,t,n,r,i){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Xx.test(t)&&(t=parseFloat(t),t=Hw(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=Hw(s.min,s.max,r);e===s&&(o-=t),e.min=Pk(e.min,t,n,o,i),e.max=Pk(e.max,t,n,o,i)}(e,t[s],t[a],t[o],t.scale,r,i)}const Dk=["x","scaleX","originX"],Lk=["y","scaleY","originY"];function Ok(e,t,n,r){Rk(e.x,t,Dk,n?n.x:void 0,r?r.x:void 0),Rk(e.y,t,Lk,n?n.y:void 0,r?r.y:void 0)}function Mk(e){return 0===e.translate&&1===e.scale}function Vk(e){return Mk(e.x)&&Mk(e.y)}function Fk(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Uk(e){return DN(e.x)/DN(e.y)}class zk{constructor(){this.members=[]}add(e){ZE(this.members,e),e.scheduleRender()}remove(e){if(eN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bk(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}const a=e.x.scale*t.x,o=e.y.scale*t.y;return 1===a&&1===o||(r+=`scale(${a}, ${o})`),r||"none"}const $k=(e,t)=>e.depth-t.depth;class Hk{constructor(){this.children=[],this.isDirty=!1}add(e){ZE(this.children,e),this.isDirty=!0}remove(e){eN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($k),this.isDirty=!1,this.children.forEach(e)}}const qk=["","X","Y","Z"],Wk={visibility:"hidden"};let Kk=0;const Gk={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Qk(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Kk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Gk.totalNodes=Gk.resolvedTargetDeltas=Gk.recalculatedProjection=0,this.nodes.forEach(Jk),this.nodes.forEach(sT),this.nodes.forEach(aT),this.nodes.forEach(Zk),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(Gk)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Hk)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new tN),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=t&&(Mb(r),e(a-t))};return Ob.read(r,!0),()=>Mb(r)}(r,250),mk.hasAnimatedSinceResize&&(mk.hasAnimatedSinceResize=!1,this.nodes.forEach(iT))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||dT,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!Fk(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...GE(s,"layout"),onPlay:o,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||iT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mb(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oT),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(tT);this.isUpdating||this.nodes.forEach(nT),this.isUpdating=!1,this.nodes.forEach(rT),this.nodes.forEach(Yk),this.nodes.forEach(Xk),this.clearAllSnapshots();const e=performance.now();Vb.delta=Ux(0,1e3/60,e-Vb.timestamp),Vb.timestamp=e,Vb.isProcessing=!0,Fb.update.process(Vb),Fb.preRender.process(Vb),Fb.render.process(Vb),Vb.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(eT),this.sharedNodes.forEach(lT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ob.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ob.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Vk(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||YN(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),mT((r=n).x),mT(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(ik(t.x,n.offset.x),ik(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Ak(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){Ak(t,e);const{scroll:n}=this.root;n&&(ik(t.x,-n.offset.x),ik(t.y,-n.offset.y))}ik(t.x,i.offset.x),ik(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Ak(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&lk(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),YN(e.latestValues)&&lk(n,e.latestValues)}return YN(this.latestValues)&&lk(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Ak(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!YN(e.latestValues))continue;QN(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};Ak(r,e.measurePageBox()),Ok(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return YN(this.latestValues)&&Ok(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vb.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=Vb.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},UN(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Ak(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,VN(a.x,o.x,l.x),VN(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Ak(this.target,this.layout.layoutBox),nk(this.target,this.targetDelta)):Ak(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},UN(this.relativeTargetOrigin,this.target,e.target),Ak(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Gk.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!QN(this.parent.latestValues)&&!XN(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Vb.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;Ak(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&lk(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,nk(e,a)),r&&YN(s.latestValues)&&lk(e,s.latestValues))}t.x=rk(t.x),t.y=rk(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;MN(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Bk(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Gk.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(hT));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;cT(s.x,e.x,n),cT(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(UN(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){uT(e.x,t.x,n.x,r),uT(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),h&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),Ak(h,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=Hw(0,void 0!==n.opacity?n.opacity:1,Ck(r)),e.opacityExit=Hw(void 0!==t.opacity?t.opacity:1,0,_k(r))):s&&(e.opacity=Hw(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<Nk;a++){const i=`border${Ek[a]}Radius`;let s=Sk(t,i),o=Sk(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||Tk(s)===Tk(o)?(e[i]=Math.max(Hw(kk(s),kk(o),r),0),(Xx.test(o)||Xx.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=Hw(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mb(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ob.update((()=>{mk.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Rx(e)?e:iN(e);return r.start(YE("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&gT(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=DN(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=DN(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Ak(t,n),lk(t,i),MN(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new zk);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<qk.length;i++){const t="rotate"+qk[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Wk;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=jb(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=jb(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!YN(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=Bk(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in Ix){if(void 0===a[c])continue;const{correct:e,applyTo:t}=Ix[c],n="none"===r.transform?a[c]:e(a[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?jb(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(tT),this.root.sharedNodes.clear()}}}function Yk(e){e.updateLayout()}function Xk(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?WN((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=DN(r);r.min=t[e].min,r.max=r.min+i})):gT(i,n.layoutBox,t)&&WN((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=DN(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};MN(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?MN(o,e.applyTransform(r,!0),n.measuredBox):MN(o,t,n.layoutBox);const l=!Vk(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};UN(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};UN(o,t,s.layoutBox),Fk(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Jk(e){Gk.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Zk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eT(e){e.clearSnapshot()}function tT(e){e.clearMeasurements()}function nT(e){e.isLayoutDirty=!1}function rT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function iT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sT(e){e.resolveTargetDelta()}function aT(e){e.calcProjection()}function oT(e){e.resetRotation()}function lT(e){e.removeLeadSnapshot()}function cT(e,t,n){e.translate=Hw(t.translate,0,n),e.scale=Hw(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function uT(e,t,n,r){e.min=Hw(t.min,n.min,r),e.max=Hw(t.max,n.max,r)}function hT(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const dT={duration:.45,ease:[.4,0,.1,1]},fT=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),pT=fT("applewebkit/")&&!fT("chrome/")?Math.round:Rb;function mT(e){e.min=pT(e.min),e.max=pT(e.max)}function gT(e,t,n){return"position"===e||"preserve-aspect"===e&&!LN(Uk(t),Uk(n),.2)}const yT=Qk({attachResizeListener:(e,t)=>Bb(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vT={current:void 0},xT=Qk({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vT.current){const e=new yT({});e.mount(window),e.setOptions({layoutScroll:!0}),vT.current=e}return vT.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),bT={pan:{Feature:class extends Zb{constructor(){super(...arguments),this.removePointerDownListener=Rb}onPointerDown(e){this.session=new CN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:pk(e),onStart:pk(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Ob.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=qb(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Zb{constructor(e){super(e),this.removeGroupControls=Rb,this.removeListeners=Rb,this.controls=new dk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rb}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:xT,MeasureLayout:bk}},wT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ET(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;fw(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=wT.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return JE(e)?parseFloat(e):e}return Vx(i)?ET(i,t,n+1):i}const NT=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),kT=e=>NT.has(e),TT=e=>e===zx||e===Jx,ST=(e,t)=>parseFloat(e.split(", ")[t]),CT=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return ST(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?ST(t[1],e):0}},_T=new Set(["x","y","z"]),IT=jx.filter((e=>!_T.has(e)));const jT={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:CT(4,13),y:CT(5,14)};jT.translateX=jT.x,jT.translateY=jT.y;const AT=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const i=Object.keys(t).filter(kT);let s=[],a=!1;const o=[];if(i.forEach((i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=oN(c);const h=t[i];let d;if(_b(h)){const e=h.length,t=null===h[0]?1:0;c=h[t],u=oN(c);for(let n=t;n<e&&null!==h[n];n++)d?fw(oN(h[n])===d,"All keyframes must be of the same type"):(d=oN(h[n]),fw(d===u||TT(u)&&TT(d),"Keyframes must be of the same dimension as the current value"))}else d=oN(h);if(u!==d)if(TT(u)&&TT(d)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&d===Jx&&(t[i]=h.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===c||0===h)?0===c?l.set(d.transform(c)):t[i]=u.transform(h):(a||(s=function(e){const t=[];return IT.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),a=!0),o.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(h))})),o.length){const n=o.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:a}=s,o={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{o[e]=jT[e](r,s)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(o[n]),e[n]=jT[n](l,s)})),e})(t,e,o);return s.length&&s.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),sx&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function PT(e,t,n,r){return(e=>Object.keys(e).some(kT))(t)?AT(e,t,n,r):{target:t,transitionEnd:r}}const RT=(e,t,n,r)=>{const i=function(e,t,n){let{...r}=t;const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!Vx(t))return;const n=ET(t,i);n&&e.set(n)}));for(const s in r){const e=r[s];if(!Vx(e))continue;const t=ET(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}(e,t,r);return PT(e,t=i.target,n,r=i.transitionEnd)},DT={current:null},LT={current:!1};const OT=new WeakMap,MT=Object.keys(bx),VT=MT.length,FT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],UT=px.length;class zT{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ob.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=mx(n),this.isVariantNode=gx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const h in u){const e=u[h];void 0!==o[h]&&Rx(e)&&(e.set(o[h],!1),XE(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,OT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),LT.current||function(){if(LT.current=!0,sx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>DT.current=e.matches;e.addListener(t),t()}else DT.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||DT.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){OT.delete(this.current),this.projection&&this.projection.unmount(),Mb(this.notifyUpdate),Mb(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=Ax.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Ob.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,s,{children:a,...o}=e;for(let l=0;l<VT;l++){const e=MT[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=bx[e];r&&(i=r),t(o)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(s=a))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:a,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&ux(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<FT.length;n++){const t=FT[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],a=n[i];if(Rx(s))e.addValue(i,s),XE(r)&&r.add(i);else if(Rx(a))e.addValue(i,iN(s,{owner:e})),XE(r)&&r.remove(i);else if(a!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,iN(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<UT;t++){const n=px[t],r=this.props[n];(hx(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=iN(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=Sb(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Rx(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new tN),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class BT extends zT{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i,...s}=e,{transformValues:a}=t,o=function(e,t,n){const r={};for(const i in e){const e=dN(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(s,r||{},this);if(a&&(i&&(i=a(i)),s&&(s=a(s)),o&&(o=a(o))),n){!function(e,t,n){var r,i;const s=Object.keys(t).filter((t=>!e.hasValue(t))),a=s.length;if(a)for(let o=0;o<a;o++){const a=s[o],l=t[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),void 0!==c&&null!==c&&("string"===typeof c&&(JE(c)||WE(c))?c=parseFloat(c):!cN(c)&&iE.test(l)&&(c=qE(a,l)),e.addValue(a,iN(c,{owner:e})),void 0===n[a]&&(n[a]=c),null!==c&&e.setBaseTarget(a,c))}}(this,s,o);const e=RT(this,s,o,i);i=e.transitionEnd,s=e.target}return{transition:r,transitionEnd:i,...s}}}class $T extends BT{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Ax.has(t)){const e=HE(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(Mx(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return ck(e,n)}build(e,t,n,r){ib(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return kb(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rx(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}renderInstance(e,t,n,r){wb(e,t,n,r)}}class HT extends BT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ax.has(t)){const e=HE(t);return e&&e.default||0}return t=Eb.has(t)?t:lx(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Tb(e,t)}build(e,t,n,r){gb(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Nb(e,t,0,r)}mount(e){this.isSVGTag=vb(e.tagName),super.mount(e)}}const qT=(e,t)=>_x(e)?new HT(t,{enableHardwareAcceleration:!1}):new $T(t,{enableHardwareAcceleration:!0}),WT={...TN,...cw,...bT,...{layout:{ProjectionNode:xT,MeasureLayout:bk}}},KT=Sx(((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{..._x(e)?Ub:zb,preloadedFeatures:n,useRender:bb(i),createVisualElement:r,Component:e}}(e,t,WT,qT)));var GT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QT=i.createContext&&i.createContext(GT),YT=function(){return YT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},YT.apply(this,arguments)},XT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function JT(e){return e&&e.map((function(e,t){return i.createElement(e.tag,YT({key:t},e.attr),JT(e.child))}))}function ZT(e){return function(t){return i.createElement(eS,YT({attr:YT({},e.attr)},t),JT(e.child))}}function eS(e){var t=function(t){var n,r=e.attr,s=e.size,a=e.title,o=XT(e,["attr","size","title"]),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",YT({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:YT(YT({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&i.createElement("title",null,a),e.children)};return void 0!==QT?i.createElement(QT.Consumer,null,(function(e){return t(e)})):t(GT)}function tS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"}}]})(e)}function nS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"}}]})(e)}function rS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function iS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function sS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function aS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(e)}function oS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function lS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function cS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function uS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function hS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function dS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"}}]})(e)}function fS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z"}}]})(e)}function pS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function mS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function gS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function yS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"}}]})(e)}function vS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M546.2 9.7c-5.6-12.5-21.6-13-28.3-1.2C486.9 62.4 431.4 96 368 96h-80C182 96 96 182 96 288c0 7 .8 13.7 1.5 20.5C161.3 262.8 253.4 224 384 224c8.8 0 16 7.2 16 16s-7.2 16-16 16C132.6 256 26 410.1 2.4 468c-6.6 16.3 1.2 34.9 17.5 41.6 16.4 6.8 35-1.1 41.8-17.3 1.5-3.6 20.9-47.9 71.9-90.6 32.4 43.9 94 85.8 174.9 77.2C465.5 467.5 576 326.7 576 154.3c0-50.2-10.8-102.2-29.8-144.6z"}}]})(e)}function xS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}}]})(e)}function bS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function wS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function ES(e){return ZT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function NS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(e)}function kS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function TS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"}}]})(e)}function SS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function CS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"}}]})(e)}function _S(e){return ZT({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"}}]})(e)}function IS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"}}]})(e)}function jS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function AS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"}}]})(e)}function PS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"}}]})(e)}function RS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function DS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"}}]})(e)}function LS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function OS(e){return ZT({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}const MS=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[h,d]=(0,i.useState)(!1),{login:f,resetPassword:p}=Mv(),m=ee();(0,i.useEffect)((()=>{const e=()=>{d(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);return(0,Lv.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-dark-darker to-dark bg-fixed",children:[(0,Lv.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,Lv.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-primary/5 to-transparent"}),(0,Lv.jsx)("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"}),(0,Lv.jsx)("div",{className:"absolute top-0 right-1/4 w-96 h-96 bg-secondary/10 rounded-full blur-3xl animate-pulse delay-1000"}),(0,Lv.jsx)("div",{className:"absolute bottom-0 left-1/3 w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"}),(0,Lv.jsx)("div",{className:"absolute bottom-0 right-1/3 w-96 h-96 bg-secondary/10 rounded-full blur-3xl animate-pulse delay-1000"}),(0,Lv.jsx)("div",{className:"grid grid-cols-8 gap-4 absolute inset-0 opacity-10",children:Array.from({length:64}).map(((e,t)=>(0,Lv.jsx)("div",{className:"w-full h-4 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-full transform rotate-45"},t)))})]}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsxs)("header",{className:"sticky top-0 z-50 transition-all duration-300 "+(h?"bg-dark-darker/80":"bg-transparent"),children:[(0,Lv.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-primary to-transparent opacity-50"}),(0,Lv.jsx)("div",{className:"relative transition-all duration-300 "+(h?"py-2":"py-4"),children:(0,Lv.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,Lv.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,Lv.jsxs)(Yv,{to:"/",className:"text-4xl font-bold relative group z-10 flex items-center",children:[(0,Lv.jsxs)("div",{className:"flex items-center",children:[(0,Lv.jsx)("span",{className:"bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:"Level"}),(0,Lv.jsx)("span",{className:"text-white",children:"Up"})]}),(0,Lv.jsx)("div",{className:"absolute -bottom-2 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-secondary group-hover:w-full transition-all duration-300"})]}),(0,Lv.jsxs)("div",{className:"hidden md:block absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[(0,Lv.jsx)("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/40 to-secondary/40 rounded-full blur-xl opacity-70 animate-pulse"}),(0,Lv.jsx)("div",{className:"absolute -inset-2 bg-gradient-to-r from-secondary/30 to-primary/30 rounded-full blur-lg opacity-80 animate-pulse",style:{animationDelay:"0.5s"}}),(0,Lv.jsx)("div",{className:"relative animate-logo-float",children:(0,Lv.jsx)("img",{src:"/images/levelup-icon.png",alt:"LevelUp Icon",className:"w-16 h-16 object-contain animate-logo-spin"})})]}),(0,Lv.jsxs)("nav",{className:"flex flex-col md:flex-row items-center gap-6",children:[(0,Lv.jsxs)(Yv,{to:"/",className:"relative text-white font-medium group",children:[(0,Lv.jsx)("span",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),(0,Lv.jsx)("div",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-primary group-hover:w-full transition-all duration-300"})]}),(0,Lv.jsxs)(Yv,{to:"/login",className:"relative overflow-hidden px-6 py-2 bg-gradient-to-r from-primary to-secondary rounded-lg font-medium text-white transition-all duration-300 hover:shadow-neon group",children:[(0,Lv.jsx)("span",{className:"relative z-10",children:"\u042f \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"}),(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-secondary to-primary opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]})})})]}),(0,Lv.jsx)("main",{className:"relative container mx-auto px-4 py-12 flex items-center justify-center min-h-[calc(100vh-80px)]",children:(0,Lv.jsxs)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative",children:[(0,Lv.jsx)("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-2xl blur-xl opacity-75"}),(0,Lv.jsxs)("div",{className:"relative bg-dark/50 backdrop-blur-xl rounded-xl shadow-2xl p-8 border border-white/10",children:[(0,Lv.jsxs)("div",{className:"text-center mb-8",children:[(0,Lv.jsx)("h2",{className:"text-3xl font-bold",children:(0,Lv.jsx)("span",{className:"bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:c?"\u0421\u0431\u0440\u043e\u0441 \u043f\u0430\u0440\u043e\u043b\u044f":"\u0412\u0445\u043e\u0434 \u0434\u043b\u044f \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432"})}),(0,Lv.jsx)("p",{className:"text-gray-400 mt-2",children:c?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 email \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439 \u043f\u043e \u0441\u0431\u0440\u043e\u0441\u0443 \u043f\u0430\u0440\u043e\u043b\u044f":"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438"})]}),o&&(0,Lv.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-lg mb-6 backdrop-blur-xl",children:(0,Lv.jsxs)("div",{className:"flex items-center",children:[(0,Lv.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Lv.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),o]})}),c?(0,Lv.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e)try{l(""),a(!0),await p(e),u(!1)}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u043f\u0430\u0440\u043e\u043b\u044f:",o),l("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e \u0441\u0431\u0440\u043e\u0441\u0443 \u043f\u0430\u0440\u043e\u043b\u044f")}finally{a(!1)}else l("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 email")},className:"space-y-6",children:[(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2",htmlFor:"email",children:"Email"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(hS,{className:"text-gray-500"})}),(0,Lv.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full bg-dark-lighter text-white border border-gray-700 rounded-lg px-4 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300",placeholder:"your@email.com",disabled:s})]})]}),(0,Lv.jsx)("button",{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-primary to-secondary rounded-lg font-medium text-white transition-all duration-300 hover:shadow-neon transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:s,children:s?"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430...":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438"}),(0,Lv.jsx)("div",{className:"text-center",children:(0,Lv.jsx)("button",{type:"button",onClick:()=>u(!1),className:"text-primary hover:text-primary-light transition-colors duration-300",disabled:s,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0444\u043e\u0440\u043c\u0435 \u0432\u0445\u043e\u0434\u0430"})})]}):(0,Lv.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&n)try{l(""),a(!0);await f(e,n)&&m("/admin")}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430:",o),l("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0439\u0442\u0438. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0430\u0448\u0438 \u0443\u0447\u0435\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435.")}finally{a(!1)}else l("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f")},className:"space-y-6",children:[(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2",htmlFor:"email",children:"Email"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(hS,{className:"text-gray-500"})}),(0,Lv.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full bg-dark-lighter text-white border border-gray-700 rounded-lg px-4 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300",placeholder:"your@email.com",disabled:s})]})]}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2",htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(bS,{className:"text-gray-500"})}),(0,Lv.jsx)("input",{id:"password",type:"password",value:n,onChange:e=>r(e.target.value),className:"w-full bg-dark-lighter text-white border border-gray-700 rounded-lg px-4 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-300",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",disabled:s})]})]}),(0,Lv.jsx)("button",{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-primary to-secondary rounded-lg font-medium text-white transition-all duration-300 hover:shadow-neon transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:s,children:s?"\u0412\u0445\u043e\u0434...":"\u0412\u043e\u0439\u0442\u0438"}),(0,Lv.jsx)("div",{className:"text-center",children:(0,Lv.jsx)("button",{type:"button",onClick:()=>u(!0),className:"text-primary hover:text-primary-light transition-colors duration-300",disabled:s,children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})})]})]})]})})]})]})};function VS(){const e=(0,i.useRef)(!1);return ax((()=>(e.current=!0,()=>{e.current=!1})),[]),e}class FS extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function US(e){let{children:t,isPresent:n}=e;const r=(0,i.useId)(),s=(0,i.useRef)(null),a=(0,i.useRef)({width:0,height:0,top:0,left:0});return(0,i.useInsertionEffect)((()=>{const{width:e,height:t,top:i,left:o}=a.current;if(n||!s.current||!e||!t)return;s.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${i}px !important;\n            left: ${o}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[n]),i.createElement(FS,{isPresent:n,childRef:s,sizeRef:a},i.cloneElement(t,{ref:s}))}const zS=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:l}=e;const c=Cb(BS),u=(0,i.useId)(),h=(0,i.useMemo)((()=>({id:u,initial:n,isPresent:r,custom:a,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;s&&s()},register:e=>(c.set(e,!1),()=>c.delete(e))})),o?void 0:[r]);return(0,i.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[r]),i.useEffect((()=>{!r&&!c.size&&s&&s()}),[r]),"popLayout"===l&&(t=i.createElement(US,{isPresent:r},t)),i.createElement(ix.Provider,{value:h},t)};function BS(){return new Map}const $S=e=>e.key||"";const HS=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:s,exitBeforeEnter:a,presenceAffectsLayout:o=!0,mode:l="sync"}=e;fw(!a,"Replace exitBeforeEnter with mode='wait'");const c=(0,i.useContext)(wx).forceRender||function(){const e=VS(),[t,n]=(0,i.useState)(0),r=(0,i.useCallback)((()=>{e.current&&n(t+1)}),[t]);return[(0,i.useCallback)((()=>Ob.postRender(r)),[r]),t]}()[0],u=VS(),h=function(e){const t=[];return i.Children.forEach(e,(e=>{(0,i.isValidElement)(e)&&t.push(e)})),t}(t);let d=h;const f=(0,i.useRef)(new Map).current,p=(0,i.useRef)(d),m=(0,i.useRef)(new Map).current,g=(0,i.useRef)(!0);if(ax((()=>{g.current=!1,function(e,t){e.forEach((e=>{const n=$S(e);t.set(n,e)}))}(h,m),p.current=d})),function(e){(0,i.useEffect)((()=>()=>e()),[])}((()=>{g.current=!0,m.clear(),f.clear()})),g.current)return i.createElement(i.Fragment,null,d.map((e=>i.createElement(zS,{key:$S(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:o,mode:l},e))));d=[...d];const y=p.current.map($S),v=h.map($S),x=y.length;for(let i=0;i<x;i++){const e=y[i];-1!==v.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===l&&f.size&&(d=[]),f.forEach(((e,t)=>{if(-1!==v.indexOf(t))return;const r=m.get(t);if(!r)return;const a=y.indexOf(t);let g=e;if(!g){const e=()=>{f.delete(t);const e=Array.from(m.keys()).filter((e=>!v.includes(e)));if(e.forEach((e=>m.delete(e))),p.current=h.filter((n=>{const r=$S(n);return r===t||e.includes(r)})),!f.size){if(!1===u.current)return;c(),s&&s()}};g=i.createElement(zS,{key:$S(r),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:o,mode:l},r),f.set(t,g)}d.splice(a,0,g)})),d=d.map((e=>{const t=e.key;return f.has(t)?e:i.createElement(zS,{key:$S(e),isPresent:!0,presenceAffectsLayout:o,mode:l},e)})),i.createElement(i.Fragment,null,f.size?d:d.map((e=>(0,i.cloneElement)(e))))},qS=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),s=()=>{t(!1)},a=[{path:"/admin",icon:(0,Lv.jsx)(pS,{}),label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"},{path:"/admin/promoters",icon:(0,Lv.jsx)(OS,{}),label:"\u041f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u044b"},{path:"/admin/top-promoter",icon:(0,Lv.jsx)(DS,{}),label:"\u041b\u0443\u0447\u0448\u0438\u0439 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440"},{path:"/admin/telegram",icon:(0,Lv.jsx)(nS,{}),label:"Telegram"},{path:"/admin/settings",icon:(0,Lv.jsx)(cS,{}),label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}];return(0,Lv.jsxs)(Lv.Fragment,{children:[(0,Lv.jsx)("div",{className:"md:hidden fixed top-4 right-4 z-50",children:(0,Lv.jsx)(KT.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{t(!e)},className:"bg-dark/80 backdrop-blur-sm p-2 rounded-lg text-white focus:outline-none border border-white/10 shadow-lg",children:e?(0,Lv.jsx)(jS,{size:24}):(0,Lv.jsx)(rS,{size:24})})}),(0,Lv.jsxs)(KT.div,{variants:{expanded:{width:"16rem",transition:{duration:.3}},collapsed:{width:"5rem",transition:{duration:.3}}},initial:"expanded",animate:n?"collapsed":"expanded",className:"hidden md:flex flex-col h-screen bg-dark/50 backdrop-blur-xl border-r border-white/10 shadow-xl relative",children:[(0,Lv.jsxs)("div",{className:"p-6",children:[(0,Lv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Lv.jsxs)(KT.h2,{animate:{opacity:n?0:1},transition:{duration:.2},className:"text-xl font-bold text-white overflow-hidden whitespace-nowrap",children:[(0,Lv.jsx)("span",{className:"bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:"Level"}),(0,Lv.jsx)("span",{className:"text-white",children:"Up"})]}),(0,Lv.jsx)(KT.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{r(!n)},className:"p-2 rounded-lg text-gray-400 hover:text-white hover:bg-white/5 transition-colors",children:(0,Lv.jsx)(KT.div,{animate:{rotate:n?180:0},transition:{duration:.3},children:(0,Lv.jsx)(oS,{})})})]}),(0,Lv.jsx)("nav",{children:(0,Lv.jsx)("ul",{className:"space-y-2",children:a.map((e=>(0,Lv.jsx)(KT.li,{whileHover:{x:4},children:(0,Lv.jsxs)(Xv,{to:e.path,end:"/admin"===e.path,className:e=>{let{isActive:t}=e;return"flex items-center px-4 py-3 rounded-lg transition-all duration-300 "+(t?"bg-gradient-to-r from-primary to-secondary text-white shadow-lg shadow-primary/20":"text-gray-400 hover:bg-white/5 hover:text-white")},children:[(0,Lv.jsx)("span",{className:"text-xl",children:e.icon}),(0,Lv.jsx)(KT.span,{animate:{opacity:n?0:1},transition:{duration:.2},className:"ml-3 overflow-hidden whitespace-nowrap",children:e.label})]})},e.path)))})})]}),(0,Lv.jsx)("div",{className:"mt-auto p-6",children:(0,Lv.jsx)("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-700 to-transparent opacity-50"})})]}),(0,Lv.jsx)(HS,{children:e&&(0,Lv.jsxs)(Lv.Fragment,{children:[(0,Lv.jsx)(KT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden",onClick:s}),(0,Lv.jsx)(KT.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:20},className:"fixed inset-y-0 left-0 w-64 bg-dark/90 backdrop-blur-xl shadow-xl z-50 md:hidden border-r border-white/10",children:(0,Lv.jsxs)("div",{className:"p-6",children:[(0,Lv.jsxs)("h2",{className:"text-xl font-bold text-white mb-6",children:[(0,Lv.jsx)("span",{className:"bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:"Level"}),(0,Lv.jsx)("span",{className:"text-white",children:"Up"})]}),(0,Lv.jsx)("nav",{children:(0,Lv.jsx)("ul",{className:"space-y-2",children:a.map((e=>(0,Lv.jsx)(KT.li,{whileHover:{x:4},children:(0,Lv.jsxs)(Xv,{to:e.path,end:"/admin"===e.path,className:e=>{let{isActive:t}=e;return"flex items-center px-4 py-3 rounded-lg transition-all duration-300 "+(t?"bg-gradient-to-r from-primary to-secondary text-white shadow-lg shadow-primary/20":"text-gray-400 hover:bg-white/5 hover:text-white")},onClick:s,children:[(0,Lv.jsx)("span",{className:"text-xl",children:e.icon}),(0,Lv.jsx)("span",{className:"ml-3",children:e.label})]})},e.path)))})})]})})]})})]})},WS=e=>{let{title:t}=e;const{currentUser:n,logout:r}=Mv();return(0,Lv.jsx)("header",{className:"bg-dark/50 backdrop-blur-xl border-b border-white/10 shadow-lg",children:(0,Lv.jsx)("div",{className:"px-6 py-4",children:(0,Lv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Lv.jsx)(KT.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-2xl md:text-3xl font-bold",children:(0,Lv.jsx)("span",{className:"bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text",children:t||"\u0410\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c"})}),(0,Lv.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Lv.jsxs)(KT.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"relative p-2 text-gray-400 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:[(0,Lv.jsx)(iS,{className:"text-xl"}),(0,Lv.jsx)("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"})]}),(0,Lv.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Lv.jsxs)(Yv,{to:"/",className:"text-gray-400 hover:text-white flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-white/5 transition-all",children:[(0,Lv.jsx)(pS,{className:"text-xl"}),(0,Lv.jsx)("span",{className:"hidden md:inline",children:"\u041d\u0430 \u0441\u0430\u0439\u0442"})]}),n&&(0,Lv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Lv.jsxs)("div",{className:"hidden md:flex items-center gap-3 px-4 py-2 rounded-lg bg-white/5",children:[(0,Lv.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center",children:(0,Lv.jsx)(LS,{className:"text-white"})}),(0,Lv.jsx)("span",{className:"text-gray-300",children:n.email})]}),(0,Lv.jsxs)(KT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{try{await r()}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435:",e)}},className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white bg-gradient-to-r from-red-500 to-red-600 hover:shadow-lg hover:shadow-red-500/20 transition-all",children:[(0,Lv.jsx)(SS,{}),(0,Lv.jsx)("span",{className:"hidden md:inline",children:"\u0412\u044b\u0439\u0442\u0438"})]})]})]})]})]})})})},KS=Kg(rv,"promoters"),GS=Kg(rv,"settings"),QS=Gg(GS,"topPromoter"),YS=Gg(GS,"general"),XS=e=>`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=random&color=fff&size=128`,JS=async()=>{try{const e=Ay(KS,Ly("leafletsCount","desc"));return(await Yy(e)).docs.map((e=>({id:e.id,...e.data()})))}catch(e){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432:",e),e}},ZS=async(e,t)=>{try{let t=e.avatarUrl||"";!t&&e.name&&(t=XS(e.name));const n={name:e.name,avatarUrl:t,leafletsCount:Number(e.leafletsCount)||0,workDays:Number(e.workDays)||0,district:e.district||"",createdAt:ev(),updatedAt:ev()};n.workDays>0?n.speed=Math.round(n.leafletsCount/n.workDays):n.speed=0;return{id:(await function(e,t){const n=Fg(e.firestore,Yg),r=Gg(e),i=By(e.converter,t);return Jy(n,[uy(cy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Hd.exists(!1))]).then((()=>r))}(KS,n)).id,...n}}catch(n){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430:",n),n}},eC=async(e,t)=>{try{const n=Gg(rv,"promoters",e);await function(e,t,n){e=Fg(e,Hg);const r=Fg(e.firestore,Yg),i=cy(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=$e(t))||t instanceof ey?py(i,"updateDoc",e._key,t,n,o):fy(i,"updateDoc",e._key,t),Jy(r,[s.toMutation(e._key,Hd.exists(!0))])}(n,{...t,updatedAt:ev()})}catch(n){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430:",n),n}},tC=async e=>{try{const n=Gg(rv,"promoters",e);if(!(await Gy(n)).exists())throw new Error("\u041f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d");return await(t=n,Jy(Fg(t.firestore,Yg),[new rf(t._key,Hd.none())])),e}catch(n){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430:",n),n}var t},nC=async()=>{try{const e=await Gy(QS);return e.exists()?e.data():null}catch(e){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430:",e),e}},rC=async()=>{try{const e=await Gy(YS);if(e.exists())return e.data();{const e={companyLogo:"https://via.placeholder.com/200x60?text=Logo",headerText:"\u041a\u043e\u043d\u043a\u0443\u0440\u0441 \u0434\u043b\u044f \u043b\u0443\u0447\u0448\u0438\u0445! \u0421\u0442\u0430\u043d\u044c \u0442\u043e\u043f-\u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u043c \u041f\u0435\u0442\u0440\u043e\u0437\u0430\u0432\u043e\u0434\u0441\u043a\u0430!",telegramChannel:"",managerContacts:[]};return await Xy(YS,e),e}}catch(e){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:",e),e}},iC=Gg(Kg(rv,"settings"),"telegramConfig"),sC=async()=>{try{const e=await Gy(iC);if(e.exists())return e.data();{const e={botToken:"7836895913:AAGbj_E6i3AqXi7Sh2bDxn8WI0LRE7hNGBo",channelId:"",enabled:!1};return await Xy(iC,e),e}}catch(e){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 Telegram:",e),e}},aC=async e=>{try{const t=await sC();if(!t.enabled||!t.botToken||!t.channelId)return console.warn("Telegram \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u0438\u043b\u0438 \u043d\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0430"),!1;const n=`https://api.telegram.org/bot${t.botToken}/sendMessage`,r=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:t.channelId,text:e,parse_mode:"HTML"})}),i=await r.json();if(!i.ok)throw new Error(`\u041e\u0448\u0438\u0431\u043a\u0430 Telegram API: ${i.description}`);return!0}catch(t){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 Telegram:",t),t}},oC=()=>{const[e,t]=(0,i.useState)({promotersCount:0,hasTopPromoter:!1,telegramEnabled:!1}),[n,r]=(0,i.useState)(!0);(0,i.useEffect)((()=>{(async()=>{try{r(!0);const e=await JS(),n=await nC(),i=await sC();t({promotersCount:e.length,hasTopPromoter:!!n,telegramEnabled:i.enabled})}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445:",e)}finally{r(!1)}})()}),[]);const s=[{title:"\u041f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u044b",icon:(0,Lv.jsx)(OS,{className:"text-primary text-3xl"}),value:e.promotersCount,description:"\u0412\u0441\u0435\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435",link:"/admin/promoters",color:"border-primary"},{title:"\u041b\u0443\u0447\u0448\u0438\u0439 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440",icon:(0,Lv.jsx)(DS,{className:"text-yellow-400 text-3xl"}),value:e.hasTopPromoter?"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d":"\u041d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d",description:e.hasTopPromoter?"\u041b\u0443\u0447\u0448\u0438\u0439 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440 \u043c\u0435\u0441\u044f\u0446\u0430 \u0432\u044b\u0431\u0440\u0430\u043d":"\u041b\u0443\u0447\u0448\u0438\u0439 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440 \u043c\u0435\u0441\u044f\u0446\u0430 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",link:"/admin/top-promoter",color:"border-yellow-400"},{title:"Telegram",icon:(0,Lv.jsx)(nS,{className:"text-blue-400 text-3xl"}),value:e.telegramEnabled?"\u0412\u043a\u043b\u044e\u0447\u0435\u043d":"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d",description:e.telegramEnabled?"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Telegram \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0430":"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Telegram \u043d\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0430",link:"/admin/telegram",color:"border-blue-400"},{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",icon:(0,Lv.jsx)(cS,{className:"text-gray-400 text-3xl"}),value:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0430\u0439\u0442\u0430",description:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f, \u0442\u0435\u043a\u0441\u0442, \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",link:"/admin/settings",color:"border-gray-400"}];return n?(0,Lv.jsx)("div",{className:"flex-1 p-6 flex items-center justify-center",children:(0,Lv.jsxs)("div",{className:"animate-pulse text-center",children:[(0,Lv.jsx)("div",{className:"h-8 bg-dark-lighter rounded w-64 mx-auto mb-4"}),(0,Lv.jsx)("div",{className:"h-4 bg-dark-lighter rounded w-48 mx-auto"})]})}):(0,Lv.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,Lv.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Lv.jsx)(KT.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-2xl font-bold text-white mb-8",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"}),(0,Lv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(((e,t)=>(0,Lv.jsx)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:(0,Lv.jsxs)(Yv,{to:e.link,className:`block bg-dark rounded-xl p-6 border-l-4 ${e.color} hover:bg-dark-lighter transition-colors`,children:[(0,Lv.jsxs)("div",{className:"flex items-center mb-4",children:[e.icon,(0,Lv.jsx)("h3",{className:"text-lg font-bold text-white ml-3",children:e.title})]}),(0,Lv.jsx)("div",{className:"text-2xl font-bold text-white mb-2",children:e.value}),(0,Lv.jsx)("p",{className:"text-gray-400 text-sm",children:e.description})]})},e.title)))}),(0,Lv.jsxs)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mt-12",children:[(0,Lv.jsxs)("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[(0,Lv.jsx)(KT.span,{initial:{rotate:0},animate:{rotate:360},transition:{duration:1,delay:.5},className:"mr-3 inline-block",children:"\u26a1"}),"\u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"]}),(0,Lv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Lv.jsx)(KT.div,{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},transition:{type:"spring",stiffness:300},children:(0,Lv.jsxs)(Yv,{to:"/admin/promoters",className:"block bg-gradient-to-br from-primary/10 to-primary/5 hover:from-primary/20 hover:to-primary/10 backdrop-blur-xl border border-primary/20 rounded-xl p-6 transition-all group",children:[(0,Lv.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Lv.jsx)("span",{className:"w-12 h-12 rounded-lg bg-primary/20 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:(0,Lv.jsx)(OS,{className:"text-primary"})}),(0,Lv.jsx)("h4",{className:"text-lg font-semibold text-white ml-4",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430"})]}),(0,Lv.jsx)("p",{className:"text-gray-400 text-sm",children:"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u0443\u044e \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430 \u0438 \u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441"})]})}),(0,Lv.jsx)(KT.div,{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},transition:{type:"spring",stiffness:300},children:(0,Lv.jsxs)(Yv,{to:"/admin/top-promoter",className:"block bg-gradient-to-br from-yellow-500/10 to-yellow-600/5 hover:from-yellow-500/20 hover:to-yellow-600/10 backdrop-blur-xl border border-yellow-500/20 rounded-xl p-6 transition-all group",children:[(0,Lv.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Lv.jsx)("span",{className:"w-12 h-12 rounded-lg bg-yellow-500/20 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:(0,Lv.jsx)(DS,{className:"text-yellow-500"})}),(0,Lv.jsx)("h4",{className:"text-lg font-semibold text-white ml-4",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043b\u0443\u0447\u0448\u0435\u0433\u043e"})]}),(0,Lv.jsx)("p",{className:"text-gray-400 text-sm",children:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435 \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430 \u043c\u0435\u0441\u044f\u0446\u0430 \u0438 \u043d\u0430\u0433\u0440\u0430\u0434\u0438\u0442\u0435 \u0435\u0433\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f\u043c\u0438"})]})}),(0,Lv.jsx)(KT.div,{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},transition:{type:"spring",stiffness:300},children:(0,Lv.jsxs)(Yv,{to:"/admin/telegram",className:"block bg-gradient-to-br from-blue-500/10 to-blue-600/5 hover:from-blue-500/20 hover:to-blue-600/10 backdrop-blur-xl border border-blue-500/20 rounded-xl p-6 transition-all group",children:[(0,Lv.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Lv.jsx)("span",{className:"w-12 h-12 rounded-lg bg-blue-500/20 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:(0,Lv.jsx)(nS,{className:"text-blue-500"})}),(0,Lv.jsx)("h4",{className:"text-lg font-semibold text-white ml-4",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c Telegram"})]}),(0,Lv.jsx)("p",{className:"text-gray-400 text-sm",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e \u0441 Telegram \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"})]})})]})]})]})})},lC=e=>{let{promoter:t,onSubmit:n,onCancel:r,isLoading:s}=e;const[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(0),[u,h]=(0,i.useState)(""),[d,f]=(0,i.useState)(""),[p,m]=(0,i.useState)(""),[g,y]=(0,i.useState)(""),[v,x]=(0,i.useState)({});(0,i.useEffect)((()=>{t&&(o(t.name||""),c(t.leafletsCount||0),h(t.startDate||""),f(t.district||""),m(t.avatarUrl||""),y(t.avatarUrl||""))}),[t]);const b=()=>{if(!u)return 0;const e=new Date(u),t=new Date,n=Math.abs(t-e);return Math.ceil(n/864e5)};return(0,Lv.jsxs)(KT.form,{onSubmit:e=>{if(e.preventDefault(),(()=>{const e={};return a.trim()||(e.name="\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),l<0&&(e.leafletsCount="\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0438\u0441\u0442\u043e\u0432\u043e\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c"),u||(e.startDate="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"),d||(e.district="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0439\u043e\u043d"),x(e),0===Object.keys(e).length})()){const e=b();n({name:a,leafletsCount:Number(l),startDate:u,workDays:e,district:d,avatarUrl:p,speed:e>0?Math.round(l/e):0},null)}},className:"space-y-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[(0,Lv.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Lv.jsxs)(KT.div,{className:"relative mb-6 group",whileHover:{scale:1.05},transition:{duration:.2},children:[g?(0,Lv.jsx)("img",{src:g,alt:"\u0410\u0432\u0430\u0442\u0430\u0440",className:"w-32 h-32 rounded-2xl object-cover ring-4 ring-primary/20 group-hover:ring-primary/40 transition-all",onError:e=>{e.target.onerror=null,e.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(a)}&background=random&color=fff&size=128`}}):(0,Lv.jsx)("div",{className:"w-32 h-32 rounded-2xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center ring-4 ring-primary/20 group-hover:ring-primary/40 transition-all",children:(0,Lv.jsx)(KT.div,{animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:(0,Lv.jsx)(aS,{className:"text-4xl text-primary/60"})})}),(0,Lv.jsx)(KT.div,{className:"absolute -bottom-2 right-0 w-8 h-8 bg-primary rounded-xl flex items-center justify-center text-white shadow-lg shadow-primary/30",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,Lv.jsx)(mS,{className:"text-sm"})})]}),(0,Lv.jsxs)("div",{className:"w-full max-w-md",children:[(0,Lv.jsx)("p",{className:"text-sm text-gray-400 mb-2 text-center",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(xS,{className:"text-gray-500"})}),(0,Lv.jsx)("input",{type:"text",value:p,onChange:e=>{const t=e.target.value;m(t),y(t)},className:"w-full bg-dark/50 border border-white/10 rounded-xl pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-primary/50 transition-colors",placeholder:"https://example.com/avatar.jpg",disabled:s})]})]})]}),(0,Lv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2 font-medium",htmlFor:"name",children:"\u0418\u043c\u044f \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(LS,{className:"text-gray-500"})}),(0,Lv.jsx)("input",{id:"name",type:"text",value:a,onChange:e=>o(e.target.value),className:`w-full bg-dark/50 border ${v.name?"border-red-500":"border-white/10"} rounded-xl pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-primary/50 transition-colors`,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",disabled:s})]}),v.name&&(0,Lv.jsx)(KT.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-red-500 text-sm",children:v.name})]}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2 font-medium",htmlFor:"district",children:"\u0420\u0430\u0439\u043e\u043d \u0433\u043e\u0440\u043e\u0434\u0430"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(wS,{className:"text-gray-500"})}),(0,Lv.jsxs)("select",{id:"district",value:d,onChange:e=>f(e.target.value),className:`w-full bg-dark/50 border ${v.district?"border-red-500":"border-white/10"} rounded-xl pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-primary/50 transition-colors appearance-none`,disabled:s,children:[(0,Lv.jsx)("option",{value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0439\u043e\u043d"}),["\u0426\u0435\u043d\u0442\u0440","\u0414\u0440\u0435\u0432\u043b\u044f\u043d\u043a\u0430","\u041a\u0443\u043a\u043a\u043e\u0432\u043a\u0430","\u041a\u043b\u044e\u0447\u0435\u0432\u0430\u044f","\u0413\u043e\u043b\u0438\u043a\u043e\u0432\u043a\u0430","\u0417\u0430\u0440\u0435\u043a\u0430","\u041f\u0435\u0440\u0435\u0432\u0430\u043b\u043a\u0430","\u041e\u043a\u0442\u044f\u0431\u0440\u044c\u0441\u043a\u0438\u0439","\u041f\u0435\u0440\u0432\u043e\u043c\u0430\u0439\u0441\u043a\u0438\u0439","\u0421\u0443\u043b\u0430\u0436\u0433\u043e\u0440\u0430"].map((e=>(0,Lv.jsx)("option",{value:e,children:e},e)))]})]}),v.district&&(0,Lv.jsx)(KT.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-red-500 text-sm",children:v.district})]}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2 font-medium",htmlFor:"leafletsCount",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0438\u0441\u0442\u043e\u0432\u043e\u043a"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(vS,{className:"text-gray-500"})}),(0,Lv.jsx)("input",{id:"leafletsCount",type:"number",value:l,onChange:e=>c(e.target.value),className:`w-full bg-dark/50 border ${v.leafletsCount?"border-red-500":"border-white/10"} rounded-xl pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-primary/50 transition-colors`,placeholder:"0",min:"0",disabled:s})]}),v.leafletsCount&&(0,Lv.jsx)(KT.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-red-500 text-sm",children:v.leafletsCount})]}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2 font-medium",htmlFor:"startDate",children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(sS,{className:"text-gray-500"})}),(0,Lv.jsx)("input",{id:"startDate",type:"date",value:u,onChange:e=>h(e.target.value),max:(new Date).toISOString().split("T")[0],className:`w-full bg-dark/50 border ${v.startDate?"border-red-500":"border-white/10"} rounded-xl pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-primary/50 transition-colors`,disabled:s})]}),u&&(0,Lv.jsxs)("div",{className:"mt-1 flex items-center text-sm text-gray-400",children:[(0,Lv.jsx)(lS,{className:"mr-1"}),(0,Lv.jsxs)("span",{children:["\u0414\u043d\u0435\u0439 \u0440\u0430\u0431\u043e\u0442\u044b: ",b()]})]}),v.startDate&&(0,Lv.jsx)(KT.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-red-500 text-sm",children:v.startDate})]})]}),(0,Lv.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,Lv.jsx)(KT.button,{type:"button",onClick:r,className:"px-6 py-2 bg-dark/50 hover:bg-dark/70 text-white rounded-xl font-medium flex items-center justify-center group transition-all",disabled:s,whileHover:{scale:1.02},whileTap:{scale:.98},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Lv.jsx)(KT.button,{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl font-medium flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg hover:shadow-primary/20 transition-all",disabled:s,whileHover:{scale:1.02},whileTap:{scale:.98},children:s?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":t?"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})},cC=e=>{let{isOpen:t,onClose:n,onSubmit:r,promoter:s,isLoading:a}=e;const[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)("");return(0,Fv.createPortal)((0,Lv.jsx)(HS,{children:t&&(0,Lv.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[(0,Lv.jsx)(KT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),(0,Lv.jsxs)(KT.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-[calc(100%-2rem)] sm:w-[440px] md:w-[480px] bg-[#1a1f2e]/95 backdrop-blur-xl rounded-2xl p-5 sm:p-6 border border-white/10 shadow-2xl",children:[(0,Lv.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,Lv.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043b\u0438\u0441\u0442\u043e\u0432\u043a\u0438"}),(0,Lv.jsx)(KT.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,Lv.jsx)(jS,{className:"text-gray-400 hover:text-white transition-colors"})})]}),(0,Lv.jsx)("div",{className:"mb-5",children:(0,Lv.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-white/5 rounded-xl border border-white/5",children:[(0,Lv.jsx)("div",{className:"w-12 h-12 rounded-xl bg-primary/20 flex items-center justify-center",children:(0,Lv.jsx)(vS,{className:"text-2xl text-primary"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("h4",{className:"text-base font-medium text-white",children:null===s||void 0===s?void 0:s.name}),(0,Lv.jsxs)("p",{className:"text-sm text-gray-400",children:["\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ",null===s||void 0===s?void 0:s.leafletsCount]})]})]})}),(0,Lv.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=Number(o);!t||t<=0?u("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043b\u0438\u0441\u0442\u043e\u0432\u043e\u043a"):(r(t),l(""),u(""))},children:[(0,Lv.jsxs)("div",{className:"mb-5",children:[(0,Lv.jsx)("label",{className:"block text-base text-gray-300 mb-2",htmlFor:"leafletsCount",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0438\u0441\u0442\u043e\u0432\u043e\u043a \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Lv.jsx)(vS,{className:"text-gray-500"})}),(0,Lv.jsx)("input",{id:"leafletsCount",type:"number",value:o,onChange:e=>l(e.target.value),className:`w-full bg-dark/50 border ${c?"border-red-500":"border-white/10"} rounded-xl pl-11 pr-4 py-3 text-base text-white placeholder-gray-500 focus:outline-none focus:border-primary/50 focus:ring-1 focus:ring-primary/50 transition-colors`,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",min:"1",disabled:a})]}),c&&(0,Lv.jsx)(KT.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-500",children:c})]}),(0,Lv.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,Lv.jsx)(KT.button,{type:"button",onClick:n,className:"w-full sm:w-auto px-6 py-2.5 bg-white/5 hover:bg-white/10 text-white rounded-xl font-medium text-base flex items-center justify-center transition-all border border-white/10",disabled:a,whileHover:{scale:1.02},whileTap:{scale:.98},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Lv.jsx)(KT.button,{type:"submit",className:"w-full sm:w-auto px-6 py-2.5 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl font-medium text-base flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg hover:shadow-primary/20 transition-all",disabled:a,whileHover:{scale:1.02},whileTap:{scale:.98},children:a?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]})]})]})]})}),document.body)},uC=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1),[h,d]=(0,i.useState)("leafletsCount"),[f,p]=(0,i.useState)("desc"),[m,g]=(0,i.useState)(""),[y,v]=(0,i.useState)(null),[x,b]=(0,i.useState)(!1),[w,E]=(0,i.useState)(!1);(0,i.useEffect)((()=>{N()}),[]);const N=async()=>{try{r(!0);const e=await JS();t(e)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432:",e),Dv.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432")}finally{r(!1)}},k=e=>{h===e?p("asc"===f?"desc":"asc"):(d(e),p("asc"))},T=()=>{let t=[...e];if(m){const e=m.toLowerCase();t=t.filter((t=>t.name.toLowerCase().includes(e)))}return t.sort(((e,t)=>"name"===h?"asc"===f?e.name.localeCompare(t.name):t.name.localeCompare(e.name):"leafletsCount"===h?"asc"===f?e.leafletsCount-t.leafletsCount:t.leafletsCount-e.leafletsCount:0))},S=e=>h!==e?(0,Lv.jsx)(IS,{}):"asc"===f?(0,Lv.jsx)(_S,{}):(0,Lv.jsx)(CS,{});return(0,Lv.jsx)("div",{className:"flex-1 p-3 sm:p-6 overflow-auto",children:(0,Lv.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Lv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 sm:mb-8 space-y-4 sm:space-y-0",children:[(0,Lv.jsxs)(KT.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0",children:[(0,Lv.jsx)("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-white to-gray-400 text-transparent bg-clip-text",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430\u043c\u0438"}),(0,Lv.jsxs)("div",{className:"sm:ml-4 px-3 py-1 rounded-full bg-primary/10 text-primary text-sm w-fit",children:[e.length," \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432"]})]}),!s&&!o&&(0,Lv.jsxs)(KT.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},className:"w-full sm:w-auto px-6 py-3 bg-gradient-to-r from-primary to-primary/80 text-white rounded-xl font-medium flex items-center justify-center hover:shadow-lg hover:shadow-primary/20 transition-all group",onClick:()=>a(!0),children:[(0,Lv.jsx)(KT.span,{initial:{rotate:0},whileHover:{rotate:180},transition:{duration:.3},className:"mr-2",children:(0,Lv.jsx)(kS,{className:"group-hover:text-white"})}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430"]})]}),(s||o)&&(0,Lv.jsxs)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-dark/50 backdrop-blur-xl rounded-xl p-4 sm:p-6 mb-6 sm:mb-8 border border-white/5",children:[(0,Lv.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-white mb-4 flex items-center",children:o?(0,Lv.jsxs)(Lv.Fragment,{children:[(0,Lv.jsx)(uS,{className:"mr-2 text-primary"}),"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430"]}):(0,Lv.jsxs)(Lv.Fragment,{children:[(0,Lv.jsx)(kS,{className:"mr-2 text-primary"}),"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430"]})}),(0,Lv.jsx)(lC,{promoter:o,onSubmit:(e,t)=>{o?(async e=>{if(o)try{u(!0),await eC(o.id,e),await N(),l(null),Dv.success("\u041f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430:",t),Dv.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430")}finally{u(!1)}})(e):(async e=>{try{u(!0),await ZS(e),await N(),a(!1),Dv.success("\u041f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430:",t),Dv.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430")}finally{u(!1)}})(e)},onCancel:()=>{a(!1),l(null)},isLoading:c})]}),(0,Lv.jsx)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"bg-dark/50 backdrop-blur-xl rounded-xl p-3 sm:p-4 mb-4 sm:mb-6 border border-white/5",children:(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438...",className:"w-full bg-dark/50 backdrop-blur-xl text-white placeholder-gray-500 px-10 sm:px-12 py-2 sm:py-3 rounded-lg border border-white/5 focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all outline-none text-sm sm:text-base"}),(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none",children:(0,Lv.jsx)(LS,{className:"text-gray-500"})}),m&&(0,Lv.jsx)("button",{onClick:()=>g(""),className:"absolute inset-y-0 right-0 pr-3 sm:pr-4 flex items-center text-gray-500 hover:text-white transition-colors",children:(0,Lv.jsx)(jS,{})})]})}),(0,Lv.jsx)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"bg-dark/50 backdrop-blur-xl rounded-xl border border-white/5 overflow-hidden",children:n?(0,Lv.jsx)("div",{className:"p-4 sm:p-6",children:(0,Lv.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,Lv.jsx)("div",{className:"h-8 bg-dark-lighter rounded w-1/4"}),(0,Lv.jsxs)("div",{className:"space-y-3",children:[(0,Lv.jsx)("div",{className:"h-4 bg-dark-lighter rounded"}),(0,Lv.jsx)("div",{className:"h-4 bg-dark-lighter rounded"}),(0,Lv.jsx)("div",{className:"h-4 bg-dark-lighter rounded"})]})]})}):0===T().length?(0,Lv.jsx)("div",{className:"p-8 sm:p-12 text-center",children:(0,Lv.jsxs)(KT.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.3},children:[(0,Lv.jsx)(OS,{className:"text-3xl sm:text-4xl text-gray-600 mx-auto mb-4"}),(0,Lv.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-400 mb-2",children:m?"\u041d\u0435\u0442 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043f\u043e\u0438\u0441\u043a\u0443":"\u041d\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432"}),(0,Lv.jsx)("p",{className:"text-sm text-gray-500",children:m?"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0438\u0441\u043a\u0430":"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430, \u043d\u0430\u0436\u0430\u0432 \u043a\u043d\u043e\u043f\u043a\u0443 \u0432\u044b\u0448\u0435"})]})}):(0,Lv.jsx)("div",{className:"overflow-x-auto",children:(0,Lv.jsx)("div",{className:"min-w-full inline-block align-middle",children:(0,Lv.jsx)("div",{className:"overflow-hidden",children:(0,Lv.jsxs)("table",{className:"min-w-full divide-y divide-white/5",children:[(0,Lv.jsx)("thead",{children:(0,Lv.jsxs)("tr",{className:"bg-dark-lighter/50",children:[(0,Lv.jsx)("th",{scope:"col",className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"\u0410\u0432\u0430\u0442\u0430\u0440"}),(0,Lv.jsx)("th",{scope:"col",className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider cursor-pointer group",onClick:()=>k("name"),children:(0,Lv.jsxs)("div",{className:"flex items-center",children:[(0,Lv.jsx)("span",{className:"hidden sm:inline",children:"\u0418\u043c\u044f"}),(0,Lv.jsx)("span",{className:"sm:hidden",children:"\u041f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440"}),(0,Lv.jsx)("span",{className:"ml-2 text-gray-600 group-hover:text-gray-400 transition-colors",children:S("name")})]})}),(0,Lv.jsx)("th",{scope:"col",className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider cursor-pointer group hidden sm:table-cell",onClick:()=>k("leafletsCount"),children:(0,Lv.jsxs)("div",{className:"flex items-center",children:["\u041b\u0438\u0441\u0442\u043e\u0432\u043a\u0438",(0,Lv.jsx)("span",{className:"ml-2 text-gray-600 group-hover:text-gray-400 transition-colors",children:S("leafletsCount")})]})}),(0,Lv.jsx)("th",{scope:"col",className:"px-3 sm:px-6 py-3 sm:py-4 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Lv.jsx)("tbody",{className:"divide-y divide-white/5",children:T().map(((t,n)=>(0,Lv.jsxs)(KT.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*n},className:"hover:bg-white/5 transition-colors group",children:[(0,Lv.jsx)("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:(0,Lv.jsx)("div",{className:"relative",children:t.avatarUrl?(0,Lv.jsx)("img",{src:t.avatarUrl,alt:t.name,className:"h-8 w-8 sm:h-10 sm:w-10 rounded-xl object-cover ring-2 ring-white/10 group-hover:ring-primary/30 transition-all"}):(0,Lv.jsx)("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-xl bg-dark-lighter flex items-center justify-center ring-2 ring-white/10 group-hover:ring-primary/30 transition-all",children:(0,Lv.jsx)(LS,{className:"text-gray-400 text-sm sm:text-base"})})})}),(0,Lv.jsx)("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:(0,Lv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[(0,Lv.jsx)("div",{className:"text-sm font-medium text-white group-hover:text-primary transition-colors",children:t.name}),(0,Lv.jsxs)("div",{className:"mt-1 sm:mt-0 sm:ml-3 text-xs text-gray-400 sm:hidden",children:[t.leafletsCount," \u043b\u0438\u0441\u0442\u043e\u0432\u043e\u043a"]})]})}),(0,Lv.jsx)("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap hidden sm:table-cell",children:(0,Lv.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Lv.jsx)("div",{className:"w-16 sm:w-24 bg-dark-lighter rounded-full h-2",children:(0,Lv.jsx)("div",{className:"bg-gradient-to-r from-primary to-primary/60 h-2 rounded-full",style:{width:`${Math.min(t.leafletsCount/Math.max(...e.map((e=>e.leafletsCount)))*100,100)}%`}})}),(0,Lv.jsx)("span",{className:"ml-3 text-gray-300",children:t.leafletsCount})]})}),(0,Lv.jsx)("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-right text-sm",children:(0,Lv.jsxs)("div",{className:"flex items-center justify-end space-x-2 sm:space-x-3",children:[(0,Lv.jsx)(KT.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{v(t),b(!0)},className:"p-1.5 sm:p-2 text-gray-400 hover:text-primary transition-colors rounded-lg hover:bg-primary/10",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043b\u0438\u0441\u0442\u043e\u0432\u043a\u0438",children:(0,Lv.jsx)(vS,{className:"text-sm sm:text-base"})}),(0,Lv.jsx)(KT.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>l(t),className:"p-1.5 sm:p-2 text-gray-400 hover:text-primary transition-colors rounded-lg hover:bg-primary/10",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:(0,Lv.jsx)(uS,{className:"text-sm sm:text-base"})}),(0,Lv.jsx)(KT.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(async e=>{if(window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430?"))try{r(!0),await tC(e),await N(),Dv.success("\u041f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430:",t),Dv.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430")}finally{r(!1)}})(t.id),className:"p-1.5 sm:p-2 text-gray-400 hover:text-red-500 transition-colors rounded-lg hover:bg-red-500/10",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",children:(0,Lv.jsx)(RS,{className:"text-sm sm:text-base"})})]})})]},t.id)))})]})})})})}),(0,Lv.jsx)(cC,{isOpen:x,onClose:()=>{b(!1),v(null)},onSubmit:async e=>{if(y)try{E(!0);const t={...y,leafletsCount:y.leafletsCount+e};await eC(y.id,t),await N(),b(!1),Dv.success("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0438\u0441\u0442\u043e\u0432\u043e\u043a \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043b\u0438\u0441\u0442\u043e\u0432\u043e\u043a:",t),Dv.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0438\u0441\u0442\u043e\u0432\u043e\u043a")}finally{E(!1)}},promoter:y,isLoading:w})]})})},hC=e=>{var t;let{promoters:n,currentTopPromoter:r,onSubmit:s,onCancel:a,isLoading:o}=e;const[l,c]=(0,i.useState)(""),[u,h]=(0,i.useState)(""),[d,f]=(0,i.useState)({});(0,i.useEffect)((()=>{r&&(c(r.promoterId||""),h(r.reward||""))}),[r]);return(0,Lv.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),(()=>{const e={};return l||(e.promoterId="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430"),u.trim()||(e.reward="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u0443"),f(e),0===Object.keys(e).length})()){const e=n.find((e=>e.id===l));e&&s({promoterId:l,name:e.name,avatarUrl:e.avatarUrl,leafletsCount:e.leafletsCount,reward:u})}},className:"space-y-6",children:[(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2",htmlFor:"promoterId",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430"}),(0,Lv.jsxs)("select",{id:"promoterId",value:l,onChange:e=>c(e.target.value),className:"input w-full "+(d.promoterId?"border-red-500":""),disabled:o,children:[(0,Lv.jsx)("option",{value:"",children:"-- \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430 --"}),n.map((e=>(0,Lv.jsxs)("option",{value:e.id,children:[e.name," (",e.leafletsCount," \u043b\u0438\u0441\u0442\u043e\u0432\u043e\u043a)"]},e.id)))]}),d.promoterId&&(0,Lv.jsx)("p",{className:"mt-1 text-red-500 text-sm",children:d.promoterId})]}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2",htmlFor:"reward",children:"\u041d\u0430\u0433\u0440\u0430\u0434\u0430"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(DS,{className:"text-yellow-500"})}),(0,Lv.jsx)("input",{id:"reward",type:"text",value:u,onChange:e=>h(e.target.value),className:"input pl-10 w-full "+(d.reward?"border-red-500":""),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: +5000 \u20bd \u043a \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0435",disabled:o})]}),d.reward&&(0,Lv.jsx)("p",{className:"mt-1 text-red-500 text-sm",children:d.reward})]}),l&&(0,Lv.jsxs)("div",{className:"mt-6 p-4 bg-dark-lighter rounded-lg",children:[(0,Lv.jsx)("h3",{className:"text-white font-medium mb-2",children:"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440:"}),(0,Lv.jsxs)("div",{className:"flex items-center",children:[(0,Lv.jsx)(DS,{className:"text-yellow-500 mr-2"}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("p",{className:"text-white",children:(null===(t=n.find((e=>e.id===l)))||void 0===t?void 0:t.name)||""}),(0,Lv.jsxs)("p",{className:"text-gray-400 text-sm",children:["\u041d\u0430\u0433\u0440\u0430\u0434\u0430: ",u]})]})]})]}),(0,Lv.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,Lv.jsx)("button",{type:"button",onClick:a,className:"btn bg-dark-lighter hover:bg-dark text-white",disabled:o,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Lv.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430"})]})]})},dC=e=>{let{promoter:t,rank:n,isTopPromoter:r=!1}=e;const i=t.avatarUrl||null;return(0,Lv.jsxs)(KT.div,{whileHover:{y:-10,transition:{type:"spring",stiffness:300}},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*n},className:`promoter-card card ${r?"shadow-neon-purple":"card-hover"} relative`,children:[n&&(0,Lv.jsx)("div",{className:`rank-badge ${(e=>1===e?"rank-1":2===e?"rank-2":3===e?"rank-3":"text-gray-500 border-gray-500 bg-dark-darker")(n)}`,children:n}),(0,Lv.jsxs)("div",{className:"flex items-center",children:[(0,Lv.jsx)("div",{className:"mr-4",children:i?(0,Lv.jsx)("img",{src:i,alt:`${t.name}`,className:"w-16 h-16 rounded-full object-cover border-2 border-primary shadow-lg",onError:e=>{e.target.onerror=null,e.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name)}&background=random&color=fff&size=128`}}):(0,Lv.jsx)("div",{className:"w-16 h-16 rounded-full bg-dark-lighter flex items-center justify-center border-2 border-primary shadow-lg",children:(0,Lv.jsx)(LS,{className:"text-2xl text-gray-400"})})}),(0,Lv.jsxs)("div",{className:"flex-1",children:[(0,Lv.jsx)("h3",{className:"text-lg font-bold "+(r?"text-neon-purple":"text-white"),children:t.name}),(0,Lv.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Lv.jsx)(vS,{className:"text-green-500 mr-2"}),(0,Lv.jsxs)("span",{className:"text-gray-300",children:[t.leafletsCount," \u043b\u0438\u0441\u0442\u043e\u0432\u043e\u043a"]})]})]})]}),r&&t.reward&&(0,Lv.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-700",children:(0,Lv.jsxs)("p",{className:"text-yellow-400 font-medium flex items-center",children:[(0,Lv.jsx)("span",{className:"text-xl mr-2",children:"\ud83c\udfc6"}),"\u041d\u0430\u0433\u0440\u0430\u0434\u0430: ",t.reward]})})]})},fC=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[h,d]=(0,i.useState)(!1);(0,i.useEffect)((()=>{f()}),[]);const f=async()=>{try{a(!0);const e=await JS();t(e);const n=await nC();r(n)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445:",e),Dv.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")}finally{a(!1)}};return s?(0,Lv.jsx)("div",{className:"flex-1 p-6 flex items-center justify-center",children:(0,Lv.jsxs)("div",{className:"animate-pulse text-center",children:[(0,Lv.jsx)("div",{className:"h-8 bg-dark-lighter rounded w-64 mx-auto mb-4"}),(0,Lv.jsx)("div",{className:"h-4 bg-dark-lighter rounded w-48 mx-auto"})]})}):(0,Lv.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,Lv.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Lv.jsx)(KT.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center justify-between mb-8",children:(0,Lv.jsxs)("div",{className:"flex items-center",children:[(0,Lv.jsx)(KT.div,{initial:{rotate:0},animate:{rotate:360},transition:{duration:1},className:"mr-4 text-4xl",children:"\ud83c\udfc6"}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-400 to-yellow-600 text-transparent bg-clip-text",children:"\u041b\u0443\u0447\u0448\u0438\u0439 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440 \u043c\u0435\u0441\u044f\u0446\u0430"}),(0,Lv.jsx)("p",{className:"text-gray-400 mt-1",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430 \u0438 \u043d\u0430\u0433\u0440\u0430\u0434\u0438\u0442\u0435 \u0435\u0433\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f\u043c\u0438"})]})]})}),c?(0,Lv.jsxs)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-dark/50 backdrop-blur-xl rounded-xl p-6 mb-8 border border-white/5",children:[(0,Lv.jsxs)("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[(0,Lv.jsx)(DS,{className:"text-yellow-400 mr-3"}),"\u0412\u044b\u0431\u043e\u0440 \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430"]}),(0,Lv.jsx)(hC,{promoters:e,currentTopPromoter:n,onSubmit:async e=>{try{l(!0),await(async e=>{try{return!e.avatarUrl&&e.name&&(e.avatarUrl=XS(e.name)),await Xy(QS,{...e,date:ev()}),e}catch(t){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430:",t),t}})(e),await f(),u(!1),Dv.success("\u041b\u0443\u0447\u0448\u0438\u0439 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430:",t),Dv.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430")}finally{l(!1)}},onCancel:()=>u(!1),isLoading:o})]}):(0,Lv.jsx)("div",{className:"mb-8",children:n?(0,Lv.jsxs)(KT.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400/10 to-yellow-600/5 rounded-xl blur-xl"}),(0,Lv.jsxs)("div",{className:"relative bg-dark/50 backdrop-blur-xl rounded-xl border border-yellow-400/20 overflow-hidden",children:[(0,Lv.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-400/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),(0,Lv.jsx)("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-yellow-600/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),(0,Lv.jsxs)("div",{className:"relative p-8",children:[(0,Lv.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[(0,Lv.jsxs)("div",{className:"flex items-center mb-6 md:mb-0",children:[(0,Lv.jsx)(KT.div,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"mr-4",children:(0,Lv.jsx)(DS,{className:"text-4xl text-yellow-400"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("h3",{className:"text-xl font-bold text-white",children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043b\u0443\u0447\u0448\u0438\u0439 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440"}),(0,Lv.jsxs)("p",{className:"text-gray-400 text-sm mt-1",children:["\u0412\u044b\u0431\u0440\u0430\u043d ",(new Date).toLocaleDateString("ru-RU",{month:"long",year:"numeric"})]})]})]}),(0,Lv.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Lv.jsxs)(KT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!0),className:"px-6 py-2 bg-dark/50 hover:bg-dark/70 text-white rounded-lg font-medium flex items-center justify-center group transition-all",children:[(0,Lv.jsx)(uS,{className:"mr-2 group-hover:text-yellow-400 transition-colors"}),"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"]}),(0,Lv.jsxs)(KT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{if(n)try{d(!0);await(async e=>{if(!e)return!1;const t=`\n\ud83c\udfc6 <b>\u041b\u0443\u0447\u0448\u0438\u0439 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440 \u043c\u0435\u0441\u044f\u0446\u0430!</b> \ud83c\udfc6\n\n\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c <b>${e.name}</b> \u0441 \u043f\u043e\u0431\u0435\u0434\u043e\u0439!\n\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0430\u0437\u043d\u0435\u0441\u0435\u043d\u043d\u044b\u0445 \u043b\u0438\u0441\u0442\u043e\u0432\u043e\u043a: <b>${e.leafletsCount}</b>\n\u041d\u0430\u0433\u0440\u0430\u0434\u0430: <b>${e.reward}</b>\n\n\ud83c\udf89 \u0422\u0430\u043a \u0434\u0435\u0440\u0436\u0430\u0442\u044c! \ud83c\udf89\n  `;return aC(t)})(n)?Dv.success("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0432 Telegram"):Dv.warning("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Telegram")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 Telegram:",e),Dv.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 Telegram")}finally{d(!1)}},disabled:h,className:"px-6 py-2 bg-blue-500/80 hover:bg-blue-500 text-white rounded-lg font-medium flex items-center justify-center group transition-all disabled:opacity-50",children:[(0,Lv.jsx)(tS,{className:"mr-2 group-hover:text-white transition-colors"}),h?"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430...":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0432 Telegram"]})]})]}),(0,Lv.jsx)("div",{className:"max-w-md mx-auto",children:(0,Lv.jsx)(dC,{promoter:n,isTopPromoter:!0})})]})]})]}):(0,Lv.jsxs)(KT.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-dark/50 backdrop-blur-xl rounded-xl p-8 text-center border border-white/5",children:[(0,Lv.jsxs)(KT.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5},className:"mb-6",children:[(0,Lv.jsx)(DS,{className:"text-6xl text-gray-600 mx-auto mb-4"}),(0,Lv.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"\u041b\u0443\u0447\u0448\u0438\u0439 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440 \u043c\u0435\u0441\u044f\u0446\u0430 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"}),(0,Lv.jsx)("p",{className:"text-gray-400 max-w-md mx-auto",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430 \u043c\u0435\u0441\u044f\u0446\u0430, \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u043b \u043e\u0441\u043e\u0431\u044b\u0435 \u043f\u0440\u0438\u0432\u0438\u043b\u0435\u0433\u0438\u0438"})]}),(0,Lv.jsxs)(KT.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!0),disabled:0===e.length,className:"px-8 py-3 bg-gradient-to-r from-yellow-400 to-yellow-600 text-white rounded-lg font-medium inline-flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg hover:shadow-yellow-400/20 transition-all",children:[(0,Lv.jsx)(DS,{className:"mr-2"}),0===e.length?"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430"]})]})}),(0,Lv.jsxs)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-dark/50 backdrop-blur-xl rounded-xl p-6 border border-white/5",children:[(0,Lv.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[(0,Lv.jsx)("span",{className:"text-xl mr-2",children:"\ud83d\udca1"}),"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"]}),(0,Lv.jsxs)("ul",{className:"space-y-3",children:[(0,Lv.jsxs)(KT.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.3},className:"flex items-start text-gray-400",children:[(0,Lv.jsx)("span",{className:"text-yellow-400 mr-2",children:"\u2022"}),"\u041b\u0443\u0447\u0448\u0438\u0439 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0432 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u0431\u0430\u043d\u043d\u0435\u0440\u0435"]}),(0,Lv.jsxs)(KT.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.4},className:"flex items-start text-gray-400",children:[(0,Lv.jsx)("span",{className:"text-yellow-400 mr-2",children:"\u2022"}),"\u041f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430, \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043c\u0435\u043d\u0435\u043d"]}),(0,Lv.jsxs)(KT.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.5},className:"flex items-start text-gray-400",children:[(0,Lv.jsx)("span",{className:"text-yellow-400 mr-2",children:"\u2022"}),"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e \u043b\u0443\u0447\u0448\u0435\u043c \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0435 \u0432 Telegram-\u043a\u0430\u043d\u0430\u043b"]}),(0,Lv.jsxs)(KT.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.6},className:"flex items-start text-gray-400",children:[(0,Lv.jsx)("span",{className:"text-yellow-400 mr-2",children:"\u2022"}),'\u0414\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 Telegram \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 "Telegram"']})]})]})]})})},pC=()=>{const[e,t]=(0,i.useState)({botToken:"",channelId:"",enabled:!1}),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1);(0,i.useEffect)((()=>{h()}),[]);const h=async()=>{try{r(!0);const e=await sC();t(e)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 Telegram:",e),Dv.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Telegram")}finally{r(!1)}};return n?(0,Lv.jsx)("div",{className:"flex-1 p-6 flex items-center justify-center",children:(0,Lv.jsxs)(KT.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"animate-pulse text-center",children:[(0,Lv.jsx)("div",{className:"h-8 bg-dark-lighter rounded w-64 mx-auto mb-4"}),(0,Lv.jsx)("div",{className:"h-4 bg-dark-lighter rounded w-48 mx-auto"})]})}):(0,Lv.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,Lv.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Lv.jsx)(KT.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center justify-between mb-8",children:(0,Lv.jsxs)("div",{className:"flex items-center",children:[(0,Lv.jsx)(KT.div,{initial:{rotate:0},animate:{rotate:360},transition:{duration:1},className:"mr-4 text-4xl",children:(0,Lv.jsx)(nS,{className:"text-blue-400"})}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 text-transparent bg-clip-text",children:"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Telegram"}),(0,Lv.jsx)("p",{className:"text-gray-400 mt-1",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e \u0441 Telegram \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"})]})]})}),(0,Lv.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Lv.jsxs)(KT.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/10 to-blue-600/5 rounded-xl blur-xl"}),(0,Lv.jsxs)("div",{className:"relative bg-dark/50 backdrop-blur-xl rounded-xl border border-blue-400/20 overflow-hidden",children:[(0,Lv.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-400/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),(0,Lv.jsx)("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-blue-600/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),(0,Lv.jsxs)("div",{className:"relative p-8",children:[(0,Lv.jsxs)("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[(0,Lv.jsx)(TS,{className:"text-blue-400 mr-3"}),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Telegram"]}),(0,Lv.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{a(!0),await(async e=>{try{return await Xy(iC,e),e}catch(t){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 Telegram:",t),t}})(e),Dv.success("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Telegram \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a Telegram:",n),Dv.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Telegram")}finally{a(!1)}},className:"space-y-6",children:[(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2",htmlFor:"botToken",children:"\u0422\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(yS,{className:"text-gray-500"})}),(0,Lv.jsx)("input",{id:"botToken",type:"text",value:e.botToken,onChange:n=>t({...e,botToken:n.target.value}),className:"w-full bg-dark/50 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-blue-400/50 transition-colors",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430",disabled:s})]}),(0,Lv.jsx)("p",{className:"mt-1 text-sm text-gray-400",children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0442\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430 \u0447\u0435\u0440\u0435\u0437 @BotFather \u0432 Telegram"})]}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2",htmlFor:"channelId",children:"ID \u043a\u0430\u043d\u0430\u043b\u0430"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(fS,{className:"text-gray-500"})}),(0,Lv.jsx)("input",{id:"channelId",type:"text",value:e.channelId,onChange:n=>t({...e,channelId:n.target.value}),className:"w-full bg-dark/50 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-blue-400/50 transition-colors",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: @your_channel \u0438\u043b\u0438 -1001234567890",disabled:s})]}),(0,Lv.jsx)("p",{className:"mt-1 text-sm text-gray-400",children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 @username \u043a\u0430\u043d\u0430\u043b\u0430 \u0438\u043b\u0438 \u0435\u0433\u043e \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 ID"})]}),(0,Lv.jsx)("div",{children:(0,Lv.jsxs)(KT.label,{className:"flex items-center cursor-pointer group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,Lv.jsx)(KT.div,{className:"mr-3",animate:{rotate:e.enabled?360:0,scale:e.enabled?[1,1.2,1]:1},transition:{duration:.3},children:e.enabled?(0,Lv.jsx)(PS,{className:"text-blue-400 text-3xl"}):(0,Lv.jsx)(AS,{className:"text-gray-500 text-3xl"})}),(0,Lv.jsx)("span",{className:"text-gray-300 group-hover:text-white transition-colors",children:e.enabled?"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430":"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430"}),(0,Lv.jsx)("input",{type:"checkbox",className:"hidden",checked:e.enabled,onChange:()=>{t({...e,enabled:!e.enabled})},disabled:s})]})}),(0,Lv.jsxs)(KT.button,{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-blue-400 to-blue-600 text-white rounded-lg font-medium flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg hover:shadow-blue-400/20 transition-all",disabled:s,whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,Lv.jsx)(nS,{className:"mr-2"}),s?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"]})]})]})]})]}),(0,Lv.jsxs)(KT.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"space-y-6",children:[(0,Lv.jsx)("div",{className:"bg-dark/50 backdrop-blur-xl rounded-xl border border-white/5 overflow-hidden",children:(0,Lv.jsxs)("div",{className:"p-8",children:[(0,Lv.jsxs)("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[(0,Lv.jsx)(ES,{className:"text-blue-400 mr-3"}),"\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"]}),(0,Lv.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o.trim())try{u(!0);await aC(o)?(Dv.success("\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"),l("")):Dv.warning("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Telegram")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f:",t),Dv.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")}finally{u(!1)}else Dv.warning("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")},className:"space-y-4",children:[(0,Lv.jsx)("div",{children:(0,Lv.jsx)("textarea",{value:o,onChange:e=>l(e.target.value),className:"w-full bg-dark/50 border border-white/10 rounded-lg p-4 text-white placeholder-gray-500 focus:outline-none focus:border-blue-400/50 transition-colors h-32 resize-none",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0432 Telegram...",disabled:c||!e.enabled})}),(0,Lv.jsxs)(KT.button,{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-blue-400 to-blue-600 text-white rounded-lg font-medium flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg hover:shadow-blue-400/20 transition-all",disabled:c||!e.enabled,whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,Lv.jsx)(nS,{className:"mr-2"}),c?"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430...":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"]}),!e.enabled&&(0,Lv.jsxs)(KT.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center justify-center text-yellow-500 text-sm mt-2",children:[(0,Lv.jsx)(gS,{className:"mr-2"}),"\u0414\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e"]})]})]})}),(0,Lv.jsx)("div",{className:"bg-dark/50 backdrop-blur-xl rounded-xl border border-white/5 overflow-hidden",children:(0,Lv.jsxs)("div",{className:"p-8",children:[(0,Lv.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center",children:[(0,Lv.jsx)("span",{className:"text-xl mr-2",children:"\ud83d\udca1"}),"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u043f\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435"]}),(0,Lv.jsx)("ol",{className:"space-y-4",children:["\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0431\u043e\u0442\u0430 \u0447\u0435\u0440\u0435\u0437 @BotFather \u0432 Telegram",'\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0442\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430 \u0438 \u0432\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0435\u0433\u043e \u0432 \u043f\u043e\u043b\u0435 "\u0422\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430"',"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043a\u0430\u043d\u0430\u043b \u0432 Telegram \u0438\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439","\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432\u0430\u0448\u0435\u0433\u043e \u0431\u043e\u0442\u0430 \u0432 \u043a\u0430\u043d\u0430\u043b \u043a\u0430\u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",'\u0423\u043a\u0430\u0436\u0438\u0442\u0435 @username \u043a\u0430\u043d\u0430\u043b\u0430 \u0438\u043b\u0438 \u0435\u0433\u043e \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 ID \u0432 \u043f\u043e\u043b\u0435 "ID \u043a\u0430\u043d\u0430\u043b\u0430"',"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e, \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0442\u0443\u043c\u0431\u043b\u0435\u0440","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"].map(((e,t)=>(0,Lv.jsxs)(KT.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1*t},className:"flex items-start text-gray-400",children:[(0,Lv.jsxs)("span",{className:"text-blue-400 mr-2 font-bold",children:[t+1,"."]}),e]},t)))}),(0,Lv.jsx)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"mt-6 p-4 bg-blue-900/30 border border-blue-800 rounded-lg",children:(0,Lv.jsxs)("p",{className:"text-blue-300 text-sm",children:[(0,Lv.jsx)("strong",{children:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435:"})," \u0414\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 Telegram Bot API \u0432 \u043f\u0440\u043e\u0434\u0430\u043a\u0448\u0435\u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0443\u044e \u0447\u0430\u0441\u0442\u044c (Cloud Functions), \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430 \u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0435."]})})]})})]})]})]})})},mC=()=>{const[e,t]=(0,i.useState)({companyLogo:"",headerText:"",telegramChannel:"",managerContacts:[]}),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(!1);(0,i.useEffect)((()=>{o()}),[]);const o=async()=>{try{r(!0);const e=await rC();t(e)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:",e),Dv.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0430\u0439\u0442\u0430")}finally{r(!1)}},l=(n,r,i)=>{const s=[...e.managerContacts];s[n]={...s[n],[r]:i},t({...e,managerContacts:s})};return n?(0,Lv.jsx)("div",{className:"flex-1 p-6 flex items-center justify-center",children:(0,Lv.jsxs)("div",{className:"animate-pulse text-center",children:[(0,Lv.jsx)("div",{className:"h-8 bg-dark-lighter rounded w-64 mx-auto mb-4"}),(0,Lv.jsx)("div",{className:"h-4 bg-dark-lighter rounded w-48 mx-auto"})]})}):(0,Lv.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,Lv.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Lv.jsx)(KT.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-2xl font-bold text-white mb-6",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0430\u0439\u0442\u0430"}),(0,Lv.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{a(!0),await(async e=>{try{const t={...e};return await Xy(YS,t),t}catch(t){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:",t),t}})(e),await o(),Dv.success("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0430\u0439\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:",n),Dv.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0430\u0439\u0442\u0430")}finally{a(!1)}},children:[(0,Lv.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Lv.jsxs)(KT.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-dark rounded-xl p-6",children:[(0,Lv.jsxs)("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[(0,Lv.jsx)(mS,{className:"text-primary mr-2"}),"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"]}),(0,Lv.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,Lv.jsx)("div",{className:"mb-4",children:(0,Lv.jsx)("img",{src:e.companyLogo||"https://via.placeholder.com/200x60?text=Logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"h-32 w-auto object-contain bg-dark-lighter p-2 rounded-md",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/200x60?text=Logo"}})}),(0,Lv.jsxs)("div",{className:"w-full",children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2",htmlFor:"companyLogo",children:"URL \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u0430"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(xS,{className:"text-gray-500"})}),(0,Lv.jsx)("input",{id:"companyLogo",type:"text",value:e.companyLogo,onChange:n=>t({...e,companyLogo:n.target.value}),className:"input pl-10 w-full",placeholder:"https://example.com/logo.png",disabled:s})]}),(0,Lv.jsx)("p",{className:"mt-1 text-sm text-gray-400",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u0430"})]})]}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2",htmlFor:"headerText",children:"\u0422\u0435\u043a\u0441\u0442 \u0432 \u0448\u0430\u043f\u043a\u0435 \u0441\u0430\u0439\u0442\u0430"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(dS,{className:"text-gray-500"})}),(0,Lv.jsx)("input",{id:"headerText",type:"text",value:e.headerText,onChange:n=>t({...e,headerText:n.target.value}),className:"input pl-10 w-full",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u041a\u043e\u043d\u043a\u0443\u0440\u0441 \u0434\u043b\u044f \u043b\u0443\u0447\u0448\u0438\u0445! \u0421\u0442\u0430\u043d\u044c \u0442\u043e\u043f-\u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u043c \u041f\u0435\u0442\u0440\u043e\u0437\u0430\u0432\u043e\u0434\u0441\u043a\u0430!",disabled:s})]})]})]}),(0,Lv.jsxs)(KT.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-dark rounded-xl p-6",children:[(0,Lv.jsxs)("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[(0,Lv.jsx)(cS,{className:"text-primary mr-2"}),"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"]}),(0,Lv.jsxs)("div",{className:"mb-6",children:[(0,Lv.jsx)("label",{className:"block text-gray-300 mb-2",htmlFor:"telegramChannel",children:"Telegram \u043a\u0430\u043d\u0430\u043b"}),(0,Lv.jsxs)("div",{className:"relative",children:[(0,Lv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Lv.jsx)(nS,{className:"text-gray-500"})}),(0,Lv.jsx)("input",{id:"telegramChannel",type:"text",value:e.telegramChannel,onChange:n=>t({...e,telegramChannel:n.target.value}),className:"input pl-10 w-full",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: @your_channel",disabled:s})]}),(0,Lv.jsx)("p",{className:"mt-1 text-sm text-gray-400",children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 @username \u0432\u0430\u0448\u0435\u0433\u043e Telegram \u043a\u0430\u043d\u0430\u043b\u0430"})]}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Lv.jsx)("label",{className:"block text-gray-300",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432"}),(0,Lv.jsxs)("button",{type:"button",onClick:()=>{t({...e,managerContacts:[...e.managerContacts,{type:"phone",value:""}]})},className:"text-primary hover:text-primary-light flex items-center text-sm",disabled:s,children:[(0,Lv.jsx)(kS,{className:"mr-1"}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"]})]}),0===e.managerContacts.length?(0,Lv.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"\u041d\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"}):(0,Lv.jsx)("div",{className:"space-y-3 mb-4",children:e.managerContacts.map(((n,r)=>(0,Lv.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Lv.jsxs)("select",{value:n.type,onChange:e=>l(r,"type",e.target.value),className:"input w-24",disabled:s,children:[(0,Lv.jsx)("option",{value:"phone",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,Lv.jsx)("option",{value:"email",children:"Email"})]}),(0,Lv.jsx)("input",{type:"text",value:n.value,onChange:e=>l(r,"value",e.target.value),className:"input flex-1",placeholder:"phone"===n.type?"+7 (XXX) XXX-XX-XX":"email@example.com",disabled:s}),(0,Lv.jsx)("button",{type:"button",onClick:()=>(n=>{const r=[...e.managerContacts];r.splice(n,1),t({...e,managerContacts:r})})(r),className:"text-red-500 hover:text-red-400",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",disabled:s,children:(0,Lv.jsx)(RS,{})})]},r)))})]})]})]}),(0,Lv.jsx)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mt-6",children:(0,Lv.jsx)("button",{type:"submit",className:"btn btn-primary w-full md:w-auto",disabled:s,children:s?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})]})]})})},gC=()=>(0,Lv.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-dark-darker via-dark to-dark-darker",children:[(0,Lv.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,Lv.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-primary/5 to-transparent"}),(0,Lv.jsx)("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),(0,Lv.jsx)("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-secondary/5 rounded-full blur-3xl"}),(0,Lv.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,.01)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,.01)_1px,transparent_1px)] bg-[size:100px_100px] [mask-image:radial-gradient(ellipse_50%_50%_at_50%_50%,#000_70%,transparent_100%)]"})]}),(0,Lv.jsxs)("div",{className:"relative flex min-h-screen",children:[(0,Lv.jsx)(qS,{}),(0,Lv.jsx)("div",{className:"flex-1 flex flex-col",children:(0,Lv.jsxs)(ve,{children:[(0,Lv.jsx)(ge,{path:"/",element:(0,Lv.jsxs)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"flex-1 flex flex-col",children:[(0,Lv.jsx)(WS,{title:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"}),(0,Lv.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,Lv.jsx)(oC,{})})]})}),(0,Lv.jsx)(ge,{path:"/promoters",element:(0,Lv.jsxs)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"flex-1 flex flex-col",children:[(0,Lv.jsx)(WS,{title:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u0430\u043c\u0438"}),(0,Lv.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,Lv.jsx)(uC,{})})]})}),(0,Lv.jsx)(ge,{path:"/top-promoter",element:(0,Lv.jsxs)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"flex-1 flex flex-col",children:[(0,Lv.jsx)(WS,{title:"\u041b\u0443\u0447\u0448\u0438\u0439 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440 \u043c\u0435\u0441\u044f\u0446\u0430"}),(0,Lv.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,Lv.jsx)(fC,{})})]})}),(0,Lv.jsx)(ge,{path:"/telegram",element:(0,Lv.jsxs)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"flex-1 flex flex-col",children:[(0,Lv.jsx)(WS,{title:"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Telegram"}),(0,Lv.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,Lv.jsx)(pC,{})})]})}),(0,Lv.jsx)(ge,{path:"/settings",element:(0,Lv.jsxs)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"flex-1 flex flex-col",children:[(0,Lv.jsx)(WS,{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0430\u0439\u0442\u0430"}),(0,Lv.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,Lv.jsx)(mC,{})})]})}),(0,Lv.jsx)(ge,{path:"*",element:(0,Lv.jsx)(me,{to:"/admin",replace:!0})})]})})]})]}),yC=()=>{const[e,t]=(0,i.useState)({companyLogo:"",headerText:"\u041a\u043e\u043d\u043a\u0443\u0440\u0441 \u0434\u043b\u044f \u043b\u0443\u0447\u0448\u0438\u0445! \u0421\u0442\u0430\u043d\u044c \u0442\u043e\u043f-\u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u043c \u041f\u0435\u0442\u0440\u043e\u0437\u0430\u0432\u043e\u0434\u0441\u043a\u0430!"}),{currentUser:n,logout:r}=Mv();(0,i.useEffect)((()=>{(async()=>{try{const e=await rC();t(e)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:",e)}})()}),[]);return(0,Lv.jsx)("header",{className:"bg-dark shadow-lg",children:(0,Lv.jsxs)("div",{className:"container mx-auto px-4 py-4 flex flex-col md:flex-row items-center justify-between",children:[(0,Lv.jsx)("div",{className:"flex items-center mb-4 md:mb-0",children:(0,Lv.jsx)(Yv,{to:"/",children:(0,Lv.jsxs)(KT.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex items-center",children:[(0,Lv.jsx)("img",{src:e.companyLogo||"data:image/png;base64,//4hBD4ENwQ0BDAENQQ8BCAAPwRDBEEEQgQ+BDkEIABEBDAEOQQ7BCAANAQ7BE8EIAA4BDcEPgQxBEAEMAQ2BDUEPQQ4BE8EIAA/BD4EIABDBDwEPgQ7BEcEMAQ9BDgETgQNAAoA",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"h-12 w-auto mr-3"}),(0,Lv.jsxs)("h1",{className:"text-2xl font-bold text-white",children:[(0,Lv.jsx)("span",{className:"text-primary",children:"\u041f\u0440\u043e\u043c\u043e"}),(0,Lv.jsx)("span",{className:"text-secondary",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"})]})]})})}),(0,Lv.jsxs)(KT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-center md:text-right",children:[(0,Lv.jsx)("p",{className:"text-lg md:text-xl font-medium text-neon mb-2",children:e.headerText}),n?(0,Lv.jsxs)("div",{className:"flex items-center justify-center md:justify-end space-x-4",children:[(0,Lv.jsx)(Yv,{to:"/admin",className:"btn btn-primary text-sm",children:"\u0410\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c"}),(0,Lv.jsx)("button",{onClick:async()=>{try{await r()}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435:",e)}},className:"btn bg-dark-lighter hover:bg-dark text-sm",children:"\u0412\u044b\u0439\u0442\u0438"})]}):(0,Lv.jsx)(Yv,{to:"/login",className:"text-primary hover:text-primary-light text-sm transition-colors",children:"\u0412\u0445\u043e\u0434 \u0434\u043b\u044f \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432"})]})]})})},vC=()=>{const[e,t]=(0,i.useState)({telegramChannel:"",managerContacts:[]});return(0,i.useEffect)((()=>{(async()=>{try{const e=await rC();t(e)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:",e)}})()}),[]),(0,Lv.jsx)("footer",{className:"bg-dark-darker py-8 border-t border-gray-800",children:(0,Lv.jsx)("div",{className:"container mx-auto px-4",children:(0,Lv.jsxs)(KT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col md:flex-row justify-between items-center",children:[(0,Lv.jsxs)("div",{className:"mb-6 md:mb-0",children:[(0,Lv.jsxs)("h3",{className:"text-xl font-bold mb-3 text-white",children:[(0,Lv.jsx)("span",{className:"text-primary",children:"\u041f\u0440\u043e\u043c\u043e"}),(0,Lv.jsx)("span",{className:"text-secondary",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"})]}),(0,Lv.jsxs)("p",{className:"text-gray-400 text-sm",children:["\xa9 ",(new Date).getFullYear()," \u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u0440\u043e\u043c\u043e\u0443\u0442\u0435\u0440\u043e\u0432 \u041f\u0435\u0442\u0440\u043e\u0437\u0430\u0432\u043e\u0434\u0441\u043a\u0430"]})]}),(0,Lv.jsxs)("div",{className:"flex flex-col items-center md:items-end",children:[e.telegramChannel&&(0,Lv.jsxs)("a",{href:`https://t.me/${e.telegramChannel.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-primary hover:text-primary-light mb-3 transition-colors",children:[(0,Lv.jsx)(nS,{className:"mr-2"}),(0,Lv.jsx)("span",{children:"\u041d\u0430\u0448 Telegram-\u043a\u0430\u043d\u0430\u043b"})]}),e.managerContacts&&e.managerContacts.length>0&&(0,Lv.jsxs)("div",{className:"text-center md:text-right",children:[(0,Lv.jsx)("h4",{className:"text-gray-300 mb-2",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432:"}),(0,Lv.jsx)("ul",{children:e.managerContacts.map(((e,t)=>(0,Lv.jsxs)("li",{className:"text-gray-400 flex items-center mb-1",children:["phone"===e.type&&(0,Lv.jsx)(NS,{className:"mr-2 text-xs"}),"email"===e.type&&(0,Lv.jsx)(hS,{className:"mr-2 text-xs"}),(0,Lv.jsx)("span",{children:e.value})]},t)))})]})]})]})})})},xC=()=>(0,Lv.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,Lv.jsx)(yC,{}),(0,Lv.jsx)("main",{className:"flex-grow container mx-auto px-4 py-12 flex items-center justify-center",children:(0,Lv.jsxs)(KT.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center",children:[(0,Lv.jsx)("h1",{className:"text-6xl md:text-8xl font-bold text-neon mb-4",children:"404"}),(0,Lv.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-6",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),(0,Lv.jsx)("p",{className:"text-gray-400 mb-8 max-w-md mx-auto",children:"\u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b \u0438\u0449\u0435\u0442\u0435, \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043b\u0438 \u0431\u044b\u043b\u0430 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0430."}),(0,Lv.jsx)(Yv,{to:"/",className:"btn btn-primary inline-block",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})}),(0,Lv.jsx)(vC,{})]}),bC=e=>{let{children:t}=e;const{currentUser:n}=Mv();return n?t:(0,Lv.jsx)(me,{to:"/login",replace:!0})};const wC=function(){return(0,Lv.jsx)("div",{className:"min-h-screen bg-gradient-dark",children:(0,Lv.jsxs)(ve,{children:[(0,Lv.jsx)(ge,{path:"/",element:(0,Lv.jsx)(tx,{})}),(0,Lv.jsx)(ge,{path:"/login",element:(0,Lv.jsx)(MS,{})}),(0,Lv.jsx)(ge,{path:"/admin/*",element:(0,Lv.jsx)(bC,{children:(0,Lv.jsx)(gC,{})})}),(0,Lv.jsx)(ge,{path:"*",element:(0,Lv.jsx)(xC,{})})]})})};a.createRoot(document.getElementById("root")).render((0,Lv.jsx)(i.StrictMode,{children:(0,Lv.jsx)(Kv,{children:(0,Lv.jsxs)(Vv,{children:[(0,Lv.jsx)(wC,{}),(0,Lv.jsx)(kv,{position:"bottom-right",autoClose:3e3})]})})}))})();
//# sourceMappingURL=main.158d2ee3.js.map